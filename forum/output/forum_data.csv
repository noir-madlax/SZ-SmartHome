author,content,crawl_time,page_num,post_id,post_time,post_url,reply_count,title,view_count
lhdbx,,2025-07-24T19:53:13.378097,1,29624,发表于 2025-6-22 16:54:40,https://bbs.hassbian.com/thread-29624-1-1.html,,求好用的zigbee平价设备接入Z2M,
author,content,crawl_time,page_num,post_id,post_time,post_url,reply_count,title,view_count
lhdbx,,2025-07-24T19:53:47.314305,1,29624,发表于 2025-6-22 16:54:40,https://bbs.hassbian.com/thread-29624-1-1.html,,求好用的zigbee平价设备接入Z2M,
wdmywm3,哎……zigbee现在就是这样，东西少，要么就是贵…… 我仅有的几个zigbee开关也都是aqara的 除此以外还是用小米蓝牙mesh的开关多，主要还是有些新的实在漂亮，忍不住……,2025-07-24T19:53:47.315732,,29624,,,,,
lhdbx,wdmywm3 发表于 2025-6-22 17:15 哎……zigbee现在就是这样，东西少，要么就是贵…… 我仅有的几个zigbee开关也都是aqara的 除此以外还是用 ... 对呀，我本来想着zigbee开关覆盖到位，然后就可以配传感器。都说zigbee省电，而且稳定。 可是我部署好了基础覆盖，突然发现 没啥推荐的传感器。烦死了 我限制是2个多模2，覆盖全家，gw3接入灯和窗帘。感觉还不如开关也米家算了，也能蓝牙全本地覆盖，为了zigbee买了绿米，搞得家里2套系统。 我都觉得傻了 浪费钱 现在骑虎难下,2025-07-24T19:53:47.316191,,29624,,,,,
qjrxsoft,"lhdbx 发表于 2025-6-22 17:22 对呀，我本来想着zigbee开关覆盖到位，然后就可以配传感器。都说zigbee省电，而且稳定。 可是我部署好了 ... 哥们及时止损吧，我也是zigbee过度到米家蓝牙mesh的，我之前比任何人都推崇zigbee，入坑zigbee之后才明白各种苦，后面果断换米家蓝牙mesh，我的开关全是绿米的D1,一咬牙我全丢小黄鱼，亏死我了，智能家居对于我来说是实用品而不是玩具，追求的是稳定、可靠、性价比、少折腾。",2025-07-24T19:53:47.316442,,29624,,,,,
lichao622,相信我，要用zigbee就用绿米的，涂鸦的，或者杂七杂八的不要用。。。。,2025-07-24T19:53:47.316648,,29624,,,,,
gx19970920,"你如果想入坑zigbee，就一定要买aqara的，长供电的中继器可以选择其他品牌的，比如水阀，墙面插座之类的，但是用电池的传感器一定要选aqara 登录/注册后可看大图 image.png (236.3 KB, 下载次数: 0) 下载附件 2025-6-23 08:38 上传",2025-07-24T19:53:47.316826,,29624,,,,,
lhdbx,gx19970920 发表于 2025-6-23 08:38 你如果想入坑zigbee，就一定要买aqara的，长供电的中继器可以选择其他品牌的，比如水阀，墙面插座之类的， ... 已经入坑了 我就想着有退路，所以开关都买了零火得绿米D1，这样就算不用z2M了，小米多模2也能用，再不济跟你一样咸鱼卖了，卖是真卖得快。 之前一直刷论坛，觉得Z2M好厉害，又有拓扑图，又全能接入，好好。然后执着Z2M 突然装完才发现，并没有什么好产品推荐接入 还得买米家得蓝牙mash传感器，我的zigbee网络覆盖不是废了嘛 电池的传感器一定要选aqara 确定好用嘛？省电又准确？ 推荐几个呗 现在已经下不了车了,2025-07-24T19:53:47.317011,,29624,,,,,
gx19970920,lhdbx 发表于 2025-6-23 08:47 已经入坑了 我就想着有退路，所以开关都买了零火得绿米D1，这样就算不用z2M了，小米多模2也能用，再不济 ... 其实aqara的传感器就那么几个类型：温湿度，水浸，光照，门窗，我就用了这些传感器，都是直接搜aqara买就行，,2025-07-24T19:53:47.317215,,29624,,,,,
lhdbx,lichao622 发表于 2025-6-22 22:10 相信我，要用zigbee就用绿米的，涂鸦的，或者杂七杂八的不要用。。。。 是的 我之前看欧瑞博质感好，也买来Z2M接入 发现第一个没问题 好像是HA1.2协议 然后后面买的都不好用，要么只能识别状态，不能远程控制，要么自己每隔半小时自己开关一下，有毒。 涂鸦我不知道买哪个型号呀，求推荐呀 好多接入之后，有按钮，但是都是没用功能的 返回都是错误 求推荐 或则带转换器的,2025-07-24T19:53:47.317412,,29624,,,,,
lhdbx,qjrxsoft 发表于 2025-6-22 21:21 哥们及时止损吧，我也是zigbee过度到米家蓝牙mesh的，我之前比任何人都推崇zigbee，入坑zigbee之后才明白 ... 哎 别说了 已经入坑了 还不想放弃 。 我折腾装完都花了一个月 好不容易全屋覆盖了zigbee网络 还有就是奇怪，传感器不能漫游，比如绿米无线开关，我拿到任何地方它都无法就今中继，99方的房子显示都质量特别弱 zigbee不是应该优势就是信号传递吗,2025-07-24T19:53:47.317601,,29624,,,,,
author,content,crawl_time,page_num,post_id,post_time,post_url,reply_count,title,view_count
lhdbx,,2025-07-24T20:03:06.759726,1,29624,发表于 2025-6-23 08:57:01,https://bbs.hassbian.com/thread-29624-2-1.html,,求好用的zigbee平价设备接入Z2M,
kmart,lhdbx 发表于 2025-6-23 08:57 我看你的图 还行确实都是绿米，不过我感觉绿米是不是传感器中继有问题 不太好， 你多少方？几个zigbee ... 玩了几年的zigbee经验，要稳定而且信号好，全部都使用aqara的产品，网关也使用aqara的网关！ 再回答一下中继的问题，只有接入了零火线的设备才能中继，单火以及电池的设备没有中继功能！,2025-07-24T20:03:06.761513,,29624,,,,,
lhdbx,kmart 发表于 2025-6-23 09:26 玩了几年的zigbee经验，要稳定而且信号好，全部都使用aqara的产品，网关也使用aqara的网关！ 再回答一下 ... 绿米零活D1 你看我拓扑图 用aqara网关了，那我心心念念的Z2M就没用了 那不是直接绿米了 都没其他了,2025-07-24T20:03:06.762452,,29624,,,,,
gx19970920,lhdbx 发表于 2025-6-23 09:36 绿米零活D1 你看我拓扑图 用aqara网关了，那我心心念念的Z2M就没用了 网关你可以买冬瓜的z2m网关，比较好,2025-07-24T20:03:06.763067,,29624,,,,,
lhdbx,gx19970920 发表于 2025-6-23 10:10 网关你可以买冬瓜的z2m网关，比较好 已经搭建好啦 就差比较性价比 非常兼容z2M的传感器了,2025-07-24T20:03:06.763430,,29624,,,,,
lichao622,lhdbx 发表于 2025-6-23 08:50 是的 我之前看欧瑞博质感好，也买来Z2M接入 发现第一个没问题 好像是HA1.2协议 然后后面买的都不好用 ... 我的意思是只能是用绿米的，涂鸦的别用。真的，我就踩坑了涂鸦的。。。。哈哈,2025-07-24T20:03:06.763804,,29624,,,,,
lichao622,lichao622 发表于 2025-6-23 10:50 我的意思是只能是用绿米的，涂鸦的别用。真的，我就踩坑了涂鸦的。。。。哈哈 ... 我是逐步把所有zigbee设备换成绿米的后就稳定了,2025-07-24T20:03:06.764179,,29624,,,,,
gasment,是不是有点过于执着信号覆盖了。。。,2025-07-24T20:03:06.764472,,29624,,,,,
lhdbx,lichao622 发表于 2025-6-23 10:50 我的意思是只能是用绿米的，涂鸦的别用。真的，我就踩坑了涂鸦的。。。。哈哈 ... 你这意思 就是不要Z2M了，都全是绿米了 还不知直接aqara,2025-07-24T20:03:06.764738,,29624,,,,,
lhdbx,gasment 发表于 2025-6-23 11:03 是不是有点过于执着信号覆盖了。。。 那也是论坛忽悠的 说什么信号稳定 什么本地直连 什么耗电少 一套一套的 吹Z2M 真坑 都没有一套完整的方案,2025-07-24T20:03:06.765000,,29624,,,,,
liyong763435720,,2025-07-24T20:03:10.794112,1,25894,发表于,https://bbs.hassbian.com/thread-25894-38-1.html,,消逝-手机端（更新2025-07-05）,
peng_jia,谢谢分享，正在学习,2025-07-24T20:03:10.795315,,25894,,,,,
a5824420,收藏一下，正好需要,2025-07-24T20:03:10.796703,,25894,,,,,
zjksjf,感觉是个大工程,2025-07-24T20:03:12.523117,,25894,,,,,
明明洋洋,大佬牛逼,2025-07-24T20:03:12.523639,,25894,,,,,
w954095886,谢谢分享参考下,2025-07-24T20:03:12.524011,,25894,,,,,
xiangboshi,完成度这么高，真大佬了,2025-07-24T20:03:12.524369,,25894,,,,,
liyw168,谢谢分享,2025-07-24T20:03:12.524719,,25894,,,,,
LinkStart_Pai,太好了，学习一下,2025-07-24T20:03:12.525063,,25894,,,,,
wlhl1001,大神求教，這個怎麽設置，怎麽弄,2025-07-24T20:03:12.525426,,25894,,,,,
aiqinxuancai,,2025-07-24T20:03:24.767392,1,29901,发表于,https://bbs.hassbian.com/thread-29901-1-1.html,,设定晚上自动调空调但有时触发有时又不触发,
george65,你那個持續了22:00是要持續22小時才會觸發嗎??,2025-07-24T20:03:24.768587,,29901,,,,,
author,content,crawl_time,floor_num,post_id,reply_id,reply_time
tianzhuang55,厉害厉害，马上试试,2025-07-24T20:12:40.373086,3,29346,post_676299,发表于 2025-5-23 10:09:47
taida,谢谢，我看看呢,2025-07-24T20:12:40.374648,5,29346,post_676302,发表于 2025-5-23 10:14:15
miniknife,感谢楼主提供,2025-07-24T20:12:40.374974,7,29346,post_676308,发表于 2025-5-23 10:38:57
nichen24,厉害厉害，马上试试,2025-07-24T20:12:40.375218,9,29346,post_676314,发表于 2025-5-23 10:47:12
silas3082,厉害了大佬,2025-07-24T20:12:40.375438,11,29346,post_676316,发表于 2025-5-23 10:52:37
2511418386,13213213123213123213,2025-07-24T20:12:40.375646,13,29346,post_676318,发表于 2025-5-23 10:55:47
LJCAD,厉害了大佬,2025-07-24T20:12:40.375852,15,29346,post_676322,发表于 2025-5-23 11:15:38
coolguy,厉害厉害，马上试试,2025-07-24T20:12:40.376048,17,29346,post_676329,发表于 2025-5-23 11:41:55
shay,这应该是终极形态了，我那帖子得改改标题了,2025-07-24T20:12:40.376334,19,29346,post_676337,发表于 2025-5-23 12:35:58
hungheo,"本帖最后由 hungheo 于 2024-7-27 15:32 编辑 一、布局： 1、button card的默认布局，如下图： 登录/注册后可看大图 屏幕截图 2024-07-27 110105.png (78.25 KB, 下载次数: 0) 下载附件 2024-7-27 12:53 上传 card：最外层卡片 container：grid布局 img_cell：图标或图片，里面还有icon标签 name：名称 state：状态 label：标签 设置显示与不显示，对应的true或者false就行 2、styles设置 2.1、grid设置 在grid里面，“i”对应img_cell，“n”对应name，“s”对应state，“l”对应label 调整grid-template-area的值就能对各个div进行调整，代码： type: custom:button-card entity: sensor.a4c138d5271a_temperature show_name: true show_icon: true show_state: true show_label: true label: 这是lebel styles: grid: - grid-template-areas: | ""i n"" ""i s"" ""i l"" - grid-template-rows: 1fr min-content min-content - grid-template-columns: min-content 1fr; img_cell: - width: 40px - height: 40px 复制代码 grid-template-rows：调整行距离 grid-template-columns：调整列距离 常用的是：min-content（最小的合适空间），1fr（1倍剩余空间，也可以是0.5fr），或者固定大小（50px）,或者百分比（20%）grid里面还有其他的属性可以设置，比如居中、对齐、线间距等等，具体可以AI工具搜：CSS grid属性 个人习惯： 宽度一般不用px设置，这样在不同的手机屏幕就可以自动适应宽度 调整后效果： 登录/注册后可看大图 屏幕截图 2024-07-27 111820.png (36.81 KB, 下载次数: 0) 下载附件 2024-7-27 12:25 上传 2.2、其他标签设置 card、name、state、img_cell、icon、label、custom_fields 都可以设置对应的css样式 具体有哪些，可以浏览器F12，选中标签，然后计算样式里面都有 登录/注册后可看大图 屏幕截图 2024-07-27 123141.png (37.1 KB, 下载次数: 0) 下载附件 2024-7-27 12:32 上传 修改下之前的代码： type: custom:button-card entity: sensor.a4c138d5271a_temperature show_name: true show_icon: true show_state: true show_label: true label: ，这个温度太热啦 styles: grid: - grid-template-areas: | ""i n n"" ""i s l"" - grid-template-rows: 1fr min-content - grid-template-columns: min-content min-content 1fr; card: - padding: 8px img_cell: - width: 40px - height: 40px - background: rgba(139,195,74,0.2) - border-radius: 50% - margin-right: 8px icon: - width: 24px - height: 24px - color: var(--green-color) name: - justify-self: flex-start - font-size: 14px - font-weight: 600 state: - justify-self: flex-start - font-size: 12px label: - justify-self: flex-start - font-size: 12px 复制代码 类似mushroom card的template card的样式卡片效果就出来了 登录/注册后可看大图 屏幕截图 2024-07-27 123538.png (7.12 KB, 下载次数: 0) 下载附件 2024-7-27 12:36 上传 2.3、自定义布局 主要参考这位UI大神的技巧分享： https://bbs.hassbian.com/thread-25964-1-1.html 设置布局时， grid-template-areas里面的相同区域必须是矩形 ，其他的根据个人需求 比如，模仿户型图： type: custom:button-card styles: grid: - grid-template-areas: | ""a1 z1 z1 a2 a3 d1 d1 a4 a5 k k k"" ""z2 z2 z2 z2 a3 d d d a5 k k k"" ""a7 a7 a7 z3 a3 a6 a6 a6 a5 k k k"" ""p p a8 z3 a3 k1 k1 k1 k1 k k k"" ""p p a9 a9 a9 a9 a9 a9 a9 k k k"" ""b1 b1 b1 x x x b4 c b5 k k k"" ""b1 b1 b1 x x x b4 b6 b5 b7 b8 k2"" ""b1 b1 b1 c1 c1 c1 c1 f f f b8 k2"" ""b1 b1 b1 b2 f1 f1 f1 f f f b8 b9"" - grid-template-columns: 5px 20px 5px 15px 5px 20px 5px 20px 5px 25px 5px 20px - grid-template-rows: 10px 55px 5px 15px 5px 35px 5px 5px 25px card: - width: 150px - height: 160px - background-color: rgba(0,0,0,0) custom_fields: k: #区域代号 card: # ......这个区域的卡片 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 130825.png (75.97 KB, 下载次数: 0) 下载附件 2024-7-27 13:09 上传 2.4、custom_fields自定义区域 在styles下的时候，可以自定义某个区域的css属性 和styles同级的时候，可以自定义某个区域的内容，可以是html标签、可以是card等等 代码： type: custom:button-card show_icon: false show_state: false show_name: false styles: grid: - grid-template-areas: | ""weather sun person1 person2"" ""info info info info"" ""card1 card1 card1 card1"" ""card2 card2 card2 card2"" ""card3 card3 card3 card3"" ""card4 card4 card4 card4"" - grid-template-columns: min-content 1fr 38px 38px - grid-template-rows: 55px min-content 1fr card: - padding: 8px custom_fields: #自定义区域的属性 sun: #sun区域的属性 - justify-self: center #让sun这个区域的内容，水平居中 - align-self: flex-start #让sun这个区域的内容，垂直方向，在最顶上 card1: #card1区域属性 - display: ""[[[ return states['input_boolean.xinxi_xiangqing'].state == 'on' ? 'block' : 'none' ]]]"" #如果是开则显示card1、是关不显示card1 custom_fields: #自定义区域的内容 sun: #自定义区域名称 card: #区域的类型 type: custom:button-card entity: sun.sun show_icon: true show_name: false show_state: true # .....该卡片其他属性 card1: card: type: custom:button-card entity: sensor.youjia template: entity_card icon: mdi:gas-station name: 92#油价 label: | [[[ return `${states['sensor.youjia'].attributes[92]}元/L`]]] variables: icon_color: var(--green-color) # .......区域内容 复制代码 PS：display这个属性很好玩，可以实现收起、展开效果 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 134955.png (40.92 KB, 下载次数: 0) 下载附件 2024-7-27 13:51 上传 登录/注册后可看大图 屏幕截图 2024-07-27 134925.png (13.24 KB, 下载次数: 0) 下载附件 2024-7-27 14:00 上传",2025-07-24T20:12:43.143866,3,26299,post_619303,发表于 2024-7-27 12:36:11
hungheo,"replyreload += ',' + 619322; 本帖最后由 hungheo 于 2025-3-2 12:51 编辑 2、template模板 这个功能很强大！！ 可以追加、覆盖、套嵌等等 如果用到变量处理，不支持jinja2模板，只支持JavaScript！ 2.1、 基本结构 #template结构 button_card_templates: #顶格 some_template: #模板名称 show_name: true name: 这是模板里面的名称 styles: icon: - color: '[[[return variables.icon_color]]]' #这里的variables.icon_color是模板内的变量， #......其他内容 #template使用 type: custom:button-card entity: sensor.a4c13801e940_temperature show_label: true name: 这是card的名称 #相同的name，template里面的name的内容，在这里被替换掉 label: > #entity.state，因为之前定义了entity: sensor.a4c13801e940_temperature，所以这里等效于states.['sensor.a4c13801e940_temperature'].state ]]] if(entity.state > 30) return ""好热啊"" [[[ template: some_template #引用模板 variables: icon_color: red #设定变量值 复制代码 2.2、 template追加、覆盖、多级引用 可以创建多个template模板，然后一起引用，template的内容追加上去，重复定义的根据顺序也会覆盖掉 比如：. 游客，如果您要查看本帖隐藏内容请 回复 上面定义了3个template title是最基础的 title_popup引用了title模板，并且追加了文字是带阴影 title_button是custom_fields的内容 应用起来就是： 1、引用最基础的title： type: custom:button-card name: 餐厅 label: 子擎存在传感器 template: title 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 143746.png (12.01 KB, 下载次数: 0) 下载附件 2024-7-27 14:38 上传 2、追加一个title_button template引用分先后的，这里要先引用title，再是title_button，因为title是card主体，title_button是追加部分 type: custom:button-card name: 主卧 template: - title #它先 - title_button #这个是追加上去的 variables: turn_on: script.turn_on_auto_light_zhuwo turn_off: script.turn_off_auto_light_zhuwo 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 144258.png (23.96 KB, 下载次数: 0) 下载附件 2024-7-27 14:44 上传 3、多级引用 type: custom:button-card template: - title_popup #这个模板引用了title模板 - title_button #这个是追加上去的 name: 客厅 label: > [[[return Number(states['sensor.ke_ting_kai_deng_shu_liang'].state) + ""个灯开着"";]]] variables: turn_on: script.turn_on_light_keting turn_off: script.turn_off_light_keting 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 144821.png (29.76 KB, 下载次数: 0) 下载附件 2024-7-27 14:49 上传",2025-07-24T20:12:43.145744,5,26299,post_619322,发表于 2024-7-27 14:22:51
hungheo,"本帖最后由 hungheo 于 2024-7-27 21:09 编辑 3、template使用中的几个小注意 3.1、状态的表达方式 return states['switch.myswitch'].state // 这样写能正确显示 // 下面这样写会报错 const test = switch.myswitch return states[test].state 复制代码 3.2、variables：以字母顺序来确定是否可以引用 ### 这个是能引用的 variables: index: 2 value: '[[[ return variables.index + 2; ]]]' name: '[[[ return variable.value; ]]]' # 输出 4 因为i在v前，所以value能继承index的值 ### 这个是不能引用的 variables: z_index: 2 value: '[[[ return variables.z_index + 2; ]]]' # 错误 因为v在z前，所以value不能继承z-index的值 name: '[[[ return variable.value; ]]]' 复制代码 3.3、entity的使用位置 button card中如果定义了entity，在JavaScript模板中是可以直接用entity接属性直接用的，但是要注意一下 多级button card情况下 type: custom:button-card entity: light.649e3186d9cd_light show_state: true show_label: true label: '[[[ return entity.entity_id ]]]' styles: grid: - grid-template-areas: | ""i n a"" ""i s a"" ""i l a"" - grid-template-columns: min-content 0.5fr 0.5fr - grid-template-rows: 1fr custom_fields: a: card: type: custom:button-card entity: sensor.a4c138d5271a_temperature show_state: true show_label: true label: '[[[ return entity.entity_id ]]]' 复制代码 一级、二级的label都会显示一级的entity_id 如图： 登录/注册后可看大图 屏幕截图 2024-07-27 205515.png (38.58 KB, 下载次数: 0) 下载附件 2024-7-27 20:55 上传 如果想要用本级card的entity_id。要么在card前面加上 do_not_eval:true ，要么用 template模板 ...... custom_fields: a: do_not_eval: true card: type: custom:button-card entity: sensor.a4c138d5271a_temperature ....... 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 210026.png (38.61 KB, 下载次数: 0) 下载附件 2024-7-27 21:01 上传",2025-07-24T20:12:43.146240,7,26299,post_619335,发表于 2024-7-27 15:35:08
hungheo,"本帖最后由 hungheo 于 2024-7-27 22:44 编辑 4、一些有意思的模板卡片 4.1、自动生成看板小图标 这个是照搬UI-Lovelace-Minimalist，精简了一些内容。 button_card_templates: row_pill: show_icon: false show_name: true show_label: false variables: #想要更多这里再加entity_? entity_1: entity_id: """" name: """" icon: """" color: """" entity_2: entity_id: """" name: """" icon: """" color: """" entity_3: entity_id: """" name: """" icon: """" color: """" entity_4: entity_id: """" name: """" icon: """" color: """" entity_5: entity_id: """" name: """" icon: """" color: """" styles: grid: - grid-template-areas: > [[[ var pills = [] const entities = [variables.entity_1?.entity_id, variables.entity_2?.entity_id, variables.entity_3?.entity_id, variables.entity_4?.entity_id, variables.entity_5?.entity_id] //想要更多这里再加variables function entity_check(item) { if (item != """") { pills.push(""item"" + (pills.length+1)) } } entities.forEach(entity_check) return pills.join("" "") ]]] - display: flex - grid-template-rows: min-content - justify-content: space-evenly card: - background: none - box-shadow: none - broder: 0px - border-radius: none - padding: 12px - overflow: visible custom_fields: item1: - display: ""[[[ return (variables.entity_1.entity_id != '') ? 'block' : 'none' ]]]"" item2: - display: ""[[[ return (variables.entity_2.entity_id != '') ? 'block' : 'none' ]]]"" item3: - display: ""[[[ return (variables.entity_3.entity_id != '') ? 'block' : 'none' ]]]"" item4: - display: ""[[[ return (variables.entity_4.entity_id != '') ? 'block' : 'none' ]]]"" item5: - display: ""[[[ return (variables.entity_5.entity_id != '') ? 'block' : 'none' ]]]"" item6: - display: ""[[[ return (variables.entity_6.entity_id != '') ? 'block' : 'none' ]]]"" item7: - display: ""[[[ return (variables.entity_7.entity_id != '') ? 'block' : 'none' ]]]"" custom_fields: item1: card: type: ""custom:button-card"" template: ""pill"" variables: ""[[[ return variables.entity_1; ]]]"" entity: ""[[[ return variables.entity_1.entity_id ]]]"" name: ""[[[ return variables.entity_1.name ]]]"" icon: ""[[[ return variables.entity_1.icon ]]]"" color: ""[[[ return variables.entity_1.color ]]]"" item2: card: type: ""custom:button-card"" template: ""pill"" variables: ""[[[ return variables.entity_2; ]]]"" entity: ""[[[ return variables.entity_2.entity_id ]]]"" name: ""[[[ return variables.entity_2.name ]]]"" icon: ""[[[ return variables.entity_2.icon ]]]"" color: ""[[[ return variables.entity_2.color ]]]"" item3: card: type: ""custom:button-card"" template: ""pill"" variables: ""[[[ return variables.entity_3; ]]]"" entity: ""[[[ return variables.entity_3.entity_id ]]]"" name: ""[[[ return variables.entity_3.name ]]]"" icon: ""[[[ return variables.entity_3.icon ]]]"" color: ""[[[ return variables.entity_3.color ]]]"" item4: card: type: ""custom:button-card"" template: ""pill"" variables: ""[[[ return variables.entity_4; ]]]"" entity: ""[[[ return variables.entity_4.entity_id ]]]"" name: ""[[[ return variables.entity_4.name ]]]"" icon: ""[[[ return variables.entity_4.icon ]]]"" color: ""[[[ return variables.entity_4.color ]]]"" item5: card: type: ""custom:button-card"" template: ""pill"" variables: ""[[[ return variables.entity_5; ]]]"" entity: ""[[[ return variables.entity_5.entity_id ]]]"" name: ""[[[ return variables.entity_5.name ]]]"" icon: ""[[[ return variables.entity_5.icon ]]]"" color: ""[[[ return variables.entity_5.color ]]]"" #椭圆形图标 pill: styles: grid: - grid-template-areas: '""i"" ""n""' - grid-template-columns: 54px - grid-template-rows: 54px min-content card: - border-radius: 50px - place-self: center - width: 54px - height: 84px - padding: 0px icon: - color: '[[[ return variables?.color ]]]' - width: 24px img_cell: - background-color: '[[[return ""color-mix(in srgb, ""+ variables?.color +"" 20%, transparent)"" ]]]' - border-radius: 50% - width: 42px - height: 42px name: - justify-self: center - font-weight: bold - font-size: 12px state: - value: 'off' styles: card: - height: 54px name: - display: none tap_action: action: more-info 复制代码 模板只编辑5个小图标，想要多少照着格式改下就行。 引用代码： type: custom:button-card template: row_pill #template名称 variables: entity_1: entity_id: sensor.0x00158d000444b5af_humidity name: 湿度 icon: mdi:water color: var(--light-green-color) #这里涉及到计算透明背景，只能用var(--颜色名称-color)，等效于light-green entity_2: entity_id: sensor.0x00158d000444b5af_humidity name: 湿度 icon: mdi:bed color: var(--light-blue-color) entity_3: entity_id: sensor.0x00158d000444b5af_humidity name: 湿度 icon: mdi:lightbulb color: var(--red-color) entity_4: entity_id: sensor.0x00158d000444b5af_humidity name: 湿度 icon: '' color: var(--orange-color) #......,总共有5个，如果只想要4个，最后一个不定义就可以 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 221450.png (25.23 KB, 下载次数: 0) 下载附件 2024-7-27 22:15 上传 4.2、仿homekit灯卡片 跟button card作者的GitHub上的示例一样的，多了根据灯的样式，自动选择图标和显示不同类型的灯的详情 代码： button_card_templates: light_card: #仿HomeKit卡模板 show_state: false show_icon: true show_name: true icon: > #根据不同的名称，返回不同的图标 [[[ var friendlyName = entity.attributes.friendly_name; if (friendlyName.includes('灯带')) return 'mdi:led-strip-variant'; //检测包含文字 else if (entity.entity_id.includes('auto_light')) return 'mdi:lightbulb-auto'; //检测包含文字 else if (friendlyName.includes('吸顶灯')) return 'mdi:wall-sconce-flat'; //检测包含文字 else if (friendlyName.includes('射灯')) return 'mdi:track-light'; //检测包含文字 else if (friendlyName.includes('床头灯')) return 'mdi:lamp'; //检测包含文字 else if (friendlyName.includes('浴霸')) return 'mdi:light-recessed'; //检测包含文字 else if (friendlyName.includes('插座')) return 'mdi:power-socket-us'; //检测包含文字 else return 'mdi:lightbulb'; ]]] label: > #根据不同的类型，返回不同的详情状态 [[[ if (entity.entity_id.startsWith('light.')) { if (entity.state === ""on"") { if (entity.attributes.color_temp_kelvin) return `开 ${entity.attributes.color_temp_kelvin}k ${Math.floor(entity.attributes.brightness * 100 / 255)}%`; else return '开启'; } if (entity.state === ""off"") return '关闭'; } else if (entity.entity_id.startsWith('switch.')) { if (entity.state === ""on"") return '开启'; if (entity.state === ""off"") return '关闭'; } else if (entity.entity_id.includes('auto_light')) { if (entity.state === ""on"") return '开启'; if (entity.state === ""off"") return '关闭'; } return '错误'; ]]] show_label: true grid: - grid-template-areas: '""i"" ""n"" ""s""' - grid-template-columns: 1fr - grid-template-rows: 1fr min-content min-content styles: label: - font-size: 12px - justify-self: start - padding-left: 10px card: - width: 90px - height: 90px img_cell: - justify-content: flex-start icon: - padding-left: 5px name: - justify-self: start - padding-left: 10px - font-weight: bold - font-size: 14px state: - value: 'off' styles: icon: - color: var(--light-grey-color) name: - color: var(--light-grey-color) label: - color: var(--light-grey-color) #使用： type: custom:button-card entity: switch.6cd3eec81262_channel_1 name: 客厅射灯 template: light_card 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 222440.png (52.78 KB, 下载次数: 0) 下载附件 2024-7-27 22:25 上传 4.3、light卡片模板 我用的是乐式的驱动，比米家的多了一个灯光模式选择，自己加了自动调光的开关按钮 代码： button_card_templates: light_ls_card: #乐式灯卡片模板 show_icon: false show_name: false show_state: false styles: grid: - grid-template-areas: | ""x a c z d y"" ""x w w w w y"" ""x b b b b y"" - grid-template-columns: 4% 1fr 120px 15px 40px 4% - grid-template-rows: 40px 5px 50px custom_fields: a: #灯光图标、详情 card: type: custom:button-card entity: '[[[ return entity.entity_id ]]]' #这里的entity是为了点击图标开关灯 show_icon: true show_state: false show_name: true show_label: true icon: mdi:lightbulb name: '[[[ return variables.light_name ]]]' #这里的name因为这里是二级card label: > [[[ if (entity.state == ""on"") return '开启 ' + entity.attributes.color_temp_kelvin + 'k ' + Math.floor(entity.attributes.brightness *100 / 255) + '%'; //计算取整 else if (entity.state == ""off"") return '关闭'; else return '错误' ]]] styles: grid: - grid-template-areas: | ""i a n"" ""i a s"" ""i a l"" - grid-template-rows: 1fr min-content 1fr; - grid-template-columns: 40px 5px 1fr; card: - height: 40px - padding: 0px - box-shadow: none - border-radius: 0px - border: 0px - background: none icon: - width: 24px - height: 24px - padding: 8px - border-radius: 50% - color: orange - background: rgb(255, 152, 0, 0.2) name: - font-size: 14px - justify-self: flex-start label: - font-size: 12px - justify-self: flex-start state: - value: 'on' styles: icon: - background: rgba(255, 152, 0, 0.2) - color: orange - value: 'off' styles: icon: - background: rgb(158, 158, 158,0.2) - color: rgb(158, 158, 158) b: #亮度色温控制 card: type: custom:mushroom-light-card primary_info: none secondary_info: none icon_type: none show_brightness_control: true show_color_temp_control: true entity: '[[[ return entity.entity_id ]]]' card_mod: style: | ha-card { padding: 0px !important; border-radius: 0px !important; border: 0px !important; margin: 0px !important; box-shadow: none !important; } c: #模式选择 card: type: custom:mushroom-select-card entity: '[[[ return variables.light_select ]]]' primary_info: none secondary_info: none icon_type: none card_mod: style: | ha-card { padding: 0px !important; border-radius: 0px !important; border: 0px !important; margin: 0px !important; --mdc-theme-surface: white !important; background: white !important; box-shadow: none !important; overflow: visible !important; } d: #自动调光开关 card: type: custom:button-card entity: '[[[ return variables.light_auto ]]]' tap_action: action: toggle show_icon: true show_name: false show_state: false icon: mdi:lightbulb-auto styles: grid: - grid-template-areas: '""i""' - grid-template-columns: 40px - grid-template-rows: 40px card: - padding: 0px - background: none - border-radius: 12px - box-shadow: none - background: none img_cell: - border-radius: 12px icon: - width: 24px state: - value: 'on' styles: img_cell: - background: rgb(255, 152, 0, 0.2) icon: - color: rgb(255, 152, 0) - value: 'off' styles: img_cell: - background: rgb(158, 158, 158, 0.1) icon: - color: rgb(158, 158, 158) #使用 type: custom:button-card entity: light.b850d8174501_light template: light_ls_card variables: light_name: 吸顶灯 light_select: select.b850d8174501_mode light_auto: input_boolean.auto_light_zhuwo_xidingdeng 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 223148.png (25.11 KB, 下载次数: 0) 下载附件 2024-7-27 22:32 上传 4.3、两种样式卡片互相切换 这个用到之前提到的display属性，关灯的时候一种卡片样式，开灯的时候一种卡片样式 结合之前的仿HomeKit卡片和light卡片的模板 代码： button_card_templates: light_card_exchange: show_icon: false show_state: false show_name: false styles: grid: - grid-template-areas: '""b"" ""d""' - grid-template-columns: 1fr - grid-template-rows: 1fr card: - padding: 0px - broder: 0px - margin: 0px - background: none - border-radius: 0px - box-shadow: none - overflow: visible custom_fields: b: - display: > #block显示，none不显示 [[[ return entity.state == ""on"" ? ""block"" : ""none"" ]]] d: - padding-top: 10px - display: > [[[ return entity.state == ""off"" ? ""block"" : ""none"" ]]] custom_fields: b: card: type: custom:button-card entity: '[[[return entity.entity_id]]]' template: light_ls_card #引用模板 variables: light_name: '[[[return variables.light_name]]]' light_select: '[[[return variables.light_select]]]' light_auto: '[[[return variables.light_auto]]]' d: card: type: custom:button-card name: '[[[return variables.light_name]]]' entity: '[[[return entity.entity_id]]]' template: light_card #引用模板 #使用 type: custom:button-card entity: light.dced830254b8_light template: light_card_exchange variables: light_name: 吸顶灯 light_select: select.dced830254b8_mode light_auto: input_boolean.auto_light_keting_xidingdeng 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 224332.png (172.45 KB, 下载次数: 0) 下载附件 2024-7-27 22:44 上传 未完待续。。。。",2025-07-24T20:12:43.146658,9,26299,post_619336,发表于 2024-7-27 15:36:23
ck3,大佬，pad ui教程能分享吗,2025-07-24T20:12:43.147963,11,26299,post_619359,发表于 2024-7-27 17:24:21
hungheo,ck3 发表于 2024-7-27 17:24 大佬，pad ui教程能分享吗 我也是参考别人的，原贴链接在这里： https://bbs.hassbian.com/thread-25894-1-1.html 难点不是代码，是彩平图，图标等等，CAD图纸是自己画的，彩平图是淘宝10块别人帮忙弄的，图标搞了好几天，找个图标制作网站，自己慢慢拼出来的,2025-07-24T20:12:43.148208,13,26299,post_619381,发表于 2024-7-27 19:41:10
hhh.,大量使用button-card，配合mushroom-card，刷新界面，会出现不显示icon，楼主有遇到过吗？,2025-07-24T20:12:43.148449,15,26299,post_619384,发表于 2024-7-27 20:15:50
hungheo,hhh. 发表于 2024-7-27 20:15 大量使用button-card，配合mushroom-card，刷新界面，会出现不显示icon，楼主有遇到过吗？ 我用了几种mushroom卡片：entity， climate，light，chips这些，也用card-mod。 其他的全是button card，最多套到了5层。 也遇到过加载不出来，要刷新很多次才显示，或者偶尔能加载出来。 好像是button card的问题，也有说用了card-mod或者browser-mod才出现。 F12看控制台，一般就是： TypeError: Cannot read properties of undefined (reading 'style') Uncaught (in promise) TypeError: e.setConfig is not a function 这个得慢慢找，清空缓存，或者隐身模式，找到了把他们放在template模板里面大多都能能解决,2025-07-24T20:12:43.148669,17,26299,post_619391,发表于 2024-7-27 21:18:53
hhh.,hungheo 发表于 2024-7-27 21:18 我用了几种mushroom卡片：entity， climate，light，chips这些，也用card-mod。 其他的全是button card， ... 单独使用没有任何问题，只要在button-card中使用mushroom的卡片，就会出现这种问题，应该与其他卡片无关，就是按钮卡片和蘑菇卡片相互不兼容。 我现在想的就是尽量少用第三方卡片，多用原生卡片，按钮卡片，卡片模组辅助。 确实，这个问题的慢慢找，而且错误较多，得一一排查。,2025-07-24T20:12:43.148923,19,26299,post_619392,发表于 2024-7-27 21:29:31
launze,感谢！一直用的这个插件,2025-07-24T20:12:44.904626,3,24610,post_590276,发表于 2024-3-21 12:28:34
zxyny1989,谢谢大佬分享，可惜我用的高恪,2025-07-24T20:12:44.905723,5,24610,post_590280,发表于 2024-3-21 12:34:45
adxr,zxyny1989 发表于 2024-3-21 12:34 谢谢大佬分享，可惜我用的高恪 高格也差不多的，抓一下包改一下,2025-07-24T20:12:44.906166,7,24610,post_590282,发表于 2024-3-21 12:41:14
QQ617250210,感谢分项，我用的是爱快的集成，也挺好用的,2025-07-24T20:12:44.906548,9,24610,post_590285,发表于 2024-3-21 13:34:28
隔壁的王叔叔,直接用ha就行了呗，为嘛还通过mqtt中转一下呢？,2025-07-24T20:12:44.906914,11,24610,post_590296,发表于 2024-3-21 14:24:24
4303279,不知道用个能不能进入TP-LINK,2025-07-24T20:12:44.907283,13,24610,post_590305,发表于 2024-3-21 14:45:37
SuperGabriel,感谢分享，学习一下，正好看看能不能使用,2025-07-24T20:12:44.907590,15,24610,post_590355,发表于 2024-3-21 16:41:50
ldj,来研究一下,2025-07-24T20:12:44.907891,17,24610,post_590539,发表于 2024-3-22 03:08:13
silang521,我的不能直接导入,2025-07-24T20:12:44.908188,19,24610,post_590776,发表于 2024-3-22 20:56:49
wubit,HA专属装备 - - - - WS2812可寻址多彩LED灯控制器 [修改],2025-07-24T20:12:48.045813,3,29853,post_686617,发表于
wubit,怎么才能让ws2812灯带显示时钟呢,2025-07-24T20:12:48.046496,5,29853,post_686618,发表于
sorrypqa,本帖最后由 sorrypqa 于 2025-7-21 18:08 编辑 wubit 发表于 2025-7-21 18:02 怎么才能让ws2812灯带显示时钟呢 LED要按数字笔段排列才行！,2025-07-24T20:12:48.046865,7,29853,post_686621,发表于
a_dongde,这么强悍？,2025-07-24T20:12:48.047216,9,29853,post_686623,发表于
sorrypqa,a_dongde 发表于 2025-7-21 18:23 这么强悍？ 是的，这固件的功能非常强大！,2025-07-24T20:12:48.047529,11,29853,post_686625,发表于
daifhfh,LED要按数字笔段排列才行！,2025-07-24T20:12:48.047823,13,29853,post_686639,发表于
qiyong0401,谢楼主分享,2025-07-24T20:12:48.048104,15,29853,post_686643,发表于
guxiaoqi2007,WS2812可寻址多彩LED灯控制器 [,2025-07-24T20:12:48.048374,17,29853,post_686667,发表于
TianYa,谢楼主分享,2025-07-24T20:12:48.048660,19,29853,post_686712,发表于
zonglong,"本帖最后由 zonglong 于 2024-9-11 13:30 编辑 不需要编程器固件去烧写到 flash, 在 uboot 烧回写 rootfs 就可, 不用全烧写 fatload mmc 0:1 0x21000000 rootfs_new.bin sf probe sf erase 0x250000 0x69E000 sf write 0x21000000 0x250000 0x69E000 复制代码",2025-07-24T20:12:48.884335,3,26386,post_621564,发表于 2024-8-6 10:31:11
tianzhuang55,这个高端啊,2025-07-24T20:12:48.885287,5,26386,post_621035,发表于 2024-8-3 16:42:07
Dyop,1561561561456dfvs s,2025-07-24T20:12:48.885741,7,26386,post_621051,发表于 2024-8-3 17:58:50
yly,感谢分享，，，，,2025-07-24T20:12:48.886182,9,26386,post_621079,发表于 2024-8-3 22:14:21
mengwenqiang520,围观一下,2025-07-24T20:12:48.886607,11,26386,post_621094,发表于 2024-8-4 00:20:37
xiaomi2024,感谢分享,2025-07-24T20:12:48.886951,13,26386,post_621100,发表于 2024-8-4 01:01:16
silas3082,up能否来个更具体一点的教程，没看明白具体怎么操作,2025-07-24T20:12:48.887280,15,26386,post_621102,发表于 2024-8-4 01:03:05
yxl150985,silas3082 发表于 2024-8-4 01:03 up能否来个更具体一点的教程，没看明白具体怎么操作 稍微写了一下,2025-07-24T20:12:48.887601,17,26386,post_621129,发表于 2024-8-4 08:41:04
suixin45,感谢分享,2025-07-24T20:12:48.887918,19,26386,post_621130,发表于 2024-8-4 09:01:00
silas3082,yxl150985 发表于 2024-8-4 08:41 稍微写了一下 感谢大佬,2025-07-24T20:12:48.888244,21,26386,post_621146,发表于 2024-8-4 10:38:19
573176128,装了可以设置背景图的透明度，底部dock栏也不知道怎么实现,2025-07-24T20:12:50.832123,3,29877,post_686793,发表于
XQapp,"用的是navbar card⬇️ https://github.com/joseluis9595/lovelace-navbar-card 主题大概是Frosted Glass https://github.com/wessamlauf/ho ... ?tab=readme-ov-file .guestviewthumb {margin:10px auto; text-align:center;}.guestviewthumb a {font-size:12px;}.guestviewthumb_cur {cursor:url(""https://www.hasstatic.com/image/common/scf.gif""), default; max-width:100px;}.ie6 .guestviewthumb_cur { width:100px !important;} 登录/注册后可看大图",2025-07-24T20:12:50.832778,5,29877,post_686795,发表于
hassmingovo,bubble card Horizontal buttons stack + 样式应该可以实现,2025-07-24T20:12:50.833162,7,29877,post_686801,发表于
xiaomi2024,这个要用魔法才能访问吧?,2025-07-24T20:12:50.833462,9,29877,post_686806,发表于
frx,xiaomi2024 发表于 2025-7-22 14:50 这个要用魔法才能访问吧? 嗯，可以试试 https://gitee.com/klmahuaw/GitHub520,2025-07-24T20:12:50.833724,11,29877,post_686818,发表于
573176128,Navbar Card，这个你看看是不是,2025-07-24T20:12:50.833997,13,29877,post_686826,发表于
frx,573176128 发表于 2025-7-22 15:44 Navbar Card，这个你看看是不是 装上了，就是他，谢谢啦,2025-07-24T20:12:50.834253,15,29877,post_686828,发表于
冬暖夏凉,xiaomi2024 发表于 2025-7-22 14:50 这个要用魔法才能访问吧? 微软商店搜watt toolkit，这个软件可以给github加速（免费）,2025-07-24T20:12:50.834507,17,29877,post_686837,发表于
xiaomi2024,冬暖夏凉 发表于 2025-7-22 16:35 微软商店搜watt toolkit，这个软件可以给github加速（免费） 这个太麻烦了. 还是gitee好用,2025-07-24T20:12:50.834770,19,29877,post_687108,发表于
Ari,"本帖最后由 Ari 于 2024-7-30 13:44 编辑 好看，正在抄作业，ButtonCardJSTemplateError: TypeError: Cannot read properties of undefined (reading 'state') in 'var state = entity.state; var temp = entity.attributes.current_temperature; if(state == ""heat""...' 啥意思啊。复制到原始配置编辑器最上面了",2025-07-24T20:12:52.369651,3,26328,post_619937,发表于 2024-7-30 13:39:15
suixin45,感谢分享,2025-07-24T20:12:52.371439,5,26328,post_619938,发表于 2024-7-30 13:43:08
yclin20,感谢分享，抄作业抄作业,2025-07-24T20:12:52.371873,7,26328,post_619940,发表于 2024-7-30 13:45:02
xuyunjun,666很不错,2025-07-24T20:12:52.372156,9,26328,post_619941,发表于 2024-7-30 13:47:03
落楓,感谢大佬分享~我来看看帖子里有什么 0.0,2025-07-24T20:12:52.372395,11,26328,post_619942,发表于 2024-7-30 13:49:01
wfy459924951,Ari 发表于 2024-7-30 13:39 好看，正在抄作业，ButtonCardJSTemplateError: TypeError: Cannot read properties of undefined (reading ... 所需卡片都下载了吗？ 下载后刷新下浏览器,2025-07-24T20:12:52.372750,13,26328,post_619943,发表于 2024-7-30 13:49:27
Mqiang115,感谢分享，抄作业抄作业,2025-07-24T20:12:52.373047,15,26328,post_619945,发表于 2024-7-30 13:50:49
Ari,本帖最后由 Ari 于 2024-7-30 13:57 编辑 wfy459924951 发表于 2024-7-30 13:49 所需卡片都下载了吗？ 下载后刷新下浏览器 都下载了，代码1也放在这上面了，可能缓存没缓过来，现在可以用了，能增加调节风速还有什么防直吹的按钮吗,2025-07-24T20:12:52.373286,17,26328,post_619947,发表于 2024-7-30 13:52:40
lsqzxz,谢谢分享,2025-07-24T20:12:52.373534,19,26328,post_619949,发表于 2024-7-30 13:56:03
wdmywm3,我的平板中控放在门口当了几个月的摆设了，先学习一个,2025-07-24T20:12:54.399478,3,22924,post_558412,发表于 2023-10-6 00:50:30
dachandler7,wdmywm3 发表于 2023-10-6 00:50 我的平板中控放在门口当了几个月的摆设了，先学习一个 我在实际使用时，用的最多的其实是小爱音箱，非米家设备通过巴法云可以让小爱音箱来进行控制。平板中控除了装13好看以外，只有在客厅区域内的情况下才会少量使用。,2025-07-24T20:12:54.400000,5,22924,post_558413,发表于 2023-10-6 01:36:57
wdmywm3,dachandler7 发表于 2023-10-6 01:36 我在实际使用时，用的最多的其实是小爱音箱，非米家设备通过巴法云可以让小爱音箱来进行控制。平板中控除 ... 是这样，所以我现在回头琢磨，感觉搞个小米智慧屏6或者8，又或者红米音箱pro8改，有钱的搞个智慧屏10，上墙的效果可能比一个平板更好。 一个是自带miui，比自己diy的终究好看。 另一个是自带小爱音箱，节省一个小爱的空间。,2025-07-24T20:12:54.400285,7,22924,post_558414,发表于 2023-10-6 01:56:32
bugensui,为什么不用官方的app，功能体验不是更好，另外请教下220V转5V的变压器放进86盒，长期通电的情况下，有没有安全隐患,2025-07-24T20:12:54.400550,9,22924,post_558562,发表于 2023-10-6 23:26:28
a_dongde,bugensui 发表于 2023-10-6 23:26 为什么不用官方的app，功能体验不是更好，另外请教下220V转5V的变压器放进86盒，长期通电的情况下，有没有 ... fully kiosk browser 功能里可以调用摄像头，可以实现人来自动亮屏（本人买了个联想小新PAD 2020自带了，使用的免费功能即可）。 220V转5V的变压器放入底盒正常运行一年了，没什么问题，本来现在的带USB口的插座都是一直通电在线的。,2025-07-24T20:12:54.400778,11,22924,post_558583,发表于 2023-10-7 08:40:27
13860605362,我中控直接常亮，控制设备次要的，绝大部分自动化，小部分语音控制。我更多的是用来消息提醒，晒衣服耗材之类的。,2025-07-24T20:12:54.401171,13,22924,post_558591,发表于 2023-10-7 09:51:50
bugensui,a_dongde 发表于 2023-10-7 08:40 fully kiosk browser 功能里可以调用摄像头，可以实现人来自动亮屏（本人买了个联想小新PAD 2020自带了， ... 谢谢大佬，你买的是哪款，能不能分享下，你在用在底盒里接什么传感器用？,2025-07-24T20:12:54.401505,15,22924,post_558596,发表于 2023-10-7 10:23:38
a_dongde,"空白处开关时连接220~5V电源，塞到了底盒里，在HA中写了自动化通断充电。3D打印了一个支架，把原来的开关垫高了，线走支架下穿出来。 登录/注册后可看大图 1697159031653.png (252.16 KB, 下载次数: 0) 下载附件 2023-10-13 09:04 上传",2025-07-24T20:12:54.401829,17,22924,post_559976,发表于 2023-10-13 09:06:19
a_dongde,"bugensui 发表于 2023-10-7 10:23 谢谢大佬，你买的是哪款，能不能分享下，你在用在底盒里接什么传感器用？ ... 空白处开关时连接220~5V电源，塞到了底盒里，在HA中写了自动化通断充电。3D打印了一个支架，把原来的开关垫高了，线走支架下穿出来。 登录/注册后可看大图 1697159031653.png (252.16 KB, 下载次数: 0) 下载附件 2023-10-13 09:07 上传",2025-07-24T20:12:54.402096,19,22924,post_559977,发表于 2023-10-13 09:07:31
ekingfan,本帖最后由 ekingfan 于 2023-1-27 22:12 编辑 谢谢先。type: custom:digital-clock 但时间日期怎么转成中文？要加代码？删除这个代码就是中文的， locale: cn 但怎么怎么设置12小时？,2025-07-24T20:12:56.422062,3,19349,post_507343,发表于 2023-1-27 21:50:50
sorrypqa,我的天呀，天书般的配置，没有注释，完全看不懂。,2025-07-24T20:12:56.422737,5,19349,post_507344,发表于 2023-1-27 22:00:13
zhouxj,学习了，先收藏了，以后有空了再看,2025-07-24T20:12:56.423144,7,19349,post_507351,发表于 2023-1-27 23:11:20
powertnt,学习了，先收藏了,2025-07-24T20:12:56.423446,9,19349,post_507389,发表于 2023-1-28 11:02:19
MX10085,学习了，先收藏了,2025-07-24T20:12:56.423706,11,19349,post_507435,发表于 2023-1-28 14:13:51
angelyangw,sorrypqa 发表于 2023-1-27 22:00 我的天呀，天书般的配置，没有注释，完全看不懂。 看着很复杂，其实所有内容都是图形化的 。。。我是从图形化那里直接copy出来的,2025-07-24T20:12:56.423959,13,19349,post_507493,发表于 2023-1-28 20:24:10
angelyangw,ekingfan 发表于 2023-1-27 21:50 谢谢先。type: custom:digital-clock 但时间日期怎么转成中文？要加代码？删除这个代码就是中文的，locale ... https://moment.github.io/luxon/# ... -strings-for-humans 按这里介绍的 如果你想12小时制 可以用hh 比如 timeFormat: hh:m:s,2025-07-24T20:12:56.424209,15,19349,post_507494,发表于 2023-1-28 20:34:51
ekingfan,angelyangw 发表于 2023-1-28 20:34 https://moment.github.io/luxon/#/formatting?id=tolocalestring-strings-for-humans 按这里介绍的 如果 ... 这个说明我看了， 但不知道怎么改。。。填写在哪里。。。,2025-07-24T20:12:56.424461,17,19349,post_507517,发表于 2023-1-28 23:30:11
astang,留言备用,2025-07-24T20:12:56.424696,19,19349,post_507533,发表于 2023-1-29 08:51:38
to21,你是真玩家,2025-07-24T20:12:58.587802,3,29897,post_687239,发表于
隔壁的王叔叔,无敌了，无敌了。,2025-07-24T20:12:58.588405,5,29897,post_687246,发表于
author,content,crawl_time,page_num,post_id,post_time,post_url,reply_count,title,view_count
sorrypqa,"replyreload += ',' + 686252; 本帖最后由 sorrypqa 于 2025-7-22 12:58 编辑 无意中看到一款大名鼎鼎的WLED固件，所以画了这个WS2812可寻址多彩LED灯控制器玩一玩！ 相关资料： https://kno.wled.ge/ 控制器功能： 1、内置100 多种灯光特效 2、内置数字麦克风，支持音效同步和 50 种调色板 3、具有颜色、效果和分段控制的现代用户界面 4、为 LED 的各个部分设置不同的效果和颜色 5、内置WEB控制台设置页面，可通过网络配置控制器的各种参数 6、接入点和站点模式 - 自动故障安全 AP 7、支持5组LED 输出，支持串联 8、支持 RGBW 灯带 9、最多 250 个用户预设，可轻松保存和加载颜色/效果，支持循环使用。 10、预设可用于自动执行 API 调用 11、夜灯功能（逐渐变暗） 12、支持无线OTA（HTTP + ArduinoOTA），可密码保护 13、可配置模拟时钟 + 支持 Diamex 的 Cronixie 套件 14、可配置自动亮度限制，确保操作更安全 15、基于文件系统的配置，可以更轻松地备份预设和设置 16、支持多个控制器的灯效与颜色实时同步 17、红外遥控器（24 键 RGB） 18、原生HA集成 19、支持MQTT通讯 20、内置20W的同步整流电源模块，可以直接为控制器和LED灯供电。 .guestviewthumb {margin:10px auto; text-align:center;}.guestviewthumb a {font-size:12px;}.guestviewthumb_cur {cursor:url(""https://www.hasstatic.com/image/common/scf.gif""), default; max-width:100px;}.ie6 .guestviewthumb_cur { width:100px !important;} 登录/注册后可看大图 ezgif-713bd380d5641e.gif (4.7 MB, 下载次数: 0) 下载附件 3 天前 上传 控制器PCB布局： 登录/注册后可看大图 SNAG-2025-7-22_0001.png (121.24 KB, 下载次数: 0) 下载附件 前天 12:57 上传 由于暂时用不上红外遥控和数字麦克风，所有没有焊上： 登录/注册后可看大图 20250721_154716.jpg (318.98 KB, 下载次数: 0) 下载附件 3 天前 上传 焊好元件，连接TTL刷机线，就可以直接打开这个地址在线刷写固件： https://install.wled.me/ 登录/注册后可看大图 SNAG-2025-7-21_00001.jpg (115.31 KB, 下载次数: 0) 下载附件 3 天前 上传 刷好固件通电，控制器会发射一个名为“WLED-AP”的配网AP，密码为：wled1234，手机连接此AP进行wifi设置 连接网络后，HA会自动发现设备： 登录/注册后可看大图 SNAG-2025-7-6_00000.jpg (10.2 KB, 下载次数: 0) 下载附件 3 天前 上传 登录/注册后可看大图 SNAG-2025-7-6_00001.jpg (22.28 KB, 下载次数: 0) 下载附件 3 天前 上传 登录/注册后可看大图 SNAG-2025-7-6_00002.jpg (22.08 KB, 下载次数: 0) 下载附件 3 天前 上传 HA里的实体： 登录/注册后可看大图 20250721162558.png (146.33 KB, 下载次数: 0) 下载附件 3 天前 上传 WEB控制台： 登录/注册后可看大图 SNAG-2025-7-21_0001.png (140.66 KB, 下载次数: 0) 下载附件 3 天前 上传 设置菜单： 登录/注册后可看大图 SNAG-2025-7-21_0002.png (86.79 KB, 下载次数: 0) 下载附件 3 天前 上传 WiFi设置界面，可以按+键添加多个WiFi： 登录/注册后可看大图 20250721160937.png (183.52 KB, 下载次数: 0) 下载附件 3 天前 上传 LED和硬件设置界面，可以按+键添加多组LED输出： 登录/注册后可看大图 20250721161021.png (292.54 KB, 下载次数: 0) 下载附件 3 天前 上传 WEB界面设置： 登录/注册后可看大图 20250721161130.png (150.65 KB, 下载次数: 0) 下载附件 3 天前 上传 同步设置界面： 登录/注册后可看大图 20250721161152.png (294.24 KB, 下载次数: 0) 下载附件 3 天前 上传 时间设置界面： 登录/注册后可看大图 20250721161216.png (177.36 KB, 下载次数: 0) 下载附件 3 天前 上传 其它设置界面： 登录/注册后可看大图 20250721161245.png (132.35 KB, 下载次数: 0) 下载附件 3 天前 上传 安全和更新设置界面： 登录/注册后可看大图 20250721161301.png (173.32 KB, 下载次数: 0) 下载附件 3 天前 上传 WS2812控制器的PCB文件和物料清单： 游客，如果您要查看本帖隐藏内容请 回复",2025-07-24T20:18:10.528270,1,29853,发表于,https://bbs.hassbian.com/thread-29853-1-1.html,,HA专属装备 - - - - WS2812可寻址多彩LED灯控制器,
wubit,HA专属装备 - - - - WS2812可寻址多彩LED灯控制器 [修改],2025-07-24T20:18:10.531053,,29853,,,,,
wubit,怎么才能让ws2812灯带显示时钟呢,2025-07-24T20:18:10.532183,,29853,,,,,
sorrypqa,本帖最后由 sorrypqa 于 2025-7-21 18:08 编辑 wubit 发表于 2025-7-21 18:02 怎么才能让ws2812灯带显示时钟呢 LED要按数字笔段排列才行！,2025-07-24T20:18:10.532592,,29853,,,,,
a_dongde,这么强悍？,2025-07-24T20:18:10.532905,,29853,,,,,
sorrypqa,a_dongde 发表于 2025-7-21 18:23 这么强悍？ 是的，这固件的功能非常强大！,2025-07-24T20:18:10.533178,,29853,,,,,
daifhfh,LED要按数字笔段排列才行！,2025-07-24T20:18:10.533545,,29853,,,,,
qiyong0401,谢楼主分享,2025-07-24T20:18:10.533852,,29853,,,,,
guxiaoqi2007,WS2812可寻址多彩LED灯控制器 [,2025-07-24T20:18:10.534471,,29853,,,,,
TianYa,谢楼主分享,2025-07-24T20:18:10.534775,,29853,,,,,
c1pher_小愚,"replyreload += ',' + 676263; 本帖最后由 c1pher_小愚 于 2025-7-21 19:33 编辑 ha-mcp-for-xiaozhi homeassistant 内置mcpserver通过websocket直连小智AI官方服务器， 配置最简单的方案 插件能力介绍 1.HomeAssistant自身作为mcp server 以websocket协议直接对接虾哥服务器，无需中转 2.在一个实体里同时选择多个API组（HomeAssistant自带控制API、用户自己配置的MCPServer）并将它们一起代理给小智 3.支持同时配置多个实体 注意： v0.0.9 版本需要使用2025.7.0及以后版的HomeAssistant， 2025.3-2025.6版本的homeassistant 请使用 v0.0.7 谢谢配合！！！ 操作演示： 控制电视操作： Ha LLM/MCP进阶教程： 文字版 配置演示： 安装方法： 方法 1： HACS安装 游客，如果您要查看本帖隐藏内容请 回复 方法 2：手动安装 游客，如果您要查看本帖隐藏内容请 回复 配置方法 [设置 > 设备与服务 > 添加集成] > 搜索“Mcp” >找到 MCP Server for Xiaozhi 登录/注册后可看大图 8ca5334a2d15f59325f3d5acb12083c8.png (248.99 KB, 下载次数: 0) 下载附件 2025-5-23 01:42 上传 下一步 > 请填写 小智MCP接入点地址 > 提交。 登录/注册后可看大图 6f4b22e8bd8190d4f0faeaba731481f9.png (112.2 KB, 下载次数: 0) 下载附件 2025-5-23 01:42 上传 登录/注册后可看大图 7688349f41b6c0552a47f872507d3447.png (35.45 KB, 下载次数: 0) 下载附件 2025-5-23 01:42 上传 配置完成！！！稍等一分钟后到小智的接入点页面点击刷新，检查状态。 登录/注册后可看大图 bd06b555b9e5c24fbf819c43397c97ee.png (86.4 KB, 下载次数: 0) 下载附件 2025-5-23 01:43 上传 调试说明 1.暴露的工具取决于你公开给Homeassistant语音助手的实体的种类 设置 -> 语音助手 -> 公开 2.尽量使用最新版本的homeassistant，单单看5月版本跟3月版本提供的工具就有明显差异 3.调试时未达到预期，优先看小智的聊天记录，看看小智对这句指令如何处理的，是否有调用homeassistant的工具。 目前已知比较大的问题是灯光控制和音乐控制会和内置的屏幕控制、音乐控制逻辑冲突，需要等下个月虾哥服务器支持内置工具选择后可解。 4.如果流程正确的调用了ha内置的function，可以打开本插件的调试日志再去观测实际的执行情况。",2025-07-24T20:18:12.438849,1,29346,发表于 2025-5-23 10:04:27,https://bbs.hassbian.com/thread-29346-1-1.html,,HomeAssistant内置mcp直连小智AI 【终态】,
tianzhuang55,厉害厉害，马上试试,2025-07-24T20:18:12.440321,,29346,,,,,
taida,谢谢，我看看呢,2025-07-24T20:18:12.440932,,29346,,,,,
miniknife,感谢楼主提供,2025-07-24T20:18:12.441316,,29346,,,,,
nichen24,厉害厉害，马上试试,2025-07-24T20:18:12.441614,,29346,,,,,
silas3082,厉害了大佬,2025-07-24T20:18:12.441881,,29346,,,,,
2511418386,13213213123213123213,2025-07-24T20:18:12.442132,,29346,,,,,
LJCAD,厉害了大佬,2025-07-24T20:18:12.442389,,29346,,,,,
coolguy,厉害厉害，马上试试,2025-07-24T20:18:12.442714,,29346,,,,,
shay,这应该是终极形态了，我那帖子得改改标题了,2025-07-24T20:18:12.442968,,29346,,,,,
yxl150985,"replyreload += ',' + 621006; 本帖最后由 yxl150985 于 2024-8-21 08:48 编辑 本人在mjsxj06cm下测试成功，理论创米通用 注意： 1.rtsp 声音模糊，上来的音频数据是640字节，应该是两路mic，需要进行降噪 2.拆机有风险，谨慎操作 1.按照教程添加开启telnet 2.编译程丢到flash或者sd卡中运行。 云台控制教程： https://github.com/thewh1teagle/xiaomi-1080-360-motor-control.git 教程： 游客，如果您要查看本帖隐藏内容请 回复 github上网友补充的串口位置 登录/注册后可看大图 1722934810485.jpg (167.27 KB, 下载次数: 1) 下载附件 2024-8-6 17:04 上传 没有编程器的可以参考27楼的方法刷入",2025-07-24T20:18:14.469228,1,26386,发表于 2024-8-3 14:19:26,https://bbs.hassbian.com/thread-26386-1-1.html,,小米摄像头开启rtsp（需要拆机修改，spiflash编程器）,
zonglong,"本帖最后由 zonglong 于 2024-9-11 13:30 编辑 不需要编程器固件去烧写到 flash, 在 uboot 烧回写 rootfs 就可, 不用全烧写 fatload mmc 0:1 0x21000000 rootfs_new.bin sf probe sf erase 0x250000 0x69E000 sf write 0x21000000 0x250000 0x69E000 复制代码",2025-07-24T20:18:14.470805,,26386,,,,,
tianzhuang55,这个高端啊,2025-07-24T20:18:14.471299,,26386,,,,,
Dyop,1561561561456dfvs s,2025-07-24T20:18:14.471584,,26386,,,,,
yly,感谢分享，，，，,2025-07-24T20:18:14.471848,,26386,,,,,
mengwenqiang520,围观一下,2025-07-24T20:18:14.472097,,26386,,,,,
xiaomi2024,感谢分享,2025-07-24T20:18:14.472343,,26386,,,,,
silas3082,up能否来个更具体一点的教程，没看明白具体怎么操作,2025-07-24T20:18:14.472590,,26386,,,,,
yxl150985,silas3082 发表于 2024-8-4 01:03 up能否来个更具体一点的教程，没看明白具体怎么操作 稍微写了一下,2025-07-24T20:18:14.472834,,26386,,,,,
suixin45,感谢分享,2025-07-24T20:18:14.473078,,26386,,,,,
silas3082,yxl150985 发表于 2024-8-4 08:41 稍微写了一下 感谢大佬,2025-07-24T20:18:14.473479,,26386,,,,,
wfy459924951,"replyreload += ',' + 619934; 本帖最后由 wfy459924951 于 2024-8-4 17:51 编辑 利用button-card手搓的空调卡片，字体颜色随主题设置自动变化 【2024.8.4更新】 修复了部分主题下空调模式无法正常显示的BUG； 效果展示： .guestviewthumb {margin:10px auto; text-align:center;}.guestviewthumb a {font-size:12px;}.guestviewthumb_cur {cursor:url(""https://www.hasstatic.com/image/common/scf.gif""), default; max-width:100px;}.ie6 .guestviewthumb_cur { width:100px !important;} 登录/注册后可看大图 卡片效果.jpg (330.52 KB, 下载次数: 11) 下载附件 2024-7-30 13:33 上传 使用教程： 用 Decluttering Card将卡片封装了起来便于大家使用，以下是详细步骤： 1、下载所需卡片： 1）Decluttering Card 2）Mushroom Card 3）Button Card 4）Mini-graph-card 5）Card-mod 2、代码导入： 1）打开仪表盘的原始配置编辑器，进入编辑页面 2）光标放到'views:’的上一行，顶格 3）打开 代码 1 ，复制所有代码，粘贴到上一步骤的光标处 3、代码使用： 打开 代码 2 ，复制即可使用，参照下图填入自己的实体 登录/注册后可看大图 使用教程.png (68.2 KB, 下载次数: 13) 下载附件 2024-7-30 13:33 上传 游客，如果您要查看本帖隐藏内容请 回复",2025-07-24T20:18:16.445721,1,26328,发表于 2024-7-30 13:34:48,https://bbs.hassbian.com/thread-26328-1-1.html,,【自制分享】[8.4更新]清爽简洁+自适应主题的空调卡片,
Ari,"本帖最后由 Ari 于 2024-7-30 13:44 编辑 好看，正在抄作业，ButtonCardJSTemplateError: TypeError: Cannot read properties of undefined (reading 'state') in 'var state = entity.state; var temp = entity.attributes.current_temperature; if(state == ""heat""...' 啥意思啊。复制到原始配置编辑器最上面了",2025-07-24T20:18:16.447454,,26328,,,,,
suixin45,感谢分享,2025-07-24T20:18:16.448048,,26328,,,,,
yclin20,感谢分享，抄作业抄作业,2025-07-24T20:18:16.448345,,26328,,,,,
xuyunjun,666很不错,2025-07-24T20:18:16.448600,,26328,,,,,
落楓,感谢大佬分享~我来看看帖子里有什么 0.0,2025-07-24T20:18:16.448897,,26328,,,,,
wfy459924951,Ari 发表于 2024-7-30 13:39 好看，正在抄作业，ButtonCardJSTemplateError: TypeError: Cannot read properties of undefined (reading ... 所需卡片都下载了吗？ 下载后刷新下浏览器,2025-07-24T20:18:16.449285,,26328,,,,,
Mqiang115,感谢分享，抄作业抄作业,2025-07-24T20:18:16.449583,,26328,,,,,
Ari,本帖最后由 Ari 于 2024-7-30 13:57 编辑 wfy459924951 发表于 2024-7-30 13:49 所需卡片都下载了吗？ 下载后刷新下浏览器 都下载了，代码1也放在这上面了，可能缓存没缓过来，现在可以用了，能增加调节风速还有什么防直吹的按钮吗,2025-07-24T20:18:16.449852,,26328,,,,,
lsqzxz,谢谢分享,2025-07-24T20:18:16.450125,,26328,,,,,
hungheo,"本帖最后由 hungheo 于 2025-5-30 14:54 编辑 之前的手机客户端UI主要用card-mod和Decluttering Card来写的 虽然两个插件都很强大，但是用card-mod来left、right调位置确实调的辛苦 看了这个UI大神的分享：https://bbs.hassbian.com/thread-25894-1-1.html 自己用button card改了之前的UI，感觉舒服很多，尤其是2个不同分辨率的手机同时用一套UI的时候 个人觉得，button card适用于对css不熟悉的，对JavaScript熟悉的 本人不是程序员，纯属个人爱好，之前用nodered学了一点JavaScript，感觉用着还是比较顺畅 AI工具真的很强大，很好用，大部分代码或者问题都是问的AI，我用的是阿里的通义千问 参考链接： 本论坛的UI大神：https://bbs.hassbian.com/thread-25964-1-1.html 玩button card的国外大神：https://github.com/UI-Lovelace-Minimalist/UI 以下是分享的一些认识、技巧： 二楼：button card的基本操作，主要是布局部分 三楼：template模板介绍，简单使用 四楼：template使用中的几个小注意 五楼：一些觉得有意思的卡片模板分享 还在完善中，后面再分享一些自己的总结和基于模板卡片 如果有错误的地方，欢迎指正 有更好的idea，欢迎分享 2024-08-19：完整代码 在19楼 2024-11-15：更新extra_styles使用，在25楼 最后，分享下自己的界面： 手机UI .guestviewthumb {margin:10px auto; text-align:center;}.guestviewthumb a {font-size:12px;}.guestviewthumb_cur {cursor:url(""https://www.hasstatic.com/image/common/scf.gif""), default; max-width:100px;}.ie6 .guestviewthumb_cur { width:100px !important;} 登录/注册后可看大图 屏幕截图 2024-07-27 151911.png (72.95 KB, 下载次数: 0) 下载附件 2024-7-27 15:23 上传 登录/注册后可看大图 屏幕截图 2024-07-27 151931.png (60.54 KB, 下载次数: 0) 下载附件 2024-7-27 15:23 上传 登录/注册后可看大图 屏幕截图 2024-07-27 151948.png (71.72 KB, 下载次数: 0) 下载附件 2024-7-27 15:23 上传 登录/注册后可看大图 屏幕截图 2024-07-27 152113.png (69.01 KB, 下载次数: 0) 下载附件 2024-7-27 15:23 上传 登录/注册后可看大图 屏幕截图 2024-07-27 152135.png (58.77 KB, 下载次数: 0) 下载附件 2024-7-27 15:23 上传 登录/注册后可看大图 屏幕截图 2024-07-27 152412.png (82.25 KB, 下载次数: 0) 下载附件 2024-7-27 15:24 上传 PAD UI 登录/注册后可看大图 屏幕截图 2024-07-27 151802.png (792.7 KB, 下载次数: 1) 下载附件 2024-7-27 15:25 上传",2025-07-24T20:18:18.469807,1,26299,发表于 2024-7-27 12:10:22,https://bbs.hassbian.com/thread-26299-1-1.html,,button card使用分享,
hungheo,"本帖最后由 hungheo 于 2024-7-27 15:32 编辑 一、布局： 1、button card的默认布局，如下图： 登录/注册后可看大图 屏幕截图 2024-07-27 110105.png (78.25 KB, 下载次数: 0) 下载附件 2024-7-27 12:53 上传 card：最外层卡片 container：grid布局 img_cell：图标或图片，里面还有icon标签 name：名称 state：状态 label：标签 设置显示与不显示，对应的true或者false就行 2、styles设置 2.1、grid设置 在grid里面，“i”对应img_cell，“n”对应name，“s”对应state，“l”对应label 调整grid-template-area的值就能对各个div进行调整，代码： type: custom:button-card entity: sensor.a4c138d5271a_temperature show_name: true show_icon: true show_state: true show_label: true label: 这是lebel styles: grid: - grid-template-areas: | ""i n"" ""i s"" ""i l"" - grid-template-rows: 1fr min-content min-content - grid-template-columns: min-content 1fr; img_cell: - width: 40px - height: 40px 复制代码 grid-template-rows：调整行距离 grid-template-columns：调整列距离 常用的是：min-content（最小的合适空间），1fr（1倍剩余空间，也可以是0.5fr），或者固定大小（50px）,或者百分比（20%）grid里面还有其他的属性可以设置，比如居中、对齐、线间距等等，具体可以AI工具搜：CSS grid属性 个人习惯： 宽度一般不用px设置，这样在不同的手机屏幕就可以自动适应宽度 调整后效果： 登录/注册后可看大图 屏幕截图 2024-07-27 111820.png (36.81 KB, 下载次数: 0) 下载附件 2024-7-27 12:25 上传 2.2、其他标签设置 card、name、state、img_cell、icon、label、custom_fields 都可以设置对应的css样式 具体有哪些，可以浏览器F12，选中标签，然后计算样式里面都有 登录/注册后可看大图 屏幕截图 2024-07-27 123141.png (37.1 KB, 下载次数: 0) 下载附件 2024-7-27 12:32 上传 修改下之前的代码： type: custom:button-card entity: sensor.a4c138d5271a_temperature show_name: true show_icon: true show_state: true show_label: true label: ，这个温度太热啦 styles: grid: - grid-template-areas: | ""i n n"" ""i s l"" - grid-template-rows: 1fr min-content - grid-template-columns: min-content min-content 1fr; card: - padding: 8px img_cell: - width: 40px - height: 40px - background: rgba(139,195,74,0.2) - border-radius: 50% - margin-right: 8px icon: - width: 24px - height: 24px - color: var(--green-color) name: - justify-self: flex-start - font-size: 14px - font-weight: 600 state: - justify-self: flex-start - font-size: 12px label: - justify-self: flex-start - font-size: 12px 复制代码 类似mushroom card的template card的样式卡片效果就出来了 登录/注册后可看大图 屏幕截图 2024-07-27 123538.png (7.12 KB, 下载次数: 0) 下载附件 2024-7-27 12:36 上传 2.3、自定义布局 主要参考这位UI大神的技巧分享： https://bbs.hassbian.com/thread-25964-1-1.html 设置布局时， grid-template-areas里面的相同区域必须是矩形 ，其他的根据个人需求 比如，模仿户型图： type: custom:button-card styles: grid: - grid-template-areas: | ""a1 z1 z1 a2 a3 d1 d1 a4 a5 k k k"" ""z2 z2 z2 z2 a3 d d d a5 k k k"" ""a7 a7 a7 z3 a3 a6 a6 a6 a5 k k k"" ""p p a8 z3 a3 k1 k1 k1 k1 k k k"" ""p p a9 a9 a9 a9 a9 a9 a9 k k k"" ""b1 b1 b1 x x x b4 c b5 k k k"" ""b1 b1 b1 x x x b4 b6 b5 b7 b8 k2"" ""b1 b1 b1 c1 c1 c1 c1 f f f b8 k2"" ""b1 b1 b1 b2 f1 f1 f1 f f f b8 b9"" - grid-template-columns: 5px 20px 5px 15px 5px 20px 5px 20px 5px 25px 5px 20px - grid-template-rows: 10px 55px 5px 15px 5px 35px 5px 5px 25px card: - width: 150px - height: 160px - background-color: rgba(0,0,0,0) custom_fields: k: #区域代号 card: # ......这个区域的卡片 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 130825.png (75.97 KB, 下载次数: 0) 下载附件 2024-7-27 13:09 上传 2.4、custom_fields自定义区域 在styles下的时候，可以自定义某个区域的css属性 和styles同级的时候，可以自定义某个区域的内容，可以是html标签、可以是card等等 代码： type: custom:button-card show_icon: false show_state: false show_name: false styles: grid: - grid-template-areas: | ""weather sun person1 person2"" ""info info info info"" ""card1 card1 card1 card1"" ""card2 card2 card2 card2"" ""card3 card3 card3 card3"" ""card4 card4 card4 card4"" - grid-template-columns: min-content 1fr 38px 38px - grid-template-rows: 55px min-content 1fr card: - padding: 8px custom_fields: #自定义区域的属性 sun: #sun区域的属性 - justify-self: center #让sun这个区域的内容，水平居中 - align-self: flex-start #让sun这个区域的内容，垂直方向，在最顶上 card1: #card1区域属性 - display: ""[[[ return states['input_boolean.xinxi_xiangqing'].state == 'on' ? 'block' : 'none' ]]]"" #如果是开则显示card1、是关不显示card1 custom_fields: #自定义区域的内容 sun: #自定义区域名称 card: #区域的类型 type: custom:button-card entity: sun.sun show_icon: true show_name: false show_state: true # .....该卡片其他属性 card1: card: type: custom:button-card entity: sensor.youjia template: entity_card icon: mdi:gas-station name: 92#油价 label: | [[[ return `${states['sensor.youjia'].attributes[92]}元/L`]]] variables: icon_color: var(--green-color) # .......区域内容 复制代码 PS：display这个属性很好玩，可以实现收起、展开效果 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 134955.png (40.92 KB, 下载次数: 0) 下载附件 2024-7-27 13:51 上传 登录/注册后可看大图 屏幕截图 2024-07-27 134925.png (13.24 KB, 下载次数: 0) 下载附件 2024-7-27 14:00 上传",2025-07-24T20:18:18.471431,,26299,,,,,
hungheo,"replyreload += ',' + 619322; 本帖最后由 hungheo 于 2025-3-2 12:51 编辑 2、template模板 这个功能很强大！！ 可以追加、覆盖、套嵌等等 如果用到变量处理，不支持jinja2模板，只支持JavaScript！ 2.1、 基本结构 #template结构 button_card_templates: #顶格 some_template: #模板名称 show_name: true name: 这是模板里面的名称 styles: icon: - color: '[[[return variables.icon_color]]]' #这里的variables.icon_color是模板内的变量， #......其他内容 #template使用 type: custom:button-card entity: sensor.a4c13801e940_temperature show_label: true name: 这是card的名称 #相同的name，template里面的name的内容，在这里被替换掉 label: > #entity.state，因为之前定义了entity: sensor.a4c13801e940_temperature，所以这里等效于states.['sensor.a4c13801e940_temperature'].state ]]] if(entity.state > 30) return ""好热啊"" [[[ template: some_template #引用模板 variables: icon_color: red #设定变量值 复制代码 2.2、 template追加、覆盖、多级引用 可以创建多个template模板，然后一起引用，template的内容追加上去，重复定义的根据顺序也会覆盖掉 比如：. 游客，如果您要查看本帖隐藏内容请 回复 上面定义了3个template title是最基础的 title_popup引用了title模板，并且追加了文字是带阴影 title_button是custom_fields的内容 应用起来就是： 1、引用最基础的title： type: custom:button-card name: 餐厅 label: 子擎存在传感器 template: title 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 143746.png (12.01 KB, 下载次数: 0) 下载附件 2024-7-27 14:38 上传 2、追加一个title_button template引用分先后的，这里要先引用title，再是title_button，因为title是card主体，title_button是追加部分 type: custom:button-card name: 主卧 template: - title #它先 - title_button #这个是追加上去的 variables: turn_on: script.turn_on_auto_light_zhuwo turn_off: script.turn_off_auto_light_zhuwo 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 144258.png (23.96 KB, 下载次数: 0) 下载附件 2024-7-27 14:44 上传 3、多级引用 type: custom:button-card template: - title_popup #这个模板引用了title模板 - title_button #这个是追加上去的 name: 客厅 label: > [[[return Number(states['sensor.ke_ting_kai_deng_shu_liang'].state) + ""个灯开着"";]]] variables: turn_on: script.turn_on_light_keting turn_off: script.turn_off_light_keting 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 144821.png (29.76 KB, 下载次数: 0) 下载附件 2024-7-27 14:49 上传",2025-07-24T20:18:18.472637,,26299,,,,,
hungheo,"本帖最后由 hungheo 于 2024-7-27 21:09 编辑 3、template使用中的几个小注意 3.1、状态的表达方式 return states['switch.myswitch'].state // 这样写能正确显示 // 下面这样写会报错 const test = switch.myswitch return states[test].state 复制代码 3.2、variables：以字母顺序来确定是否可以引用 ### 这个是能引用的 variables: index: 2 value: '[[[ return variables.index + 2; ]]]' name: '[[[ return variable.value; ]]]' # 输出 4 因为i在v前，所以value能继承index的值 ### 这个是不能引用的 variables: z_index: 2 value: '[[[ return variables.z_index + 2; ]]]' # 错误 因为v在z前，所以value不能继承z-index的值 name: '[[[ return variable.value; ]]]' 复制代码 3.3、entity的使用位置 button card中如果定义了entity，在JavaScript模板中是可以直接用entity接属性直接用的，但是要注意一下 多级button card情况下 type: custom:button-card entity: light.649e3186d9cd_light show_state: true show_label: true label: '[[[ return entity.entity_id ]]]' styles: grid: - grid-template-areas: | ""i n a"" ""i s a"" ""i l a"" - grid-template-columns: min-content 0.5fr 0.5fr - grid-template-rows: 1fr custom_fields: a: card: type: custom:button-card entity: sensor.a4c138d5271a_temperature show_state: true show_label: true label: '[[[ return entity.entity_id ]]]' 复制代码 一级、二级的label都会显示一级的entity_id 如图： 登录/注册后可看大图 屏幕截图 2024-07-27 205515.png (38.58 KB, 下载次数: 0) 下载附件 2024-7-27 20:55 上传 如果想要用本级card的entity_id。要么在card前面加上 do_not_eval:true ，要么用 template模板 ...... custom_fields: a: do_not_eval: true card: type: custom:button-card entity: sensor.a4c138d5271a_temperature ....... 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 210026.png (38.61 KB, 下载次数: 0) 下载附件 2024-7-27 21:01 上传",2025-07-24T20:18:18.473383,,26299,,,,,
hungheo,"本帖最后由 hungheo 于 2024-7-27 22:44 编辑 4、一些有意思的模板卡片 4.1、自动生成看板小图标 这个是照搬UI-Lovelace-Minimalist，精简了一些内容。 button_card_templates: row_pill: show_icon: false show_name: true show_label: false variables: #想要更多这里再加entity_? entity_1: entity_id: """" name: """" icon: """" color: """" entity_2: entity_id: """" name: """" icon: """" color: """" entity_3: entity_id: """" name: """" icon: """" color: """" entity_4: entity_id: """" name: """" icon: """" color: """" entity_5: entity_id: """" name: """" icon: """" color: """" styles: grid: - grid-template-areas: > [[[ var pills = [] const entities = [variables.entity_1?.entity_id, variables.entity_2?.entity_id, variables.entity_3?.entity_id, variables.entity_4?.entity_id, variables.entity_5?.entity_id] //想要更多这里再加variables function entity_check(item) { if (item != """") { pills.push(""item"" + (pills.length+1)) } } entities.forEach(entity_check) return pills.join("" "") ]]] - display: flex - grid-template-rows: min-content - justify-content: space-evenly card: - background: none - box-shadow: none - broder: 0px - border-radius: none - padding: 12px - overflow: visible custom_fields: item1: - display: ""[[[ return (variables.entity_1.entity_id != '') ? 'block' : 'none' ]]]"" item2: - display: ""[[[ return (variables.entity_2.entity_id != '') ? 'block' : 'none' ]]]"" item3: - display: ""[[[ return (variables.entity_3.entity_id != '') ? 'block' : 'none' ]]]"" item4: - display: ""[[[ return (variables.entity_4.entity_id != '') ? 'block' : 'none' ]]]"" item5: - display: ""[[[ return (variables.entity_5.entity_id != '') ? 'block' : 'none' ]]]"" item6: - display: ""[[[ return (variables.entity_6.entity_id != '') ? 'block' : 'none' ]]]"" item7: - display: ""[[[ return (variables.entity_7.entity_id != '') ? 'block' : 'none' ]]]"" custom_fields: item1: card: type: ""custom:button-card"" template: ""pill"" variables: ""[[[ return variables.entity_1; ]]]"" entity: ""[[[ return variables.entity_1.entity_id ]]]"" name: ""[[[ return variables.entity_1.name ]]]"" icon: ""[[[ return variables.entity_1.icon ]]]"" color: ""[[[ return variables.entity_1.color ]]]"" item2: card: type: ""custom:button-card"" template: ""pill"" variables: ""[[[ return variables.entity_2; ]]]"" entity: ""[[[ return variables.entity_2.entity_id ]]]"" name: ""[[[ return variables.entity_2.name ]]]"" icon: ""[[[ return variables.entity_2.icon ]]]"" color: ""[[[ return variables.entity_2.color ]]]"" item3: card: type: ""custom:button-card"" template: ""pill"" variables: ""[[[ return variables.entity_3; ]]]"" entity: ""[[[ return variables.entity_3.entity_id ]]]"" name: ""[[[ return variables.entity_3.name ]]]"" icon: ""[[[ return variables.entity_3.icon ]]]"" color: ""[[[ return variables.entity_3.color ]]]"" item4: card: type: ""custom:button-card"" template: ""pill"" variables: ""[[[ return variables.entity_4; ]]]"" entity: ""[[[ return variables.entity_4.entity_id ]]]"" name: ""[[[ return variables.entity_4.name ]]]"" icon: ""[[[ return variables.entity_4.icon ]]]"" color: ""[[[ return variables.entity_4.color ]]]"" item5: card: type: ""custom:button-card"" template: ""pill"" variables: ""[[[ return variables.entity_5; ]]]"" entity: ""[[[ return variables.entity_5.entity_id ]]]"" name: ""[[[ return variables.entity_5.name ]]]"" icon: ""[[[ return variables.entity_5.icon ]]]"" color: ""[[[ return variables.entity_5.color ]]]"" #椭圆形图标 pill: styles: grid: - grid-template-areas: '""i"" ""n""' - grid-template-columns: 54px - grid-template-rows: 54px min-content card: - border-radius: 50px - place-self: center - width: 54px - height: 84px - padding: 0px icon: - color: '[[[ return variables?.color ]]]' - width: 24px img_cell: - background-color: '[[[return ""color-mix(in srgb, ""+ variables?.color +"" 20%, transparent)"" ]]]' - border-radius: 50% - width: 42px - height: 42px name: - justify-self: center - font-weight: bold - font-size: 12px state: - value: 'off' styles: card: - height: 54px name: - display: none tap_action: action: more-info 复制代码 模板只编辑5个小图标，想要多少照着格式改下就行。 引用代码： type: custom:button-card template: row_pill #template名称 variables: entity_1: entity_id: sensor.0x00158d000444b5af_humidity name: 湿度 icon: mdi:water color: var(--light-green-color) #这里涉及到计算透明背景，只能用var(--颜色名称-color)，等效于light-green entity_2: entity_id: sensor.0x00158d000444b5af_humidity name: 湿度 icon: mdi:bed color: var(--light-blue-color) entity_3: entity_id: sensor.0x00158d000444b5af_humidity name: 湿度 icon: mdi:lightbulb color: var(--red-color) entity_4: entity_id: sensor.0x00158d000444b5af_humidity name: 湿度 icon: '' color: var(--orange-color) #......,总共有5个，如果只想要4个，最后一个不定义就可以 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 221450.png (25.23 KB, 下载次数: 0) 下载附件 2024-7-27 22:15 上传 4.2、仿homekit灯卡片 跟button card作者的GitHub上的示例一样的，多了根据灯的样式，自动选择图标和显示不同类型的灯的详情 代码： button_card_templates: light_card: #仿HomeKit卡模板 show_state: false show_icon: true show_name: true icon: > #根据不同的名称，返回不同的图标 [[[ var friendlyName = entity.attributes.friendly_name; if (friendlyName.includes('灯带')) return 'mdi:led-strip-variant'; //检测包含文字 else if (entity.entity_id.includes('auto_light')) return 'mdi:lightbulb-auto'; //检测包含文字 else if (friendlyName.includes('吸顶灯')) return 'mdi:wall-sconce-flat'; //检测包含文字 else if (friendlyName.includes('射灯')) return 'mdi:track-light'; //检测包含文字 else if (friendlyName.includes('床头灯')) return 'mdi:lamp'; //检测包含文字 else if (friendlyName.includes('浴霸')) return 'mdi:light-recessed'; //检测包含文字 else if (friendlyName.includes('插座')) return 'mdi:power-socket-us'; //检测包含文字 else return 'mdi:lightbulb'; ]]] label: > #根据不同的类型，返回不同的详情状态 [[[ if (entity.entity_id.startsWith('light.')) { if (entity.state === ""on"") { if (entity.attributes.color_temp_kelvin) return `开 ${entity.attributes.color_temp_kelvin}k ${Math.floor(entity.attributes.brightness * 100 / 255)}%`; else return '开启'; } if (entity.state === ""off"") return '关闭'; } else if (entity.entity_id.startsWith('switch.')) { if (entity.state === ""on"") return '开启'; if (entity.state === ""off"") return '关闭'; } else if (entity.entity_id.includes('auto_light')) { if (entity.state === ""on"") return '开启'; if (entity.state === ""off"") return '关闭'; } return '错误'; ]]] show_label: true grid: - grid-template-areas: '""i"" ""n"" ""s""' - grid-template-columns: 1fr - grid-template-rows: 1fr min-content min-content styles: label: - font-size: 12px - justify-self: start - padding-left: 10px card: - width: 90px - height: 90px img_cell: - justify-content: flex-start icon: - padding-left: 5px name: - justify-self: start - padding-left: 10px - font-weight: bold - font-size: 14px state: - value: 'off' styles: icon: - color: var(--light-grey-color) name: - color: var(--light-grey-color) label: - color: var(--light-grey-color) #使用： type: custom:button-card entity: switch.6cd3eec81262_channel_1 name: 客厅射灯 template: light_card 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 222440.png (52.78 KB, 下载次数: 0) 下载附件 2024-7-27 22:25 上传 4.3、light卡片模板 我用的是乐式的驱动，比米家的多了一个灯光模式选择，自己加了自动调光的开关按钮 代码： button_card_templates: light_ls_card: #乐式灯卡片模板 show_icon: false show_name: false show_state: false styles: grid: - grid-template-areas: | ""x a c z d y"" ""x w w w w y"" ""x b b b b y"" - grid-template-columns: 4% 1fr 120px 15px 40px 4% - grid-template-rows: 40px 5px 50px custom_fields: a: #灯光图标、详情 card: type: custom:button-card entity: '[[[ return entity.entity_id ]]]' #这里的entity是为了点击图标开关灯 show_icon: true show_state: false show_name: true show_label: true icon: mdi:lightbulb name: '[[[ return variables.light_name ]]]' #这里的name因为这里是二级card label: > [[[ if (entity.state == ""on"") return '开启 ' + entity.attributes.color_temp_kelvin + 'k ' + Math.floor(entity.attributes.brightness *100 / 255) + '%'; //计算取整 else if (entity.state == ""off"") return '关闭'; else return '错误' ]]] styles: grid: - grid-template-areas: | ""i a n"" ""i a s"" ""i a l"" - grid-template-rows: 1fr min-content 1fr; - grid-template-columns: 40px 5px 1fr; card: - height: 40px - padding: 0px - box-shadow: none - border-radius: 0px - border: 0px - background: none icon: - width: 24px - height: 24px - padding: 8px - border-radius: 50% - color: orange - background: rgb(255, 152, 0, 0.2) name: - font-size: 14px - justify-self: flex-start label: - font-size: 12px - justify-self: flex-start state: - value: 'on' styles: icon: - background: rgba(255, 152, 0, 0.2) - color: orange - value: 'off' styles: icon: - background: rgb(158, 158, 158,0.2) - color: rgb(158, 158, 158) b: #亮度色温控制 card: type: custom:mushroom-light-card primary_info: none secondary_info: none icon_type: none show_brightness_control: true show_color_temp_control: true entity: '[[[ return entity.entity_id ]]]' card_mod: style: | ha-card { padding: 0px !important; border-radius: 0px !important; border: 0px !important; margin: 0px !important; box-shadow: none !important; } c: #模式选择 card: type: custom:mushroom-select-card entity: '[[[ return variables.light_select ]]]' primary_info: none secondary_info: none icon_type: none card_mod: style: | ha-card { padding: 0px !important; border-radius: 0px !important; border: 0px !important; margin: 0px !important; --mdc-theme-surface: white !important; background: white !important; box-shadow: none !important; overflow: visible !important; } d: #自动调光开关 card: type: custom:button-card entity: '[[[ return variables.light_auto ]]]' tap_action: action: toggle show_icon: true show_name: false show_state: false icon: mdi:lightbulb-auto styles: grid: - grid-template-areas: '""i""' - grid-template-columns: 40px - grid-template-rows: 40px card: - padding: 0px - background: none - border-radius: 12px - box-shadow: none - background: none img_cell: - border-radius: 12px icon: - width: 24px state: - value: 'on' styles: img_cell: - background: rgb(255, 152, 0, 0.2) icon: - color: rgb(255, 152, 0) - value: 'off' styles: img_cell: - background: rgb(158, 158, 158, 0.1) icon: - color: rgb(158, 158, 158) #使用 type: custom:button-card entity: light.b850d8174501_light template: light_ls_card variables: light_name: 吸顶灯 light_select: select.b850d8174501_mode light_auto: input_boolean.auto_light_zhuwo_xidingdeng 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 223148.png (25.11 KB, 下载次数: 0) 下载附件 2024-7-27 22:32 上传 4.3、两种样式卡片互相切换 这个用到之前提到的display属性，关灯的时候一种卡片样式，开灯的时候一种卡片样式 结合之前的仿HomeKit卡片和light卡片的模板 代码： button_card_templates: light_card_exchange: show_icon: false show_state: false show_name: false styles: grid: - grid-template-areas: '""b"" ""d""' - grid-template-columns: 1fr - grid-template-rows: 1fr card: - padding: 0px - broder: 0px - margin: 0px - background: none - border-radius: 0px - box-shadow: none - overflow: visible custom_fields: b: - display: > #block显示，none不显示 [[[ return entity.state == ""on"" ? ""block"" : ""none"" ]]] d: - padding-top: 10px - display: > [[[ return entity.state == ""off"" ? ""block"" : ""none"" ]]] custom_fields: b: card: type: custom:button-card entity: '[[[return entity.entity_id]]]' template: light_ls_card #引用模板 variables: light_name: '[[[return variables.light_name]]]' light_select: '[[[return variables.light_select]]]' light_auto: '[[[return variables.light_auto]]]' d: card: type: custom:button-card name: '[[[return variables.light_name]]]' entity: '[[[return entity.entity_id]]]' template: light_card #引用模板 #使用 type: custom:button-card entity: light.dced830254b8_light template: light_card_exchange variables: light_name: 吸顶灯 light_select: select.dced830254b8_mode light_auto: input_boolean.auto_light_keting_xidingdeng 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 224332.png (172.45 KB, 下载次数: 0) 下载附件 2024-7-27 22:44 上传 未完待续。。。。",2025-07-24T20:18:18.473917,,26299,,,,,
ck3,大佬，pad ui教程能分享吗,2025-07-24T20:18:18.475349,,26299,,,,,
hungheo,ck3 发表于 2024-7-27 17:24 大佬，pad ui教程能分享吗 我也是参考别人的，原贴链接在这里： https://bbs.hassbian.com/thread-25894-1-1.html 难点不是代码，是彩平图，图标等等，CAD图纸是自己画的，彩平图是淘宝10块别人帮忙弄的，图标搞了好几天，找个图标制作网站，自己慢慢拼出来的,2025-07-24T20:18:18.475652,,26299,,,,,
hhh.,大量使用button-card，配合mushroom-card，刷新界面，会出现不显示icon，楼主有遇到过吗？,2025-07-24T20:18:18.475953,,26299,,,,,
hungheo,hhh. 发表于 2024-7-27 20:15 大量使用button-card，配合mushroom-card，刷新界面，会出现不显示icon，楼主有遇到过吗？ 我用了几种mushroom卡片：entity， climate，light，chips这些，也用card-mod。 其他的全是button card，最多套到了5层。 也遇到过加载不出来，要刷新很多次才显示，或者偶尔能加载出来。 好像是button card的问题，也有说用了card-mod或者browser-mod才出现。 F12看控制台，一般就是： TypeError: Cannot read properties of undefined (reading 'style') Uncaught (in promise) TypeError: e.setConfig is not a function 这个得慢慢找，清空缓存，或者隐身模式，找到了把他们放在template模板里面大多都能能解决,2025-07-24T20:18:18.476222,,26299,,,,,
hhh.,hungheo 发表于 2024-7-27 21:18 我用了几种mushroom卡片：entity， climate，light，chips这些，也用card-mod。 其他的全是button card， ... 单独使用没有任何问题，只要在button-card中使用mushroom的卡片，就会出现这种问题，应该与其他卡片无关，就是按钮卡片和蘑菇卡片相互不兼容。 我现在想的就是尽量少用第三方卡片，多用原生卡片，按钮卡片，卡片模组辅助。 确实，这个问题的慢慢找，而且错误较多，得一一排查。,2025-07-24T20:18:18.476510,,26299,,,,,
adxr,"replyreload += ',' + 590268; 本帖最后由 adxr 于 2024-3-21 12:03 编辑 3年前，我发布了一篇名为 《让爱快路由器对接HASS，实现控制及设备在线情况》 的文章。当时，我为了满足老婆的需求，以便更方便地对一些设置进行限网设置。但由于我对Node-RED并不太熟悉，只好采用了PHP+Node-RED的方式来实现。然而，自发布之后，大家一直期待着一个纯粹基于Node-RED的解决方案。 好消息来了！今天，我终于带来了全新的Node-RED方案，不再需要借助PHP，一切尽在Node-RED之中。感谢大家的支持和耐心等待，让我们一起探索这个全新的解决方案吧！ 先看效果： .guestviewthumb {margin:10px auto; text-align:center;}.guestviewthumb a {font-size:12px;}.guestviewthumb_cur {cursor:url(""https://www.hasstatic.com/image/common/scf.gif""), default; max-width:100px;}.ie6 .guestviewthumb_cur { width:100px !important;} 登录/注册后可看大图 nodeinit.jpg (156.12 KB, 下载次数: 2) 下载附件 2024-3-21 11:46 上传 登录/注册后可看大图 wen.jpg (43.24 KB, 下载次数: 0) 下载附件 2024-3-21 11:46 上传 爱快的账号、密码、IP都在账号参数里，请自行修改，MQTT信息 请自行修改 登录/注册后可看大图 paww.jpg (77.74 KB, 下载次数: 0) 下载附件 2024-3-21 11:52 上传 上代码： Node-RED 代码： 游客，如果您要查看本帖隐藏内容请 回复 下面是HASS中的MQTT代码：（请自行改名及ID） 游客，如果您要查看本帖隐藏内容请 回复",2025-07-24T20:18:20.440252,1,24610,发表于 2024-3-21 11:58:32,https://bbs.hassbian.com/thread-24610-1-1.html,,让爱快路由器对接HASS 版本2.0 全用Node-RED+MQTT实现,
launze,感谢！一直用的这个插件,2025-07-24T20:18:20.441930,,24610,,,,,
zxyny1989,谢谢大佬分享，可惜我用的高恪,2025-07-24T20:18:20.442448,,24610,,,,,
adxr,zxyny1989 发表于 2024-3-21 12:34 谢谢大佬分享，可惜我用的高恪 高格也差不多的，抓一下包改一下,2025-07-24T20:18:20.442750,,24610,,,,,
QQ617250210,感谢分项，我用的是爱快的集成，也挺好用的,2025-07-24T20:18:20.443215,,24610,,,,,
隔壁的王叔叔,直接用ha就行了呗，为嘛还通过mqtt中转一下呢？,2025-07-24T20:18:20.443536,,24610,,,,,
4303279,不知道用个能不能进入TP-LINK,2025-07-24T20:18:20.443858,,24610,,,,,
SuperGabriel,感谢分享，学习一下，正好看看能不能使用,2025-07-24T20:18:20.444129,,24610,,,,,
ldj,来研究一下,2025-07-24T20:18:20.444390,,24610,,,,,
silang521,我的不能直接导入,2025-07-24T20:18:20.444644,,24610,,,,,
dachandler7,"本帖最后由 dachandler7 于 2023-10-6 00:44 编辑 前言：关于平板上墙的应用选择上，我最终选择了fully kiosk browser。但在查找资料的阶段发现相关内容很少，于是有了这个记录分享的帖子。fully kiosk browser的功能很多，而且目前为止没有中文，上一次做了一个中英翻译文档，已经通过本账号进行了分享，这一次是相关的配置过程，本着分享的精神，继续发帖。 我的平板上墙方案： 在智能家居设备上，家里大部分都是小米系（智能门锁、智能开关、智能灯、新一代人体传感器、智能窗帘、智能晾衣架、小米音箱），空调设备和厨房家电（洗碗机、洗衣机、冰箱）为美的系，燃气热水器为海尔系。 在网络上，宽带为桥接模式，主路由小米7000（拨号），各房间由子路由ax6000共同组成一个全屋mesh，全屋信号无死角；zigbee信号由米家多模网关2负责，通过zigbee设备全屋扩散；蓝牙信号由米家多模网关2+各区域小米音箱负责。 在平板上墙的方案选择上，首先固定方式为两块磁吸贴，通过3M胶固定在墙上，平板可以牢牢固定住。 在平板的供电上，因为前期装修时并没有准备86盒位置，于是打算从客厅开关处取电。这里需要3个东西，一个是支持米家的mesh通断器，另一个是220V转5V的变压器，还有一个是隐藏式扁的充电线。先接入mesh通断器，然后接入220V转5V的变压器上，最后通过隐藏充电线延伸出来接入平板。需要注意的是，上述3个东西，你需要考虑86盒的空间，因此都得买迷你的小规格的，目前相关设备已经非常小了，很容易买到。但我在实际执行时发现这类变压器有可能不被平板识别导致无法充电，比如我的小米平板4就不行。最后根据我的实际情况，我在柜子旁边开了个小孔，通过平板标配的充电器+一个智能插座解决了这个问题，也可以很好的隐藏。 登录/注册后可看大图 平板上墙效果.jpg (874.72 KB, 下载次数: 0) 下载附件 2023-10-6 00:33 上传 .guestviewthumb {margin:10px auto; text-align:center;}.guestviewthumb a {font-size:12px;}.guestviewthumb_cur {cursor:url(""https://www.hasstatic.com/image/common/scf.gif""), default; max-width:100px;}.ie6 .guestviewthumb_cur { width:100px !important;} 登录/注册后可看大图 平板上墙-充电线.jpg (64.08 KB, 下载次数: 0) 下载附件 2023-10-6 00:32 上传 HA配置过程： 首先你需要购买fully kiosk browser，因为平板状态检测和mqtt服务不在免费功能里，只能付费才可以使用，好在费用不贵。 如果你熟悉nodered，可以通过这个方案来做。不过HA现在的版本已经非常方便，而且已经支持fully kiosk browser，不需要在HACS里单独安装插件了。 进入fully kiosk browser，首先前往Motion detection（运动检测），设置相关内容，这里的功能是通过调用平板前置摄像头来检测平板面前是否有人，如果有人则打开屏幕。 接下来前往remote administration（远程管理），设置相关内容，这里的作用是提供平板各状态参数（比如平板电量信息），确保HA可以顺利接入平板并能够正常识别。在设置的过程中，你需要设置密码，HA连接平板时会用到。 最后前往other settings（其他设置），设置mqtt的相关内容，在设置的过程中，mqtt broker url这里请以tcp://开头，具体的IP、端口号、用户名、密码在你HA的启动项Mosquitto broker配置里（前提是你已经成功配置好了zigbee2mqtt） 登录/注册后可看大图 1.jpg (969.32 KB, 下载次数: 3) 下载附件 2023-10-6 00:33 上传 登录/注册后可看大图 2.jpg (1.07 MB, 下载次数: 0) 下载附件 2023-10-6 00:33 上传 登录/注册后可看大图 3.jpg (1.11 MB, 下载次数: 0) 下载附件 2023-10-6 00:33 上传 登录/注册后可看大图 4.jpg (963.32 KB, 下载次数: 0) 下载附件 2023-10-6 00:33 上传 接下来前往HA后台，直接添加fully kiosk browser集成，当前版本已经不需要在单独去HACS里下载了。 上述步骤设置完毕后，你会在HA后台中自动发现你的平板设备，填写平板的IP地址、密码等信息后即可正常连接。 HA自动化配置： 我的方案目的是，通过检测平板的电量信息，控制智能插座来给平板充电。当HA检测到平板电量小于20%时，开启智能插座。电量大与99%时，关闭智能插座。 如果你熟悉了nodered，那么可以快速完成配置。不过HA的自动化对新手或许会更容易上手，下面介绍HA自动化的方法。 首先前往HA的自动化与场景，创建自动化。 中控平板电量低自动充电：添加触发条件【数字类状态】，选择平板电量相关实体，在小于模式下填写数字20。添加动作选择【设备】，点选智能插座，然后在下方弹出的动作框选择开启电源相关选项。 中控平板充满电自动关闭电源：同理，再添加一条自动化，设置条件并关闭电源。 登录/注册后可看大图 HA自动化.png (41.67 KB, 下载次数: 0) 下载附件 2023-10-6 00:34 上传 至此，平板上墙方案已经正式完成。 登录/注册后可看大图 效果.jpeg (1.05 MB, 下载次数: 0) 下载附件 2023-10-6 00:34 上传 （说明：本人所分享的所有内容仅为个人实践与实操记录分享，如果你不喜欢，可以跳过。如果你真的很牛比，并且帮到了我，我定会毫不吝啬的赞美感激。但想必你也不会多么厉害，如果我是个厉害的人，我一定会关注比我更厉害的大神学习请教，而不是嘲讽那些站内小白，这样做反而显得你狠low。） “小于”模式 “小于”模式",2025-07-24T20:18:22.457079,1,22924,发表于 2023-10-6 00:35:44,https://bbs.hassbian.com/thread-22924-1-1.html,,【配置篇】借助fully kiosk browser实现平板上墙,
wdmywm3,我的平板中控放在门口当了几个月的摆设了，先学习一个,2025-07-24T20:18:22.458882,,22924,,,,,
dachandler7,wdmywm3 发表于 2023-10-6 00:50 我的平板中控放在门口当了几个月的摆设了，先学习一个 我在实际使用时，用的最多的其实是小爱音箱，非米家设备通过巴法云可以让小爱音箱来进行控制。平板中控除了装13好看以外，只有在客厅区域内的情况下才会少量使用。,2025-07-24T20:18:22.459402,,22924,,,,,
wdmywm3,dachandler7 发表于 2023-10-6 01:36 我在实际使用时，用的最多的其实是小爱音箱，非米家设备通过巴法云可以让小爱音箱来进行控制。平板中控除 ... 是这样，所以我现在回头琢磨，感觉搞个小米智慧屏6或者8，又或者红米音箱pro8改，有钱的搞个智慧屏10，上墙的效果可能比一个平板更好。 一个是自带miui，比自己diy的终究好看。 另一个是自带小爱音箱，节省一个小爱的空间。,2025-07-24T20:18:22.459758,,22924,,,,,
bugensui,为什么不用官方的app，功能体验不是更好，另外请教下220V转5V的变压器放进86盒，长期通电的情况下，有没有安全隐患,2025-07-24T20:18:22.460073,,22924,,,,,
a_dongde,bugensui 发表于 2023-10-6 23:26 为什么不用官方的app，功能体验不是更好，另外请教下220V转5V的变压器放进86盒，长期通电的情况下，有没有 ... fully kiosk browser 功能里可以调用摄像头，可以实现人来自动亮屏（本人买了个联想小新PAD 2020自带了，使用的免费功能即可）。 220V转5V的变压器放入底盒正常运行一年了，没什么问题，本来现在的带USB口的插座都是一直通电在线的。,2025-07-24T20:18:22.460360,,22924,,,,,
13860605362,我中控直接常亮，控制设备次要的，绝大部分自动化，小部分语音控制。我更多的是用来消息提醒，晒衣服耗材之类的。,2025-07-24T20:18:22.460691,,22924,,,,,
bugensui,a_dongde 发表于 2023-10-7 08:40 fully kiosk browser 功能里可以调用摄像头，可以实现人来自动亮屏（本人买了个联想小新PAD 2020自带了， ... 谢谢大佬，你买的是哪款，能不能分享下，你在用在底盒里接什么传感器用？,2025-07-24T20:18:22.460983,,22924,,,,,
a_dongde,"空白处开关时连接220~5V电源，塞到了底盒里，在HA中写了自动化通断充电。3D打印了一个支架，把原来的开关垫高了，线走支架下穿出来。 登录/注册后可看大图 1697159031653.png (252.16 KB, 下载次数: 0) 下载附件 2023-10-13 09:04 上传",2025-07-24T20:18:22.461270,,22924,,,,,
a_dongde,"bugensui 发表于 2023-10-7 10:23 谢谢大佬，你买的是哪款，能不能分享下，你在用在底盒里接什么传感器用？ ... 空白处开关时连接220~5V电源，塞到了底盒里，在HA中写了自动化通断充电。3D打印了一个支架，把原来的开关垫高了，线走支架下穿出来。 登录/注册后可看大图 1697159031653.png (252.16 KB, 下载次数: 0) 下载附件 2023-10-13 09:07 上传",2025-07-24T20:18:22.461556,,22924,,,,,
angelyangw,"replyreload += ',' + 507227; 本帖最后由 angelyangw 于 2024-1-18 19:06 编辑 晒图 浏览器样式 登录/注册后可看大图 截屏2023-01-26 21.08.59.png (922.91 KB, 下载次数: 8) 下载附件 2023-1-26 21:10 上传 ipad样式 .guestviewthumb {margin:10px auto; text-align:center;}.guestviewthumb a {font-size:12px;}.guestviewthumb_cur {cursor:url(""https://www.hasstatic.com/image/common/scf.gif""), default; max-width:100px;}.ie6 .guestviewthumb_cur { width:100px !important;} 登录/注册后可看大图 截屏2023-01-26 20.57.32.png (556.08 KB, 下载次数: 1) 下载附件 2023-1-26 21:06 上传 简介 mushroom lovelace是一个可以在hass的ui中配置dashboard的集成，对于ui小白（本人）来说，很友好 官网地址是： https://github.com/piitaya/lovelace-mushroom B站找到的一个介绍视频： https://www.bilibili.com/video/BV1DP411L7B7/ 安装 几乎所有用到的卡片，都可以通过hacs安装参考安装步骤； Install HACS if you don't have it already Open HACS in Home Assistant Go to ""Frontend"" section Click button with ""+"" icon Search for ""Mushroom"" 我用到的部分卡片和主题 卡片： Lovelace Mini Graph Card Vertical Stack In Card Button Card by @RomRider Lovelace swipe card Digital Clock Mushroom kiosk-mode chartjs-card 主题 iOS Themes 使用 设置- 仪表盘 - 创建Dashboard 打开创建的仪表盘，右上角选择编辑仪表盘，在弹窗中选择“从空白仪表盘开始”，点击“自行编辑” 添加第一个卡片 通常我添加到第一个卡片是垂直堆叠的卡片，既然是ui配置，当然很简单，效果如图 登录/注册后可看大图 截屏2023-01-27 10.34.06.png (152.83 KB, 下载次数: 0) 下载附件 垂直堆叠 2023-1-27 10:34 上传 在垂直堆叠的卡片中，设计需要的样子 如我的首页中，左边第一列是一个垂直堆叠的卡片，其中又嵌套了7个子卡片，下面详述 mushroom-chips-card 安装mushroom后自带，作为导航用效果: 登录/注册后可看大图 截屏2023-01-27 10.49.11.png (6.33 KB, 下载次数: 0) 下载附件 导航 2023-1-27 10:49 上传 例子: type: custom:mushroom-chips-card chips: - type: menu - type: action double_tap_action: action: navigate navigation_path: /dashboard-home/rooms tap_action: action: navigate navigation_path: /dashboard-home/rooms hold_action: action: navigate navigation_path: /dashboard-home/rooms icon: mdi:home-group alignment: start mushroom-title-card 标题，可以使用HASS的模板 安装mushroom后自带 例子: type: custom:mushroom-title-card title: | {% set time = now().hour %} {% if (time &gt;= 18) %} 晚上好, {{user}}! {% elif (time &gt;= 12) %} 下午好, {{user}}! {% elif (time &gt;= 5) %} 早安, {{user}}! {% else %} 欢迎回来, {{user}}! {% endif %} subtitle: '' alignment: start digital-clock 时钟、日期 效果: 登录/注册后可看大图 截屏2023-01-27 10.51.39.png (24.95 KB, 下载次数: 0) 下载附件 2023-1-27 10:52 上传 例子: type: custom:digital-clock locale: cn timeZone: Asia/Shanghai dateFormat: weekday: long day: numeric month: long year: numeric timeFormat: hour: 2-digit minute: 2-digit horizontal-stack 水平堆叠 当需要某些实体显示在一行中时，使用该卡片 效果： 登录/注册后可看大图 截屏2023-01-27 10.50.24.png (51 KB, 下载次数: 1) 下载附件 2023-1-27 10:51 上传 例子: type: horizontal-stack cards: - type: custom:mushroom-person-card entity: person.** icon: mdi:face-man layout: vertical fill_container: true secondary_info: state primary_info: name icon_type: entity-picture tap_action: action: more-info hold_action: action: more-info double_tap_action: action: more-info - type: custom:mushroom-person-card entity: person.** layout: vertical fill_container: true secondary_info: state primary_info: name icon_type: entity-picture tap_action: action: more-info hold_action: action: more-info double_tap_action: action: more-info - type: custom:mushroom-person-card entity: person.** icon: mdi:face-woman layout: vertical fill_container: true secondary_info: state primary_info: name tap_action: action: more-info hold_action: action: more-info double_tap_action: action: more-info 小技巧 善用HASS模板 hass中有很多卡片支持模板，来取各种设备、实体的属性，或者做出判断等等。 例如我最常用的markdown card 效果： 登录/注册后可看大图 截屏2023-01-27 11.12.05.png (78.95 KB, 下载次数: 0) 下载附件 2023-1-27 11:12 上传 例子： {% if states('sensor.loock_v4_def2_door_state') == 'stuck' %} &lt;ha-alert alert-type=""success""&gt;大门关闭中&lt;/ha-alert&gt; {% else%} &lt;ha-alert alert-type=""error""&gt;大门未关闭，迅速检查&lt;/ha-alert&gt; {% endif %} {%- set low_batteries = states | selectattr('attributes.battery_level', 'defined') | selectattr('attributes.battery_level','&lt;=', 30 ) | list -%} {% if low_batteries | count &gt;= 1 %} &lt;ha-alert alert-type=""error""&gt;{{ low_batteries | list | count }}个设备电量低： {%- for battery in low_batteries -%} {%- set message = ""\n - *""+ battery.name + ' (' + (battery.attributes.battery_level | round(0) | string) + '%)*' -%} {{ message }} {%- endfor -%} {% else %} &lt;ha-alert alert-type=""success""&gt;所有设备电量都很正常 {% endif %} &lt;/ha-alert&gt; &lt;ha-alert alert-type=""info""&gt; {{ (states.light and states.switch ) | selectattr( 'state', 'eq', 'on') | list | length-1 }}盏灯点亮&lt;/ha-alert&gt; &lt;ha-alert alert-type=""info""&gt; 当前电费余额: {{ states('sensor.1056389284_balance') }} 当前阶梯剩余额度: {{states('sensor.1056389284_current_level_remain')}} &lt;/ha-alert&gt; &lt;ha-alert alert-type=""info""&gt; 欧元对人民币汇率: {{ states('sensor.eur_to_cny') }} 美元对欧元汇率: {{states('sensor.open_exchange_rates_usd_eur')}} &lt;/ha-alert&gt; &lt;ha-alert alert-type=""info""&gt; 扫地机器人状态: {{states('vacuum.annie')}} &lt;/ha-alert&gt; 使用水平堆叠、垂直堆叠卡片 根据自己的设计，使用水平堆叠或者垂直堆叠，可以将想要放到一起显示的内容集中展示 最后 由于还没有最后完成，也是在设计中，所以贴出目前的部分，各位按需取用好了 附上超长代码 background: var(--background-image) swipe_nav: wrap: true prevent_default: true animate: swipe swipe_amount: 20 kiosk_mode: hide_header: true views: - theme: Backend-selected path: home title: Home icon: mdi:home-account badges: [] cards: - type: vertical-stack cards: - type: custom:mushroom-chips-card chips: - type: menu - type: action double_tap_action: action: navigate navigation_path: /dashboard-home/rooms tap_action: action: navigate navigation_path: /dashboard-home/rooms hold_action: action: navigate navigation_path: /dashboard-home/rooms icon: mdi:home-group alignment: start - type: custom:mushroom-title-card title: | {% set time = now().hour %} {% if (time &gt;= 18) %} 晚上好, {{user}}! {% elif (time &gt;= 12) %} 下午好, {{user}}! {% elif (time &gt;= 5) %} 早安, {{user}}! {% else %} 欢迎回来, {{user}}! {% endif %} subtitle: '' alignment: start - type: custom:digital-clock locale: cn timeZone: Asia/Shanghai dateFormat: weekday: long day: numeric month: long year: numeric timeFormat: hour: 2-digit minute: 2-digit - type: custom:mushroom-title-card title: 家人信息 - type: horizontal-stack cards: - type: custom:mushroom-person-card entity: person.** icon: mdi:face-man layout: vertical fill_container: true secondary_info: state primary_info: name icon_type: entity-picture tap_action: action: more-info hold_action: action: more-info double_tap_action: action: more-info - type: custom:mushroom-person-card entity: person.** layout: vertical fill_container: true secondary_info: state primary_info: name icon_type: entity-picture tap_action: action: more-info hold_action: action: more-info double_tap_action: action: more-info - type: custom:mushroom-person-card entity: person.** icon: mdi:face-woman layout: vertical fill_container: true secondary_info: state primary_info: name tap_action: action: more-info hold_action: action: more-info double_tap_action: action: more-info - type: custom:mushroom-title-card title: 设备概要 - type: markdown content: &gt;+ {% if states('sensor.loock_v4_def2_door_state') == 'stuck' %} &lt;ha-alert alert-type=""success""&gt;大门关闭中&lt;/ha-alert&gt; {% else%} &lt;ha-alert alert-type=""error""&gt;大门未关闭，迅速检查&lt;/ha-alert&gt; {% endif %} {%- set low_batteries = states | selectattr('attributes.battery_level', 'defined') | selectattr('attributes.battery_level','&lt;=', 30 ) | list -%} {% if low_batteries | count &gt;= 1 %} &lt;ha-alert alert-type=""error""&gt;{{ low_batteries | list | count }}个设备电量低： {%- for battery in low_batteries -%} {%- set message = ""\n - *""+ battery.name + ' (' + (battery.attributes.battery_level | round(0) | string) + '%)*' -%} {{ message }} {%- endfor -%} {% else %} &lt;ha-alert alert-type=""success""&gt;所有设备电量都很正常 {% endif %} &lt;/ha-alert&gt; &lt;ha-alert alert-type=""info""&gt; {{ (states.light and states.switch ) | selectattr( 'state', 'eq', 'on') | list | length-1 }}盏灯点亮&lt;/ha-alert&gt; &lt;ha-alert alert-type=""info""&gt; 当前电费余额: {{ states('sensor.1056389284_balance') }} 当前阶梯剩余额度: {{states('sensor.1056389284_current_level_remain')}} &lt;/ha-alert&gt; &lt;ha-alert alert-type=""info""&gt; 欧元对人民币汇率: {{ states('sensor.eur_to_cny') }} 美元对欧元汇率: {{states('sensor.open_exchange_rates_usd_eur')}} &lt;/ha-alert&gt; &lt;ha-alert alert-type=""info""&gt; 扫地机器人状态: {{states('vacuum.annie')}} &lt;/ha-alert&gt; theme: Mushroom - type: vertical-stack cards: - type: custom:mushroom-title-card title: 天气预报 - type: custom:mushroom-chips-card chips: - type: template double_tap_action: action: none content: |- 日出 {% if states.sun.sun %} {{ (as_timestamp(states.sun.sun.attributes.next_rising)) | timestamp_custom(('%H:%M') )}} {% endif %} icon: mdi:weather-sunset-up entity: sun.sun icon_color: orange tap_action: action: none hold_action: action: none - type: template double_tap_action: action: none content: | {{ state_attr('weather.colorfulclouds', 'pm25') }} tap_action: action: none hold_action: action: none icon_color: &gt;- {% set quality = state_attr('weather.colorfulclouds', 'pm25') %} {% if quality &gt; 0 and quality &lt; 50%} green {% elif quality &gt; 51 and quality &lt; 100 %} yellow {% elif quality &gt; 101 and quality &lt; 150 %} orange {% elif quality &gt; 151 and quality &lt; 200 %} red {% elif quality &gt; 201 and quality &lt; 300 %} purpel {% elif quality &gt; 301 %} brown {% endif %} icon: mdi:quality-medium entity: weather.colorfulclouds - type: template entity: weather.colorfulclouds icon: mdi:alarm-light-outline icon_color: &gt;- {% set quality = state_attr('weather.colorfulclouds', 'pm25') %} {% if quality &gt; 0 and quality &lt; 50%} green {% elif quality &gt; 51 and quality &lt; 100 %} yellow {% elif quality &gt; 101 and quality &lt; 150 %} orange {% elif quality &gt; 151 and quality &lt; 200 %} red {% elif quality &gt; 201 and quality &lt; 300 %} purpel {% elif quality &gt; 301 %} brown {% endif %} content: '{{state_attr(''weather.colorfulclouds'', ''aqi_description'')}}' double_tap_action: action: none tap_action: action: none hold_action: action: none - type: template double_tap_action: action: none entity: sun.sun icon_color: orange content: |- 日落 {% if states.sun.sun %} {{ (as_timestamp(states.sun.sun.attributes.next_setting)) | timestamp_custom(('%H:%M') )}} {% endif %} tap_action: action: none hold_action: action: none icon: mdi:weather-sunset-down alignment: justify - entity: weather.colorfulclouds type: custom:weather-card - aspect_ratio: 50% title: 天气雷达 type: iframe url: &gt;- https://embed.windy.com/embed2.h ... 2%B0C&radarRange=-1 - type: vertical-stack cards: - type: custom:mushroom-title-card title: 灯光控制 - square: false columns: 2 type: grid cards: - type: custom:mushroom-entity-card entity: switch.wall_switch_ln_left_158d0001ef5809 name: 客厅灯 icon: mdi:chandelier layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle icon_color: amber - type: custom:mushroom-entity-card entity: switch.living_room_downlight name: 客厅筒灯 icon: mdi:track-light layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle icon_color: amber - type: custom:mushroom-entity-card entity: switch.dining_room_light name: 餐厅灯 icon: mdi:instrument-triangle layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle icon_color: amber - type: custom:mushroom-entity-card entity: switch.dining_room_downlight icon: mdi:track-light name: 餐厅筒灯 icon_color: amber fill_container: true layout: vertical secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle - type: custom:mushroom-entity-card entity: switch.kitchen_light name: 厨房灯 icon_color: amber fill_container: true icon: mdi:countertop layout: vertical secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle - type: custom:mushroom-entity-card entity: switch.bathroom_light name: 浴室灯 icon: mdi:bathtub icon_color: amber layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle - type: custom:mushroom-entity-card entity: switch.wall_switch_ln_right_158d0001ef5809 name: 走廊灯 icon: mdi utdoor-lamp icon_color: amber layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle - type: custom:mushroom-entity-card entity: switch.menkou_light name: 次卧灯 icon: mdi:bed icon_color: amber layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle - type: custom:mushroom-light-card entity: light.gateway_light_34ce0091ed6e name: 网关灯 fill_container: true secondary_info: state use_light_color: true show_brightness_control: true show_color_control: true show_color_temp_control: true collapsible_controls: false tap_action: action: toggle double_tap_action: action: more-info hold_action: action: more-info - type: custom:mushroom-light-card entity: light.tradfri_bulb name: 儿童房灯 icon: mdi:teddy-bear secondary_info: state show_color_temp_control: true show_brightness_control: true tap_action: action: toggle hold_action: action: more-info double_tap_action: action: more-info - theme: Backend-selected title: rooms path: devices icon: mdi:devices badges: [] cards: - type: vertical-stack cards: - type: custom:mushroom-chips-card chips: - type: back - type: action double_tap_action: action: navigate navigation_path: ' /dashboard-home/home' tap_action: action: navigate navigation_path: ' /dashboard-home/home' hold_action: action: navigate navigation_path: ' /dashboard-home/home' icon: mdi:home-account - type: action double_tap_action: action: navigate navigation_path: /dashboard-home/home icon: mdi:devices tap_action: action: navigate navigation_path: /dashboard-home/devices hold_action: action: navigate navigation_path: /dashboard-home/devices - type: custom:mushroom-title-card title: 灯光控制 - square: false columns: 2 type: grid cards: - type: custom:mushroom-entity-card entity: switch.wall_switch_ln_left_158d0001ef5809 name: 客厅灯 icon: mdi:chandelier layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle icon_color: amber - type: custom:mushroom-entity-card entity: switch.living_room_downlight name: 客厅筒灯 icon: mdi:track-light layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle icon_color: amber - type: custom:mushroom-entity-card entity: switch.dining_room_light name: 餐厅灯 icon: mdi:instrument-triangle layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle icon_color: amber - type: custom:mushroom-entity-card entity: switch.dining_room_downlight icon: mdi:track-light name: 餐厅筒灯 icon_color: amber fill_container: true layout: vertical secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle - type: custom:mushroom-entity-card entity: switch.kitchen_light name: 厨房灯 icon_color: amber fill_container: true icon: mdi:countertop layout: vertical secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle - type: custom:mushroom-entity-card entity: switch.bathroom_light name: 浴室灯 icon: mdi:bathtub icon_color: amber layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle - type: custom:mushroom-entity-card entity: switch.wall_switch_ln_right_158d0001ef5809 name: 走廊灯 icon: mdi utdoor-lamp icon_color: amber layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle - type: custom:mushroom-entity-card entity: switch.menkou_light name: 次卧灯 icon: mdi:bed icon_color: amber layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle - type: horizontal-stack cards: - type: custom:mushroom-light-card entity: light.gateway_light_34ce0091ed6e name: 网关灯 fill_container: true secondary_info: state use_light_color: true show_brightness_control: true show_color_control: true show_color_temp_control: true collapsible_controls: false tap_action: action: toggle double_tap_action: action: more-info hold_action: action: more-info - type: custom:mushroom-light-card entity: light.tradfri_bulb name: 儿童房灯 icon: mdi:teddy-bear secondary_info: state show_color_temp_control: true show_brightness_control: true tap_action: action: toggle hold_action: action: more-info double_tap_action: action: more-info - type: vertical-stack cards: - type: custom:mushroom-title-card title: 大门 - type: custom:mushroom-chips-card chips: - type: template entity: sensor.loock_v01_0d91_battery_level icon_color: &gt;- {% set level = states('sensor.loock_v01_0d91_battery_level') | int %} {% if level &gt; 0 and level &lt; 30 %} red {% elif level &gt; 31 and level &lt; 60 %} yellow {% elif level &gt; 61 and level &lt;= 100 %} green {% endif %} icon: &gt;- {% set level = states('sensor.loock_v01_0d91_battery_level') | int /10 %} mdi:battery-{{level | int *10}} content: 猫眼电量:{{ states('sensor.loock_v01_0d91_battery_level') }}% - type: template double_tap_action: action: none icon: mdi:cat icon_color: yellow content: '{{ states(''sensor.mi_27921171_message'').split("":"")[1] }}' tap_action: action: none hold_action: action: none - type: conditional conditions: - entity: binary_sensor.lumi_v2_716f_motion_sensor state: 'on' chip: type: entity entity: binary_sensor.lumi_v2_716f_motion_sensor use_entity_picture: false icon: mdi:motion-sensor content_info: none icon_color: green double_tap_action: action: none tap_action: action: none hold_action: action: none alignment: justify - type: custom:mushroom-entity-card entity: camera.loock_v01_0d91_video_doorbell name: 猫眼 secondary_info: state tap_action: action: call-service service: camera.turn_on data: {} target: entity_id: camera.loock_v01_0d91_video_doorbell double_tap_action: action: call-service service: camera.turn_off data: {} target: entity_id: camera.loock_v01_0d91_video_doorbell layout: horizontal fill_container: false - square: false columns: 2 type: grid cards: - type: custom:mushroom-template-card primary: 门锁 secondary: |- {% if is_state('sensor.loock_v4_def2_door_state', 'stuck') %} 关闭 {% else %} 打开 {% endif %} icon: |- {% if is_state('sensor.loock_v4_def2_door_state', 'stuck') %} mdi:door-closed {% else %} mdi:door-open {% endif %} layout: vertical fill_container: false icon_color: |2- {% if is_state('sensor.loock_v4_def2_door_state', 'stuck') %} green {% else %} red {% endif %} multiline_secondary: true tap_action: action: none hold_action: action: none double_tap_action: action: none entity: sensor.loock_v4_def2_lock - type: custom:mushroom-template-card primary: 天地勾 secondary: &gt; {% set status = states('binary_sensor.loock_v4_def2_armed_state') %} {% if status == 'off' %} 收起 {% else %} 打开 {% endif %} icon: mdi:door-sliding-lock icon_color: green layout: vertical multiline_secondary: true tap_action: action: none hold_action: action: none double_tap_action: action: none - type: custom:mushroom-template-card primary: 电量:{{ states('sensor.loock_v4_def2_battery_level') }}% secondary: &gt;- 更新时间: {{ as_timestamp(state_attr('sensor.loock_v4_def2_battery_level', 'updated_time')) | timestamp_custom('%m-%d %H:%M:%S') }} icon: &gt;- {% set level = states('sensor.loock_v4_def2_battery_level') | int /10 %} mdi:battery-{{level | int *10}} entity: sensor.loock_v4_def2_battery_level badge_icon: '' layout: vertical fill_container: false multiline_secondary: false tap_action: action: more-info hold_action: action: none double_tap_action: action: none icon_color: &gt;- {% set level = states('sensor.loock_v4_def2_battery_level') | int %} {% if level &gt; 0 and level &lt; 30 %} red {% elif level &gt; 31 and level &lt; 60 %} yellow {% elif level &gt; 61 and level &lt;= 100 %} green {% endif %} - type: custom:mushroom-template-card primary: |- {% set action = states('sensor.loock_v4_def2_lock_action') %} {% if action == 'outside_unlock' %} 户外开锁 {% else %} 户内开锁 {% endif %} secondary: &gt;- {% set method = states('sensor.loock_v4_def2_lock') %} {% if method == 'biological' %} 指纹开锁 {% else %} 密码开锁 {% endif %} {% set id = states('sensor.loock_v4_def2_lock_key_id') %} {% if id == '' %} 杨威 {% elif id == ''%} 姥姥 {% elif id == ''%} 爷爷 {% elif id == '2147549185'%} 天骄 {% else%} 未知 {% endif %} {{ as_timestamp(state_attr('sensor.loock_v4_def2_lock', 'timestamp')) | timestamp_custom('%m-%d %H:%M:%S') }} icon: mdi:lock-open-variant-outline icon_color: blue fill_container: false tap_action: action: none hold_action: action: none double_tap_action: action: none multiline_secondary: false layout: vertical - type: vertical-stack cards: - type: custom:mushroom-title-card title: 常用设备 - type: horizontal-stack cards: - type: custom:mushroom-entity-card entity: switch.la_ji_chu_li_qi_switch name: 垃圾处理器 tap_action: action: toggle hold_action: action: more-info double_tap_action: action: toggle layout: vertical icon: mdi:delete-circle-outline icon_color: cyan - type: custom:mushroom-entity-card entity: switch.benq name: 投影仪 secondary_info: state tap_action: action: toggle hold_action: action: more-info double_tap_action: action: toggle layout: vertical icon: mdi:projector icon_color: cyan - type: custom:mushroom-fan-card entity: fan.broan name: 新风 icon: mdi:fan icon_animation: true secondary_info: state show_percentage_control: true show_oscillate_control: true collapsible_controls: false tap_action: action: toggle hold_action: action: more-info double_tap_action: action: more-info - type: custom:mushroom-vacuum-card entity: vacuum.annie name: 扫地机 icon_animation: true secondary_info: state commands: - start_pause - stop - return_home tap_action: action: toggle double_tap_action: action: call-service service: vacuum.return_to_base data: {} target: entity_id: vacuum.annie - theme: Backend-selected title: living_room path: living-room icon: mdi:sofa badges: [] cards: - type: custom:swipe-card start_card: 1 parameters: roundLengths: true effect: coverflow speed: 650 spaceBetween: 20 threshold: 7 coverflowEffect: rotate: 80 depth: 300 cards: - type: vertical-stack cards: - type: custom:mushroom-title-card title: 客厅 - type: horizontal-stack cards: - type: custom:mushroom-entity-card entity: switch.wall_switch_ln_left_158d0001ef5809 name: 客厅灯 icon: mdi:chandelier layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle icon_color: amber - type: custom:mushroom-entity-card entity: switch.living_room_downlight name: 客厅筒灯 icon: mdi:track-light layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle icon_color: amber - type: custom:mushroom-entity-card entity: switch.benq name: 投影仪 icon: mdi:projector icon_color: cyan layout: vertical secondary_info: state tap_action: action: toggle hold_action: action: more-info double_tap_action: action: more-info - type: custom:mushroom-cover-card entity: switch.chuang_lian name: 客厅窗帘 icon: mdi:curtains secondary_info: state show_position_control: false show_tilt_position_control: false show_buttons_control: true tap_action: action: toggle hold_action: action: more-info double_tap_action: action: more-info fill_container: true - type: custom:mini-graph-card entities: - entity: sensor.temperature_158d000255821c index: 0 name: 温度 - entity: sensor.humidity_158d000255821c index: 1 name: 湿度 hours_to_show: 24 icon: mdi:sofa name: 客厅 show: labels: true labels_secondary: true - type: vertical-stack cards: - type: custom:mushroom-title-card title: 餐厅 - type: horizontal-stack cards: - type: custom:mushroom-entity-card entity: switch.dining_room_light name: 餐厅灯 icon: mdi:instrument-triangle layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle icon_color: amber - type: custom:mushroom-entity-card entity: switch.dining_room_downlight icon: mdi:track-light name: 餐厅筒灯 icon_color: amber fill_container: true layout: vertical secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle - type: custom:mushroom-fan-card entity: fan.broan name: 新风 icon_animation: true icon: mdi:fan fill_container: true secondary_info: state show_percentage_control: true collapsible_controls: false tap_action: action: toggle hold_action: action: more-info double_tap_action: action: more-info show_oscillate_control: true layout: horizontal - type: vertical-stack cards: - type: custom:mushroom-title-card title: 厨房 - type: custom:mushroom-entity-card entity: switch.kitchen_light name: 厨房灯 icon_color: amber fill_container: false icon: mdi:countertop layout: horizontal secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle - type: custom:mushroom-entity-card entity: binary_sensor.switch_158d00022ac36b name: 厨房开关 icon: mdi:gesture-tap-button icon_color: teal secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle - type: custom:mushroom-entity-card entity: switch.la_ji_chu_li_qi_switch name: 垃圾处理器 icon: mdi:delete-circle-outline tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle - type: vertical-stack cards: - type: custom:mushroom-title-card title: 浴室 - type: custom:mushroom-entity-card entity: switch.bathroom_light name: 浴室灯 icon: mdi:bathtub icon_color: amber layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle - type: vertical-stack cards: - type: custom:mushroom-title-card title: 主卧 - type: custom:mini-graph-card entities: - entity: sensor.temperature_158d000254dc3c index: 0 name: 温度 - entity: sensor.humidity_158d000254dc3c index: 0 name: 湿度 show: labels: true labels_secondary: true name: 主卧 icon: mdi:thermometer-water - type: custom:mushroom-entity-card entity: cover.mr_bond name: 晾衣架 icon_color: green secondary_info: state tap_action: action: toggle hold_action: action: more-info double_tap_action: action: more-info - type: custom:mushroom-light-card entity: light.mr_bond_led name: 晾衣架灯 tap_action: action: toggle - type: custom:mushroom-fan-card entity: fan.mr_bond_dry name: 晾衣架风扇 tap_action: action: toggle hold_action: action: more-info double_tap_action: action: more-info - type: vertical-stack cards: - type: custom:mushroom-title-card title: 次卧 - type: custom:mushroom-entity-card entity: switch.menkou_light name: 次卧灯 icon: mdi:bed icon_color: amber layout: vertical fill_container: true secondary_info: state tap_action: action: toggle hold_action: action: toggle double_tap_action: action: toggle - type: custom:mushroom-climate-card entity: climate.my_room_ac name: 次卧空调 fill_container: true secondary_info: state show_temperature_control: true collapsible_controls: false hvac_modes: - heat - cool tap_action: action: toggle hold_action: action: more-info double_tap_action: action: more-info - type: custom:mini-graph-card entities: - entity: sensor.temperature_158d00023acb29 index: 0 name: 温度 - entity: sensor.humidity_158d00023acb29 index: 1 name: 湿度 hours_to_show: 24 icon: mdi:bed name: 次卧 show: labels: true labels_secondary: true - type: vertical-stack cards: - type: custom:mushroom-title-card title: 儿童房 - type: custom:mushroom-light-card entity: light.tradfri_bulb name: 儿童房灯 icon: mdi:teddy-bear layout: vertical show_color_temp_control: true show_brightness_control: true tap_action: action: toggle hold_action: action: more-info double_tap_action: action: more-info - entities: - entity: sensor.temperature_158d0001dcb293 index: 0 name: 温度 - entity: sensor.humidity_158d0001dcb293 index: 1 name: 湿度 hours_to_show: 24 icon: mdi:human-female-girl name: 安妮房间 show: labels: true labels_secondary: true type: custom:mini-graph-card - theme: Backend-selected title: media path: media icon: mdi:multimedia badges: [] cards: - type: markdown content: | ![{{ state_attr('sensor.plex_recently_added', 'data')[1]['title'] }} ]({{ state_attr('sensor.plex_recently_added', 'data')[1]['poster'] }} ) ## &lt;ha-icon icon=""mdi:plex""&gt;&lt;/ha-icon&gt; 最近添加 ### {{ state_attr('sensor.plex_recently_added', 'data')[1]['title'] }} - type: custom:mushroom-media-player-card entity: media_player.plex_plex_web_chrome_windows_2 use_media_info: true show_volume_level: true media_controls: - on_off - shuffle - previous - play_pause_stop - next - repeat volume_controls: - volume_mute - volume_set - volume_buttons fill_container: true - type: vertical-stack cards: - type: custom:mushroom-title-card title: 每日一句 - type: markdown content: &gt; ## &lt;ha-icon icon=""mdi:school-outline""&gt; &lt;/ha-icon&gt; 英语 *{{state_attr('sensor.daily_english', 'note') }}* *{{state_attr('sensor.daily_english', 'content') }}* [![aaa]({{ state_attr('sensor.daily_english', 'picture') }})]( {{ state_attr('sensor.daily_english', 'tts') }} ) - type: markdown content: &gt;- ## &lt;ha-icon icon=""mdi:script-text-outline""&gt;&lt;/ha-icon&gt; 诗词 ### {{ state_attr('sensor.mei_ri_shi_ci', 'origin')['title'] }} #### {{ state_attr('sensor.mei_ri_shi_ci', 'origin')['dynasty'] }} {{ state_attr('sensor.mei_ri_shi_ci', 'origin')['author'] }} {% set content_list = state_attr('sensor.mei_ri_shi_ci', 'origin')['content'] | list %} {% for content in content_list[0:10] %} *{{ content }}* {% endfor %} - type: markdown content: |- ## &lt;ha-icon icon=""mdi:palette""&gt; &lt;/ha-icon&gt; 文物 ### {{state_attr('sensor.artifacts', 'friendly_name')}} ### {{states('sensor.artifacts')}} *{{state_attr('sensor.artifacts', 'description')}}* ![gugong]({{state_attr('sensor.artifacts', 'cover_image')}}) 游客，如果您要查看本帖隐藏内容请 回复 有部分符号被自动转义了，各位注意 hass.yaml (59.41 KB, 下载次数: 206) 2024-1-18 19:06 上传 点击文件名下载附件 (function(){var basePath = window.location.href.split('#')[0].split('/').pop();tocbot.init({tocSelector: '#markdown_toc_507227',contentSelector: '#postmessage_507227',headingSelector: 'h1, h2, h3',collapseDepth: 0,basePath: basePath});})();",2025-07-24T20:18:24.552889,1,19349,发表于 2023-1-27 11:20:14,https://bbs.hassbian.com/thread-19349-1-1.html,,使用mushroom lovelace在ui界面中配置dashboard,
