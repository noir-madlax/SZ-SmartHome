2025-07-24 19:51:54 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: forum_spider)
2025-07-24 19:51:54 [scrapy.utils.log] INFO: Versions:
{'lxml': '5.3.1',
 'libxml2': '2.12.9',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.12.1 (v3.12.1:2305ca5144, Dec  7 2023, 17:23:38) [Clang 13.0.0 '
           '(clang-1300.0.29.30)]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.0 8 Apr 2025)',
 'cryptography': '45.0.4',
 'Platform': 'macOS-15.5-arm64-arm-64bit'}
2025-07-24 19:51:54 [twisted] CRITICAL: Unhandled error in Deferred:
2025-07-24 19:51:54 [twisted] CRITICAL: 
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/twisted/internet/defer.py", line 1857, in _inlineCallbacks
    result = context.run(gen.send, result)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/scrapy/crawler.py", line 153, in crawl
    self.spider = self._create_spider(*args, **kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/scrapy/crawler.py", line 166, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/scrapy/spiders/__init__.py", line 74, in from_crawler
    spider = cls(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^
  File "/Users/rigel/project/leviton/SZ-SmartHome/forum/forum_spider/spiders/hassbian_spider.py", line 21, in __init__
    self.max_pages = getattr(self.settings, 'CUSTOM_SETTINGS', {}).get('MAX_PAGES', 5)
                             ^^^^^^^^^^^^^
AttributeError: 'HassbianSpider' object has no attribute 'settings'
2025-07-24 19:52:18 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: forum_spider)
2025-07-24 19:52:18 [scrapy.utils.log] INFO: Versions:
{'lxml': '5.3.1',
 'libxml2': '2.12.9',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.12.1 (v3.12.1:2305ca5144, Dec  7 2023, 17:23:38) [Clang 13.0.0 '
           '(clang-1300.0.29.30)]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.0 8 Apr 2025)',
 'cryptography': '45.0.4',
 'Platform': 'macOS-15.5-arm64-arm-64bit'}
2025-07-24 19:52:18 [forum_spider.spiders.hassbian_spider] INFO: Spider initialized with single_url: https://bbs.hassbian.com/thread-29624-1-1.html
2025-07-24 19:52:18 [forum_spider.spiders.hassbian_spider] INFO: Spider configured: max_pages=5, max_replies=10
2025-07-24 19:52:18 [forum_spider.spiders.hassbian_spider] INFO: Single URL mode: https://bbs.hassbian.com/thread-29624-1-1.html
2025-07-24 19:52:18 [scrapy.addons] INFO: Enabled addons:
[]
2025-07-24 19:52:18 [asyncio] DEBUG: Using selector: KqueueSelector
2025-07-24 19:52:18 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.asyncioreactor.AsyncioSelectorReactor
2025-07-24 19:52:18 [scrapy.utils.log] DEBUG: Using asyncio event loop: asyncio.unix_events._UnixSelectorEventLoop
2025-07-24 19:52:18 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.feedexport.FeedExporter',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.throttle.AutoThrottle',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.corestats.CoreStats']
2025-07-24 19:52:18 [scrapy.crawler] INFO: Overridden settings:
{'AUTOTHROTTLE_DEBUG': True,
 'AUTOTHROTTLE_ENABLED': True,
 'AUTOTHROTTLE_MAX_DELAY': 10,
 'AUTOTHROTTLE_START_DELAY': 1,
 'AUTOTHROTTLE_TARGET_CONCURRENCY': 2.0,
 'BOT_NAME': 'forum_spider',
 'CONCURRENT_REQUESTS': 8,
 'CONCURRENT_REQUESTS_PER_DOMAIN': 2,
 'CONCURRENT_REQUESTS_PER_IP': 1,
 'DOWNLOAD_DELAY': 2.0,
 'DOWNLOAD_TIMEOUT': 30,
 'HTTPCACHE_ENABLED': True,
 'HTTPCACHE_EXPIRATION_SECS': 3600,
 'LOG_FILE': 'scrapy.log',
 'MEMUSAGE_LIMIT_MB': 2048,
 'MEMUSAGE_WARNING_MB': 1024,
 'NEWSPIDER_MODULE': 'forum_spider.spiders',
 'RANDOMIZE_DOWNLOAD_DELAY': 0.5,
 'RETRY_HTTP_CODES': [500, 502, 503, 504, 408, 429],
 'RETRY_TIMES': 3,
 'SPIDER_MODULES': ['forum_spider.spiders'],
 'TELNETCONSOLE_ENABLED': False,
 'USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) '
               'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 '
               'Safari/537.36'}
2025-07-24 19:52:18 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'forum_spider.middlewares.RotateUserAgentMiddleware',
 'forum_spider.middlewares.ProxyMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats',
 'scrapy.downloadermiddlewares.httpcache.HttpCacheMiddleware']
2025-07-24 19:52:18 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.start.StartSpiderMiddleware',
 'scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'forum_spider.middlewares.ForumSpiderMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2025-07-24 19:52:18 [scrapy.core.spidermw] WARNING: Middleware forum_spider.middlewares.ForumSpiderMiddleware doesn't support asynchronous spider output, this is deprecated and will stop working in a future version of Scrapy. The middleware should be updated to support it. Please see https://docs.scrapy.org/en/latest/topics/coroutines.html#for-middleware-users for more information.
2025-07-24 19:52:18 [scrapy.middleware] INFO: Enabled item pipelines:
['forum_spider.pipelines.ValidationPipeline',
 'forum_spider.pipelines.JsonWriterPipeline',
 'forum_spider.pipelines.CsvWriterPipeline']
2025-07-24 19:52:18 [scrapy.core.engine] INFO: Spider opened
2025-07-24 19:52:18 [py.warnings] WARNING: /Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/scrapy/core/spidermw.py:433: ScrapyDeprecationWarning: forum_spider.spiders.hassbian_spider.HassbianSpider defines the deprecated start_requests() method. start_requests() has been deprecated in favor of a new method, start(), to support asynchronous code execution. start_requests() will stop being called in a future version of Scrapy. If you use Scrapy 2.13 or higher only, replace start_requests() with start(); note that start() is a coroutine (async def). If you need to maintain compatibility with lower Scrapy versions, when overriding start_requests() in a spider class, override start() as well; you can use super() to reuse the inherited start() implementation without copy-pasting. See the release notes of Scrapy 2.13 for details: https://docs.scrapy.org/en/2.13/news.html
  warn(

2025-07-24 19:52:18 [forum_spider.pipelines] INFO: JSON files initialized
2025-07-24 19:52:18 [forum_spider.pipelines] INFO: CSV files initialized
2025-07-24 19:52:18 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2025-07-24 19:52:18 [scrapy.extensions.httpcache] DEBUG: Using filesystem cache storage in /Users/rigel/project/leviton/SZ-SmartHome/forum/.scrapy/httpcache
2025-07-24 19:52:18 [hassbian] INFO: Spider opened: hassbian
2025-07-24 19:52:18 [scrapy.extensions.memusage] INFO: Peak memory usage is 71MiB
2025-07-24 19:52:19 [scrapy.extensions.throttle] INFO: slot: bbs.hassbian.com | conc: 1 | delay: 2000 ms (+0) | latency:  230 ms | size:  2632 bytes
2025-07-24 19:52:19 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-29624-1-1.html> (referer: None)
2025-07-24 19:52:19 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-29624-1-1.html
2025-07-24 19:52:19 [forum_spider.spiders.hassbian_spider] WARNING: Could not extract post ID from URL: https://bbs.hassbian.com/thread-29624-1-1.html
2025-07-24 19:52:19 [scrapy.core.engine] INFO: Closing spider (finished)
2025-07-24 19:52:19 [forum_spider.pipelines] INFO: CSV files closed
2025-07-24 19:52:19 [forum_spider.pipelines] INFO: Saved 0 posts and 0 replies to JSON files
2025-07-24 19:52:19 [scrapy.extensions.feedexport] INFO: Stored json feed (0 items) in: output/posts.json
2025-07-24 19:52:19 [scrapy.extensions.feedexport] INFO: Stored json feed (0 items) in: output/replies.json
2025-07-24 19:52:19 [scrapy.extensions.feedexport] INFO: Stored csv feed (0 items) in: output/forum_data.csv
2025-07-24 19:52:19 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 359,
 'downloader/request_count': 1,
 'downloader/request_method_count/GET': 1,
 'downloader/response_bytes': 2916,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'elapsed_time_seconds': 0.347135,
 'feedexport/success_count/FileFeedStorage': 3,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2025, 7, 24, 11, 52, 19, 344340, tzinfo=datetime.timezone.utc),
 'httpcache/firsthand': 1,
 'httpcache/miss': 1,
 'httpcache/store': 1,
 'httpcompression/response_bytes': 5844,
 'httpcompression/response_count': 1,
 'items_per_minute': None,
 'log_count/DEBUG': 5,
 'log_count/INFO': 19,
 'log_count/WARNING': 3,
 'memusage/max': 74989568,
 'memusage/startup': 74989568,
 'response_received_count': 1,
 'responses_per_minute': None,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2025, 7, 24, 11, 52, 18, 997205, tzinfo=datetime.timezone.utc)}
2025-07-24 19:52:19 [scrapy.core.engine] INFO: Spider closed (finished)
2025-07-24 19:53:11 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: forum_spider)
2025-07-24 19:53:11 [scrapy.utils.log] INFO: Versions:
{'lxml': '5.3.1',
 'libxml2': '2.12.9',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.12.1 (v3.12.1:2305ca5144, Dec  7 2023, 17:23:38) [Clang 13.0.0 '
           '(clang-1300.0.29.30)]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.0 8 Apr 2025)',
 'cryptography': '45.0.4',
 'Platform': 'macOS-15.5-arm64-arm-64bit'}
2025-07-24 19:53:11 [forum_spider.spiders.hassbian_spider] INFO: Spider initialized with single_url: https://bbs.hassbian.com/thread-29624-1-1.html
2025-07-24 19:53:11 [forum_spider.spiders.hassbian_spider] INFO: Spider configured: max_pages=5, max_replies=10
2025-07-24 19:53:11 [forum_spider.spiders.hassbian_spider] INFO: Single URL mode: https://bbs.hassbian.com/thread-29624-1-1.html
2025-07-24 19:53:11 [scrapy.addons] INFO: Enabled addons:
[]
2025-07-24 19:53:11 [asyncio] DEBUG: Using selector: KqueueSelector
2025-07-24 19:53:11 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.asyncioreactor.AsyncioSelectorReactor
2025-07-24 19:53:11 [scrapy.utils.log] DEBUG: Using asyncio event loop: asyncio.unix_events._UnixSelectorEventLoop
2025-07-24 19:53:11 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.feedexport.FeedExporter',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.throttle.AutoThrottle',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.corestats.CoreStats']
2025-07-24 19:53:11 [scrapy.crawler] INFO: Overridden settings:
{'AUTOTHROTTLE_DEBUG': True,
 'AUTOTHROTTLE_ENABLED': True,
 'AUTOTHROTTLE_MAX_DELAY': 10,
 'AUTOTHROTTLE_START_DELAY': 1,
 'AUTOTHROTTLE_TARGET_CONCURRENCY': 2.0,
 'BOT_NAME': 'forum_spider',
 'CONCURRENT_REQUESTS': 8,
 'CONCURRENT_REQUESTS_PER_DOMAIN': 2,
 'CONCURRENT_REQUESTS_PER_IP': 1,
 'DOWNLOAD_DELAY': 2.0,
 'DOWNLOAD_TIMEOUT': 30,
 'HTTPCACHE_EXPIRATION_SECS': 3600,
 'LOG_FILE': 'scrapy.log',
 'MEMUSAGE_LIMIT_MB': 2048,
 'MEMUSAGE_WARNING_MB': 1024,
 'NEWSPIDER_MODULE': 'forum_spider.spiders',
 'RANDOMIZE_DOWNLOAD_DELAY': 0.5,
 'RETRY_HTTP_CODES': [500, 502, 503, 504, 408, 429],
 'RETRY_TIMES': 3,
 'SPIDER_MODULES': ['forum_spider.spiders'],
 'TELNETCONSOLE_ENABLED': False,
 'USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) '
               'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 '
               'Safari/537.36'}
2025-07-24 19:53:11 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'forum_spider.middlewares.RotateUserAgentMiddleware',
 'forum_spider.middlewares.ProxyMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2025-07-24 19:53:11 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.start.StartSpiderMiddleware',
 'scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'forum_spider.middlewares.ForumSpiderMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2025-07-24 19:53:11 [scrapy.core.spidermw] WARNING: Middleware forum_spider.middlewares.ForumSpiderMiddleware doesn't support asynchronous spider output, this is deprecated and will stop working in a future version of Scrapy. The middleware should be updated to support it. Please see https://docs.scrapy.org/en/latest/topics/coroutines.html#for-middleware-users for more information.
2025-07-24 19:53:11 [scrapy.middleware] INFO: Enabled item pipelines:
['forum_spider.pipelines.ValidationPipeline',
 'forum_spider.pipelines.JsonWriterPipeline',
 'forum_spider.pipelines.CsvWriterPipeline']
2025-07-24 19:53:11 [scrapy.core.engine] INFO: Spider opened
2025-07-24 19:53:11 [py.warnings] WARNING: /Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/scrapy/core/spidermw.py:433: ScrapyDeprecationWarning: forum_spider.spiders.hassbian_spider.HassbianSpider defines the deprecated start_requests() method. start_requests() has been deprecated in favor of a new method, start(), to support asynchronous code execution. start_requests() will stop being called in a future version of Scrapy. If you use Scrapy 2.13 or higher only, replace start_requests() with start(); note that start() is a coroutine (async def). If you need to maintain compatibility with lower Scrapy versions, when overriding start_requests() in a spider class, override start() as well; you can use super() to reuse the inherited start() implementation without copy-pasting. See the release notes of Scrapy 2.13 for details: https://docs.scrapy.org/en/2.13/news.html
  warn(

2025-07-24 19:53:11 [forum_spider.pipelines] INFO: JSON files initialized
2025-07-24 19:53:11 [forum_spider.pipelines] INFO: CSV files initialized
2025-07-24 19:53:11 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2025-07-24 19:53:11 [hassbian] INFO: Spider opened: hassbian
2025-07-24 19:53:11 [scrapy.extensions.memusage] INFO: Peak memory usage is 69MiB
2025-07-24 19:53:12 [scrapy.extensions.throttle] INFO: slot: bbs.hassbian.com | conc: 1 | delay: 2000 ms (+0) | latency:  466 ms | size: 18256 bytes
2025-07-24 19:53:12 [urllib3.connectionpool] DEBUG: Starting new HTTPS connection (1): publicsuffix.org:443
2025-07-24 19:53:12 [urllib3.connectionpool] DEBUG: https://publicsuffix.org:443 "GET /list/public_suffix_list.dat HTTP/1.1" 200 87917
2025-07-24 19:53:13 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-29624-1-1.html> (referer: None)
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-29624-1-1.html
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting reply 2: Error with input processor MapCompose: field='floor_num' value=[2] error='ValueError: Error in MapCompose with <function extract_numbers at 0x1104d4360> value=[2] error='TypeError: expected string or bytes-like object, got 'int'''
2025-07-24 19:53:13 [forum_spider.spiders.hassbian_spider] INFO: Extracted 0 replies for post 29624
2025-07-24 19:53:13 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 19:53:13 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-1-1.html>
{'author': 'lhdbx',
 'crawl_time': '2025-07-24T19:53:13.378097',
 'page_num': 1,
 'post_id': ['29624'],
 'post_time': '发表于 2025-6-22 16:54:40',
 'post_url': 'https://bbs.hassbian.com/thread-29624-1-1.html',
 'title': '求好用的zigbee平价设备接入Z2M'}
2025-07-24 19:53:13 [scrapy.core.engine] INFO: Closing spider (finished)
2025-07-24 19:53:13 [forum_spider.pipelines] INFO: CSV files closed
2025-07-24 19:53:13 [forum_spider.pipelines] INFO: Saved 1 posts and 0 replies to JSON files
2025-07-24 19:53:13 [scrapy.extensions.feedexport] INFO: Stored json feed (1 items) in: output/posts.json
2025-07-24 19:53:13 [scrapy.extensions.feedexport] INFO: Stored json feed (0 items) in: output/replies.json
2025-07-24 19:53:13 [scrapy.extensions.feedexport] INFO: Stored csv feed (1 items) in: output/forum_data.csv
2025-07-24 19:53:13 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 373,
 'downloader/request_count': 1,
 'downloader/request_method_count/GET': 1,
 'downloader/response_bytes': 19046,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'elapsed_time_seconds': 1.562718,
 'feedexport/success_count/FileFeedStorage': 3,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2025, 7, 24, 11, 53, 13, 379783, tzinfo=datetime.timezone.utc),
 'httpcompression/response_bytes': 88475,
 'httpcompression/response_count': 1,
 'item_scraped_count': 1,
 'items_per_minute': None,
 'log_count/DEBUG': 7,
 'log_count/ERROR': 20,
 'log_count/INFO': 21,
 'log_count/WARNING': 2,
 'memusage/max': 73072640,
 'memusage/startup': 73072640,
 'response_received_count': 1,
 'responses_per_minute': None,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2025, 7, 24, 11, 53, 11, 817065, tzinfo=datetime.timezone.utc)}
2025-07-24 19:53:13 [scrapy.core.engine] INFO: Spider closed (finished)
2025-07-24 19:53:46 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: forum_spider)
2025-07-24 19:53:46 [scrapy.utils.log] INFO: Versions:
{'lxml': '5.3.1',
 'libxml2': '2.12.9',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.12.1 (v3.12.1:2305ca5144, Dec  7 2023, 17:23:38) [Clang 13.0.0 '
           '(clang-1300.0.29.30)]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.0 8 Apr 2025)',
 'cryptography': '45.0.4',
 'Platform': 'macOS-15.5-arm64-arm-64bit'}
2025-07-24 19:53:46 [forum_spider.spiders.hassbian_spider] INFO: Spider initialized with single_url: https://bbs.hassbian.com/thread-29624-1-1.html
2025-07-24 19:53:46 [forum_spider.spiders.hassbian_spider] INFO: Spider configured: max_pages=5, max_replies=10
2025-07-24 19:53:46 [forum_spider.spiders.hassbian_spider] INFO: Single URL mode: https://bbs.hassbian.com/thread-29624-1-1.html
2025-07-24 19:53:46 [scrapy.addons] INFO: Enabled addons:
[]
2025-07-24 19:53:46 [asyncio] DEBUG: Using selector: KqueueSelector
2025-07-24 19:53:46 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.asyncioreactor.AsyncioSelectorReactor
2025-07-24 19:53:46 [scrapy.utils.log] DEBUG: Using asyncio event loop: asyncio.unix_events._UnixSelectorEventLoop
2025-07-24 19:53:46 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.feedexport.FeedExporter',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.throttle.AutoThrottle',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.corestats.CoreStats']
2025-07-24 19:53:46 [scrapy.crawler] INFO: Overridden settings:
{'AUTOTHROTTLE_DEBUG': True,
 'AUTOTHROTTLE_ENABLED': True,
 'AUTOTHROTTLE_MAX_DELAY': 10,
 'AUTOTHROTTLE_START_DELAY': 1,
 'AUTOTHROTTLE_TARGET_CONCURRENCY': 2.0,
 'BOT_NAME': 'forum_spider',
 'CONCURRENT_REQUESTS': 8,
 'CONCURRENT_REQUESTS_PER_DOMAIN': 2,
 'CONCURRENT_REQUESTS_PER_IP': 1,
 'DOWNLOAD_DELAY': 2.0,
 'DOWNLOAD_TIMEOUT': 30,
 'HTTPCACHE_EXPIRATION_SECS': 3600,
 'LOG_FILE': 'scrapy.log',
 'MEMUSAGE_LIMIT_MB': 2048,
 'MEMUSAGE_WARNING_MB': 1024,
 'NEWSPIDER_MODULE': 'forum_spider.spiders',
 'RANDOMIZE_DOWNLOAD_DELAY': 0.5,
 'RETRY_HTTP_CODES': [500, 502, 503, 504, 408, 429],
 'RETRY_TIMES': 3,
 'SPIDER_MODULES': ['forum_spider.spiders'],
 'TELNETCONSOLE_ENABLED': False,
 'USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) '
               'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 '
               'Safari/537.36'}
2025-07-24 19:53:47 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'forum_spider.middlewares.RotateUserAgentMiddleware',
 'forum_spider.middlewares.ProxyMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2025-07-24 19:53:47 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.start.StartSpiderMiddleware',
 'scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'forum_spider.middlewares.ForumSpiderMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2025-07-24 19:53:47 [scrapy.core.spidermw] WARNING: Middleware forum_spider.middlewares.ForumSpiderMiddleware doesn't support asynchronous spider output, this is deprecated and will stop working in a future version of Scrapy. The middleware should be updated to support it. Please see https://docs.scrapy.org/en/latest/topics/coroutines.html#for-middleware-users for more information.
2025-07-24 19:53:47 [scrapy.middleware] INFO: Enabled item pipelines:
['forum_spider.pipelines.ValidationPipeline',
 'forum_spider.pipelines.JsonWriterPipeline',
 'forum_spider.pipelines.CsvWriterPipeline']
2025-07-24 19:53:47 [scrapy.core.engine] INFO: Spider opened
2025-07-24 19:53:47 [py.warnings] WARNING: /Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/scrapy/core/spidermw.py:433: ScrapyDeprecationWarning: forum_spider.spiders.hassbian_spider.HassbianSpider defines the deprecated start_requests() method. start_requests() has been deprecated in favor of a new method, start(), to support asynchronous code execution. start_requests() will stop being called in a future version of Scrapy. If you use Scrapy 2.13 or higher only, replace start_requests() with start(); note that start() is a coroutine (async def). If you need to maintain compatibility with lower Scrapy versions, when overriding start_requests() in a spider class, override start() as well; you can use super() to reuse the inherited start() implementation without copy-pasting. See the release notes of Scrapy 2.13 for details: https://docs.scrapy.org/en/2.13/news.html
  warn(

2025-07-24 19:53:47 [forum_spider.pipelines] INFO: JSON files initialized
2025-07-24 19:53:47 [forum_spider.pipelines] INFO: CSV files initialized
2025-07-24 19:53:47 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2025-07-24 19:53:47 [hassbian] INFO: Spider opened: hassbian
2025-07-24 19:53:47 [scrapy.extensions.memusage] INFO: Peak memory usage is 70MiB
2025-07-24 19:53:47 [scrapy.extensions.throttle] INFO: slot: bbs.hassbian.com | conc: 1 | delay: 2000 ms (+0) | latency:   74 ms | size: 18256 bytes
2025-07-24 19:53:47 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-29624-1-1.html> (referer: None)
2025-07-24 19:53:47 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-29624-1-1.html
2025-07-24 19:53:47 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 29624
2025-07-24 19:53:47 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 19:53:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-1-1.html>
{'author': 'lhdbx',
 'crawl_time': '2025-07-24T19:53:47.314305',
 'page_num': 1,
 'post_id': ['29624'],
 'post_time': '发表于 2025-6-22 16:54:40',
 'post_url': 'https://bbs.hassbian.com/thread-29624-1-1.html',
 'title': '求好用的zigbee平价设备接入Z2M'}
2025-07-24 19:53:47 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 19:53:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-1-1.html>
{'author': 'wdmywm3',
 'content': '哎……zigbee现在就是这样，东西少，要么就是贵…… 我仅有的几个zigbee开关也都是aqara的 '
            '除此以外还是用小米蓝牙mesh的开关多，主要还是有些新的实在漂亮，忍不住……',
 'crawl_time': '2025-07-24T19:53:47.315732',
 'floor_num': 3,
 'post_id': ['29624'],
 'reply_id': ['post_681522'],
 'reply_time': '发表于 2025-6-22 17:15:17'}
2025-07-24 19:53:47 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 19:53:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-1-1.html>
{'author': 'lhdbx',
 'content': 'wdmywm3 发表于 2025-6-22 17:15 哎……zigbee现在就是这样，东西少，要么就是贵…… '
            '我仅有的几个zigbee开关也都是aqara的 除此以外还是用 ... '
            '对呀，我本来想着zigbee开关覆盖到位，然后就可以配传感器。都说zigbee省电，而且稳定。 可是我部署好了基础覆盖，突然发现 '
            '没啥推荐的传感器。烦死了 '
            '我限制是2个多模2，覆盖全家，gw3接入灯和窗帘。感觉还不如开关也米家算了，也能蓝牙全本地覆盖，为了zigbee买了绿米，搞得家里2套系统。 '
            '我都觉得傻了 浪费钱 现在骑虎难下',
 'crawl_time': '2025-07-24T19:53:47.316191',
 'floor_num': 5,
 'post_id': ['29624'],
 'reply_id': ['post_681525'],
 'reply_time': '发表于 2025-6-22 17:22:15'}
2025-07-24 19:53:47 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 19:53:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-1-1.html>
{'author': 'qjrxsoft',
 'content': 'lhdbx 发表于 2025-6-22 17:22 '
            '对呀，我本来想着zigbee开关覆盖到位，然后就可以配传感器。都说zigbee省电，而且稳定。 可是我部署好了 ... '
            '哥们及时止损吧，我也是zigbee过度到米家蓝牙mesh的，我之前比任何人都推崇zigbee，入坑zigbee之后才明白各种苦，后面果断换米家蓝牙mesh，我的开关全是绿米的D1,一咬牙我全丢小黄鱼，亏死我了，智能家居对于我来说是实用品而不是玩具，追求的是稳定、可靠、性价比、少折腾。',
 'crawl_time': '2025-07-24T19:53:47.316442',
 'floor_num': 7,
 'post_id': ['29624'],
 'reply_id': ['post_681554'],
 'reply_time': '发表于 2025-6-22 21:21:50'}
2025-07-24 19:53:47 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 19:53:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-1-1.html>
{'author': 'lichao622',
 'content': '相信我，要用zigbee就用绿米的，涂鸦的，或者杂七杂八的不要用。。。。',
 'crawl_time': '2025-07-24T19:53:47.316648',
 'floor_num': 9,
 'post_id': ['29624'],
 'reply_id': ['post_681562'],
 'reply_time': '发表于 2025-6-22 22:10:22'}
2025-07-24 19:53:47 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 19:53:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-1-1.html>
{'author': 'gx19970920',
 'content': '你如果想入坑zigbee，就一定要买aqara的，长供电的中继器可以选择其他品牌的，比如水阀，墙面插座之类的，但是用电池的传感器一定要选aqara '
            '登录/注册后可看大图 image.png (236.3 KB, 下载次数: 0) 下载附件 2025-6-23 08:38 上传',
 'crawl_time': '2025-07-24T19:53:47.316826',
 'floor_num': 11,
 'post_id': ['29624'],
 'reply_id': ['post_681603'],
 'reply_time': '发表于 2025-6-23 08:38:42'}
2025-07-24 19:53:47 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 19:53:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-1-1.html>
{'author': 'lhdbx',
 'content': 'gx19970920 发表于 2025-6-23 08:38 '
            '你如果想入坑zigbee，就一定要买aqara的，长供电的中继器可以选择其他品牌的，比如水阀，墙面插座之类的， ... 已经入坑了 '
            '我就想着有退路，所以开关都买了零火得绿米D1，这样就算不用z2M了，小米多模2也能用，再不济跟你一样咸鱼卖了，卖是真卖得快。 '
            '之前一直刷论坛，觉得Z2M好厉害，又有拓扑图，又全能接入，好好。然后执着Z2M 突然装完才发现，并没有什么好产品推荐接入 '
            '还得买米家得蓝牙mash传感器，我的zigbee网络覆盖不是废了嘛 电池的传感器一定要选aqara 确定好用嘛？省电又准确？ '
            '推荐几个呗 现在已经下不了车了',
 'crawl_time': '2025-07-24T19:53:47.317011',
 'floor_num': 13,
 'post_id': ['29624'],
 'reply_id': ['post_681606'],
 'reply_time': '发表于 2025-6-23 08:47:53'}
2025-07-24 19:53:47 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 19:53:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-1-1.html>
{'author': 'gx19970920',
 'content': 'lhdbx 发表于 2025-6-23 08:47 已经入坑了 '
            '我就想着有退路，所以开关都买了零火得绿米D1，这样就算不用z2M了，小米多模2也能用，再不济 ... '
            '其实aqara的传感器就那么几个类型：温湿度，水浸，光照，门窗，我就用了这些传感器，都是直接搜aqara买就行，',
 'crawl_time': '2025-07-24T19:53:47.317215',
 'floor_num': 15,
 'post_id': ['29624'],
 'reply_id': ['post_681608'],
 'reply_time': '发表于 2025-6-23 08:50:06'}
2025-07-24 19:53:47 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 19:53:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-1-1.html>
{'author': 'lhdbx',
 'content': 'lichao622 发表于 2025-6-22 22:10 '
            '相信我，要用zigbee就用绿米的，涂鸦的，或者杂七杂八的不要用。。。。 是的 我之前看欧瑞博质感好，也买来Z2M接入 '
            '发现第一个没问题 好像是HA1.2协议 '
            '然后后面买的都不好用，要么只能识别状态，不能远程控制，要么自己每隔半小时自己开关一下，有毒。 涂鸦我不知道买哪个型号呀，求推荐呀 '
            '好多接入之后，有按钮，但是都是没用功能的 返回都是错误 求推荐 或则带转换器的',
 'crawl_time': '2025-07-24T19:53:47.317412',
 'floor_num': 17,
 'post_id': ['29624'],
 'reply_id': ['post_681609'],
 'reply_time': '发表于 2025-6-23 08:50:45'}
2025-07-24 19:53:47 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 19:53:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-1-1.html>
{'author': 'lhdbx',
 'content': 'qjrxsoft 发表于 2025-6-22 21:21 '
            '哥们及时止损吧，我也是zigbee过度到米家蓝牙mesh的，我之前比任何人都推崇zigbee，入坑zigbee之后才明白 ... '
            '哎 别说了 已经入坑了 还不想放弃 。 我折腾装完都花了一个月 好不容易全屋覆盖了zigbee网络 '
            '还有就是奇怪，传感器不能漫游，比如绿米无线开关，我拿到任何地方它都无法就今中继，99方的房子显示都质量特别弱 '
            'zigbee不是应该优势就是信号传递吗',
 'crawl_time': '2025-07-24T19:53:47.317601',
 'floor_num': 19,
 'post_id': ['29624'],
 'reply_id': ['post_681610'],
 'reply_time': '发表于 2025-6-23 08:52:52'}
2025-07-24 19:53:47 [scrapy.core.engine] INFO: Closing spider (finished)
2025-07-24 19:53:47 [forum_spider.pipelines] INFO: CSV files closed
2025-07-24 19:53:47 [forum_spider.pipelines] INFO: Saved 1 posts and 9 replies to JSON files
2025-07-24 19:53:47 [scrapy.extensions.feedexport] INFO: Stored json feed (1 items) in: output/posts.json
2025-07-24 19:53:47 [scrapy.extensions.feedexport] INFO: Stored json feed (9 items) in: output/replies.json
2025-07-24 19:53:47 [scrapy.extensions.feedexport] INFO: Stored csv feed (10 items) in: output/forum_data.csv
2025-07-24 19:53:47 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 369,
 'downloader/request_count': 1,
 'downloader/request_method_count/GET': 1,
 'downloader/response_bytes': 18542,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'elapsed_time_seconds': 0.223797,
 'feedexport/success_count/FileFeedStorage': 3,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2025, 7, 24, 11, 53, 47, 318792, tzinfo=datetime.timezone.utc),
 'httpcompression/response_bytes': 88475,
 'httpcompression/response_count': 1,
 'item_scraped_count': 10,
 'items_per_minute': None,
 'log_count/DEBUG': 14,
 'log_count/INFO': 30,
 'log_count/WARNING': 2,
 'memusage/max': 73809920,
 'memusage/startup': 73809920,
 'response_received_count': 1,
 'responses_per_minute': None,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2025, 7, 24, 11, 53, 47, 94995, tzinfo=datetime.timezone.utc)}
2025-07-24 19:53:47 [scrapy.core.engine] INFO: Spider closed (finished)
2025-07-24 20:03:05 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: forum_spider)
2025-07-24 20:03:05 [scrapy.utils.log] INFO: Versions:
{'lxml': '5.3.1',
 'libxml2': '2.12.9',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.12.1 (v3.12.1:2305ca5144, Dec  7 2023, 17:23:38) [Clang 13.0.0 '
           '(clang-1300.0.29.30)]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.0 8 Apr 2025)',
 'cryptography': '45.0.4',
 'Platform': 'macOS-15.5-arm64-arm-64bit'}
2025-07-24 20:03:05 [forum_spider.spiders.hassbian_spider] INFO: Spider initialized with single_url: None
2025-07-24 20:03:05 [forum_spider.spiders.hassbian_spider] INFO: Spider configured: max_pages=1, max_posts_per_page=10, max_replies=20
2025-07-24 20:03:05 [scrapy.addons] INFO: Enabled addons:
[]
2025-07-24 20:03:05 [asyncio] DEBUG: Using selector: KqueueSelector
2025-07-24 20:03:05 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.asyncioreactor.AsyncioSelectorReactor
2025-07-24 20:03:05 [scrapy.utils.log] DEBUG: Using asyncio event loop: asyncio.unix_events._UnixSelectorEventLoop
2025-07-24 20:03:05 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.feedexport.FeedExporter',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.throttle.AutoThrottle',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.corestats.CoreStats']
2025-07-24 20:03:05 [scrapy.crawler] INFO: Overridden settings:
{'AUTOTHROTTLE_DEBUG': True,
 'AUTOTHROTTLE_ENABLED': True,
 'AUTOTHROTTLE_MAX_DELAY': 10,
 'AUTOTHROTTLE_START_DELAY': 1,
 'AUTOTHROTTLE_TARGET_CONCURRENCY': 2.0,
 'BOT_NAME': 'forum_spider',
 'CONCURRENT_REQUESTS': 8,
 'CONCURRENT_REQUESTS_PER_DOMAIN': 2,
 'CONCURRENT_REQUESTS_PER_IP': 1,
 'DOWNLOAD_DELAY': 2.0,
 'DOWNLOAD_TIMEOUT': 30,
 'HTTPCACHE_EXPIRATION_SECS': 3600,
 'LOG_FILE': 'scrapy.log',
 'MEMUSAGE_LIMIT_MB': 2048,
 'MEMUSAGE_WARNING_MB': 1024,
 'NEWSPIDER_MODULE': 'forum_spider.spiders',
 'RANDOMIZE_DOWNLOAD_DELAY': 0.5,
 'RETRY_HTTP_CODES': [500, 502, 503, 504, 408, 429],
 'RETRY_TIMES': 3,
 'SPIDER_MODULES': ['forum_spider.spiders'],
 'TELNETCONSOLE_ENABLED': False,
 'USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) '
               'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 '
               'Safari/537.36'}
2025-07-24 20:03:06 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'forum_spider.middlewares.RotateUserAgentMiddleware',
 'forum_spider.middlewares.ProxyMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2025-07-24 20:03:06 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.start.StartSpiderMiddleware',
 'scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'forum_spider.middlewares.ForumSpiderMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2025-07-24 20:03:06 [scrapy.core.spidermw] WARNING: Middleware forum_spider.middlewares.ForumSpiderMiddleware doesn't support asynchronous spider output, this is deprecated and will stop working in a future version of Scrapy. The middleware should be updated to support it. Please see https://docs.scrapy.org/en/latest/topics/coroutines.html#for-middleware-users for more information.
2025-07-24 20:03:06 [scrapy.middleware] INFO: Enabled item pipelines:
['forum_spider.pipelines.ValidationPipeline',
 'forum_spider.pipelines.DuplicatesPipeline',
 'forum_spider.pipelines.TxtWriterPipeline',
 'forum_spider.pipelines.JsonWriterPipeline']
2025-07-24 20:03:06 [scrapy.core.engine] INFO: Spider opened
2025-07-24 20:03:06 [py.warnings] WARNING: /Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/scrapy/core/spidermw.py:433: ScrapyDeprecationWarning: forum_spider.spiders.hassbian_spider.HassbianSpider defines the deprecated start_requests() method. start_requests() has been deprecated in favor of a new method, start(), to support asynchronous code execution. start_requests() will stop being called in a future version of Scrapy. If you use Scrapy 2.13 or higher only, replace start_requests() with start(); note that start() is a coroutine (async def). If you need to maintain compatibility with lower Scrapy versions, when overriding start_requests() in a spider class, override start() as well; you can use super() to reuse the inherited start() implementation without copy-pasting. See the release notes of Scrapy 2.13 for details: https://docs.scrapy.org/en/2.13/news.html
  warn(

2025-07-24 20:03:06 [forum_spider.pipelines] INFO: TXT output directory initialized: output/HomeAssistant综合讨论区
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: JSON files initialized
2025-07-24 20:03:06 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2025-07-24 20:03:06 [hassbian] INFO: Spider opened: hassbian
2025-07-24 20:03:06 [scrapy.extensions.memusage] INFO: Peak memory usage is 71MiB
2025-07-24 20:03:06 [scrapy.extensions.throttle] INFO: slot: bbs.hassbian.com | conc: 1 | delay: 2000 ms (+0) | latency:  102 ms | size: 18401 bytes
2025-07-24 20:03:06 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/forum-38-1.html> (referer: None)
2025-07-24 20:03:06 [forum_spider.spiders.hassbian_spider] INFO: Parsing forum list page 1: https://bbs.hassbian.com/forum-38-1.html
2025-07-24 20:03:06 [forum_spider.spiders.hassbian_spider] INFO: Using selector: tbody[id^="normalthread_"] th.new a[href*="thread-"]::attr(href)
2025-07-24 20:03:06 [forum_spider.spiders.hassbian_spider] INFO: Found 150 total post links, using 10 unique links on page 1
2025-07-24 20:03:06 [forum_spider.spiders.hassbian_spider] INFO: Processing post 1/10: https://bbs.hassbian.com/thread-29901-1-1.html
2025-07-24 20:03:06 [forum_spider.spiders.hassbian_spider] INFO: Processing post 2/10: https://bbs.hassbian.com/thread-25894-1-1.html
2025-07-24 20:03:06 [forum_spider.spiders.hassbian_spider] INFO: Processing post 3/10: https://bbs.hassbian.com/thread-25894-2-1.html
2025-07-24 20:03:06 [forum_spider.spiders.hassbian_spider] INFO: Processing post 4/10: https://bbs.hassbian.com/thread-25894-3-1.html
2025-07-24 20:03:06 [forum_spider.spiders.hassbian_spider] INFO: Processing post 5/10: https://bbs.hassbian.com/thread-25894-4-1.html
2025-07-24 20:03:06 [forum_spider.spiders.hassbian_spider] INFO: Processing post 6/10: https://bbs.hassbian.com/thread-25894-5-1.html
2025-07-24 20:03:06 [forum_spider.spiders.hassbian_spider] INFO: Processing post 7/10: https://bbs.hassbian.com/thread-25894-6-1.html
2025-07-24 20:03:06 [forum_spider.spiders.hassbian_spider] INFO: Processing post 8/10: https://bbs.hassbian.com/thread-25894-38-1.html
2025-07-24 20:03:06 [forum_spider.spiders.hassbian_spider] INFO: Processing post 9/10: https://bbs.hassbian.com/thread-29624-1-1.html
2025-07-24 20:03:06 [forum_spider.spiders.hassbian_spider] INFO: Processing post 10/10: https://bbs.hassbian.com/thread-29624-2-1.html
2025-07-24 20:03:06 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:  299 ms | size: 15347 bytes
2025-07-24 20:03:06 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-29624-2-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:03:06 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-29624-2-1.html
2025-07-24 20:03:06 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 29624
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Post saved: output/HomeAssistant综合讨论区/29624_求好用的zigbee平价设备接入Z2M/帖子内容.txt
2025-07-24 20:03:06 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-2-1.html>
{'author': 'lhdbx',
 'crawl_time': '2025-07-24T20:03:06.759726',
 'page_num': 1,
 'post_id': ['29624'],
 'post_time': '发表于 2025-6-23 08:57:01',
 'post_url': 'https://bbs.hassbian.com/thread-29624-2-1.html',
 'title': '求好用的zigbee平价设备接入Z2M'}
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/29624_求好用的zigbee平价设备接入Z2M/回复内容.txt
2025-07-24 20:03:06 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-2-1.html>
{'author': 'kmart',
 'content': 'lhdbx 发表于 2025-6-23 08:57 我看你的图 还行确实都是绿米，不过我感觉绿米是不是传感器中继有问题 不太好， '
            '你多少方？几个zigbee ... '
            '玩了几年的zigbee经验，要稳定而且信号好，全部都使用aqara的产品，网关也使用aqara的网关！ '
            '再回答一下中继的问题，只有接入了零火线的设备才能中继，单火以及电池的设备没有中继功能！',
 'crawl_time': '2025-07-24T20:03:06.761513',
 'floor_num': 3,
 'post_id': ['29624'],
 'reply_id': ['post_681615'],
 'reply_time': '发表于 2025-6-23 09:26:59'}
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/29624_求好用的zigbee平价设备接入Z2M/回复内容.txt
2025-07-24 20:03:06 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-2-1.html>
{'author': 'lhdbx',
 'content': 'kmart 发表于 2025-6-23 09:26 '
            '玩了几年的zigbee经验，要稳定而且信号好，全部都使用aqara的产品，网关也使用aqara的网关！ 再回答一下 ... '
            '绿米零活D1 你看我拓扑图 用aqara网关了，那我心心念念的Z2M就没用了 那不是直接绿米了 都没其他了',
 'crawl_time': '2025-07-24T20:03:06.762452',
 'floor_num': 5,
 'post_id': ['29624'],
 'reply_id': ['post_681616'],
 'reply_time': '发表于 2025-6-23 09:36:23'}
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/29624_求好用的zigbee平价设备接入Z2M/回复内容.txt
2025-07-24 20:03:06 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-2-1.html>
{'author': 'gx19970920',
 'content': 'lhdbx 发表于 2025-6-23 09:36 绿米零活D1 你看我拓扑图 用aqara网关了，那我心心念念的Z2M就没用了 '
            '网关你可以买冬瓜的z2m网关，比较好',
 'crawl_time': '2025-07-24T20:03:06.763067',
 'floor_num': 7,
 'post_id': ['29624'],
 'reply_id': ['post_681623'],
 'reply_time': '发表于 2025-6-23 10:10:21'}
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/29624_求好用的zigbee平价设备接入Z2M/回复内容.txt
2025-07-24 20:03:06 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-2-1.html>
{'author': 'lhdbx',
 'content': 'gx19970920 发表于 2025-6-23 10:10 网关你可以买冬瓜的z2m网关，比较好 已经搭建好啦 就差比较性价比 '
            '非常兼容z2M的传感器了',
 'crawl_time': '2025-07-24T20:03:06.763430',
 'floor_num': 9,
 'post_id': ['29624'],
 'reply_id': ['post_681627'],
 'reply_time': '发表于 2025-6-23 10:21:18'}
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/29624_求好用的zigbee平价设备接入Z2M/回复内容.txt
2025-07-24 20:03:06 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-2-1.html>
{'author': 'lichao622',
 'content': 'lhdbx 发表于 2025-6-23 08:50 是的 我之前看欧瑞博质感好，也买来Z2M接入 发现第一个没问题 '
            '好像是HA1.2协议 然后后面买的都不好用 ... 我的意思是只能是用绿米的，涂鸦的别用。真的，我就踩坑了涂鸦的。。。。哈哈',
 'crawl_time': '2025-07-24T20:03:06.763804',
 'floor_num': 11,
 'post_id': ['29624'],
 'reply_id': ['post_681638'],
 'reply_time': '发表于 2025-6-23 10:50:07'}
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/29624_求好用的zigbee平价设备接入Z2M/回复内容.txt
2025-07-24 20:03:06 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-2-1.html>
{'author': 'lichao622',
 'content': 'lichao622 发表于 2025-6-23 10:50 '
            '我的意思是只能是用绿米的，涂鸦的别用。真的，我就踩坑了涂鸦的。。。。哈哈 ... '
            '我是逐步把所有zigbee设备换成绿米的后就稳定了',
 'crawl_time': '2025-07-24T20:03:06.764179',
 'floor_num': 13,
 'post_id': ['29624'],
 'reply_id': ['post_681639'],
 'reply_time': '发表于 2025-6-23 10:51:16'}
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/29624_求好用的zigbee平价设备接入Z2M/回复内容.txt
2025-07-24 20:03:06 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-2-1.html>
{'author': 'gasment',
 'content': '是不是有点过于执着信号覆盖了。。。',
 'crawl_time': '2025-07-24T20:03:06.764472',
 'floor_num': 15,
 'post_id': ['29624'],
 'reply_id': ['post_681643'],
 'reply_time': '发表于 2025-6-23 11:03:17'}
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/29624_求好用的zigbee平价设备接入Z2M/回复内容.txt
2025-07-24 20:03:06 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-2-1.html>
{'author': 'lhdbx',
 'content': 'lichao622 发表于 2025-6-23 10:50 '
            '我的意思是只能是用绿米的，涂鸦的别用。真的，我就踩坑了涂鸦的。。。。哈哈 ... 你这意思 就是不要Z2M了，都全是绿米了 '
            '还不知直接aqara',
 'crawl_time': '2025-07-24T20:03:06.764738',
 'floor_num': 17,
 'post_id': ['29624'],
 'reply_id': ['post_681653'],
 'reply_time': '发表于 2025-6-23 11:26:24'}
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:06 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/29624_求好用的zigbee平价设备接入Z2M/回复内容.txt
2025-07-24 20:03:06 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29624-2-1.html>
{'author': 'lhdbx',
 'content': 'gasment 发表于 2025-6-23 11:03 是不是有点过于执着信号覆盖了。。。 那也是论坛忽悠的 说什么信号稳定 '
            '什么本地直连 什么耗电少 一套一套的 吹Z2M 真坑 都没有一套完整的方案',
 'crawl_time': '2025-07-24T20:03:06.765000',
 'floor_num': 19,
 'post_id': ['29624'],
 'reply_id': ['post_681654'],
 'reply_time': '发表于 2025-6-23 11:27:38'}
2025-07-24 20:03:08 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:   28 ms | size:  2632 bytes
2025-07-24 20:03:08 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-29624-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:03:08 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-29624-1-1.html
2025-07-24 20:03:08 [forum_spider.spiders.hassbian_spider] WARNING: No reply elements found for post 29624
2025-07-24 20:03:08 [scrapy.core.scraper] WARNING: Dropped: Missing required field: title in {'page_num': 1,
 'post_id': ['29624'],
 'post_url': 'https://bbs.hassbian.com/thread-29624-1-1.html'}
{'page_num': 1,
 'post_id': ['29624'],
 'post_url': 'https://bbs.hassbian.com/thread-29624-1-1.html'}
2025-07-24 20:03:10 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:  356 ms | size: 10918 bytes
2025-07-24 20:03:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-25894-38-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:03:10 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-25894-38-1.html
2025-07-24 20:03:10 [forum_spider.spiders.hassbian_spider] INFO: Extracted 2 replies for post 25894
2025-07-24 20:03:10 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:03:10 [forum_spider.pipelines] INFO: Post saved: output/HomeAssistant综合讨论区/25894_消逝-手机端（更新2025-07-05）/帖子内容.txt
2025-07-24 20:03:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-25894-38-1.html>
{'author': 'liyong763435720',
 'crawl_time': '2025-07-24T20:03:10.794112',
 'page_num': 1,
 'post_id': ['25894'],
 'post_time': '发表于',
 'post_url': 'https://bbs.hassbian.com/thread-25894-38-1.html',
 'title': '消逝-手机端（更新2025-07-05）'}
2025-07-24 20:03:10 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:10 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/25894_消逝-手机端（更新2025-07-05）/回复内容.txt
2025-07-24 20:03:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-25894-38-1.html>
{'author': 'peng_jia',
 'content': '谢谢分享，正在学习',
 'crawl_time': '2025-07-24T20:03:10.795315',
 'floor_num': 3,
 'post_id': ['25894'],
 'reply_id': ['post_687215'],
 'reply_time': '发表于'}
2025-07-24 20:03:10 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:10 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/25894_消逝-手机端（更新2025-07-05）/回复内容.txt
2025-07-24 20:03:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-25894-38-1.html>
{'author': 'a5824420',
 'content': '收藏一下，正好需要',
 'crawl_time': '2025-07-24T20:03:10.796703',
 'floor_num': 5,
 'post_id': ['25894'],
 'reply_id': ['post_687243'],
 'reply_time': '发表于'}
2025-07-24 20:03:12 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:   58 ms | size: 14492 bytes
2025-07-24 20:03:12 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-25894-6-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:03:12 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-25894-6-1.html
2025-07-24 20:03:12 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 25894
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:03:12 [scrapy.core.scraper] WARNING: Dropped: Duplicate post found: 25894
{'author': 'grd10657',
 'crawl_time': '2025-07-24T20:03:12.521212',
 'page_num': 1,
 'post_id': ['25894'],
 'post_time': '发表于 2024-6-27 17:19:37',
 'post_url': 'https://bbs.hassbian.com/thread-25894-6-1.html',
 'title': '消逝-手机端（更新2025-07-05）'}
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:12 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_3
{'author': 'aiy1925',
 'content': '没有半年搞不好',
 'crawl_time': '2025-07-24T20:03:12.522560',
 'floor_num': 3,
 'post_id': ['25894'],
 'reply_id': ['post_613160'],
 'reply_time': '发表于 2024-6-27 21:16:33'}
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:12 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_5
{'author': 'areslk',
 'content': '先收藏了，过四五年水平提升了在看~~~~',
 'crawl_time': '2025-07-24T20:03:12.522921',
 'floor_num': 5,
 'post_id': ['25894'],
 'reply_id': ['post_613210'],
 'reply_time': '发表于 2024-6-28 09:26:05'}
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/25894_消逝-手机端（更新2025-07-05）/回复内容.txt
2025-07-24 20:03:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-25894-6-1.html>
{'author': 'zjksjf',
 'content': '感觉是个大工程',
 'crawl_time': '2025-07-24T20:03:12.523117',
 'floor_num': 7,
 'post_id': ['25894'],
 'reply_id': ['post_613214'],
 'reply_time': '发表于 2024-6-28 09:33:31'}
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/25894_消逝-手机端（更新2025-07-05）/回复内容.txt
2025-07-24 20:03:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-25894-6-1.html>
{'author': '明明洋洋',
 'content': '大佬牛逼',
 'crawl_time': '2025-07-24T20:03:12.523639',
 'floor_num': 9,
 'post_id': ['25894'],
 'reply_id': ['post_613220'],
 'reply_time': '发表于 2024-6-28 09:45:58'}
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/25894_消逝-手机端（更新2025-07-05）/回复内容.txt
2025-07-24 20:03:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-25894-6-1.html>
{'author': 'w954095886',
 'content': '谢谢分享参考下',
 'crawl_time': '2025-07-24T20:03:12.524011',
 'floor_num': 11,
 'post_id': ['25894'],
 'reply_id': ['post_613222'],
 'reply_time': '发表于 2024-6-28 09:53:06'}
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/25894_消逝-手机端（更新2025-07-05）/回复内容.txt
2025-07-24 20:03:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-25894-6-1.html>
{'author': 'xiangboshi',
 'content': '完成度这么高，真大佬了',
 'crawl_time': '2025-07-24T20:03:12.524369',
 'floor_num': 13,
 'post_id': ['25894'],
 'reply_id': ['post_613306'],
 'reply_time': '发表于 2024-6-28 15:27:36'}
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/25894_消逝-手机端（更新2025-07-05）/回复内容.txt
2025-07-24 20:03:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-25894-6-1.html>
{'author': 'liyw168',
 'content': '谢谢分享',
 'crawl_time': '2025-07-24T20:03:12.524719',
 'floor_num': 15,
 'post_id': ['25894'],
 'reply_id': ['post_613317'],
 'reply_time': '发表于 2024-6-28 16:20:20'}
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/25894_消逝-手机端（更新2025-07-05）/回复内容.txt
2025-07-24 20:03:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-25894-6-1.html>
{'author': 'LinkStart_Pai',
 'content': '太好了，学习一下',
 'crawl_time': '2025-07-24T20:03:12.525063',
 'floor_num': 17,
 'post_id': ['25894'],
 'reply_id': ['post_613323'],
 'reply_time': '发表于 2024-6-28 16:44:03'}
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:12 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/25894_消逝-手机端（更新2025-07-05）/回复内容.txt
2025-07-24 20:03:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-25894-6-1.html>
{'author': 'wlhl1001',
 'content': '大神求教，這個怎麽設置，怎麽弄',
 'crawl_time': '2025-07-24T20:03:12.525426',
 'floor_num': 19,
 'post_id': ['25894'],
 'reply_id': ['post_613329'],
 'reply_time': '发表于 2024-6-28 17:15:10'}
2025-07-24 20:03:14 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:  323 ms | size: 14417 bytes
2025-07-24 20:03:14 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-25894-5-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:03:14 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-25894-5-1.html
2025-07-24 20:03:14 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 25894
2025-07-24 20:03:14 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:03:14 [scrapy.core.scraper] WARNING: Dropped: Duplicate post found: 25894
{'author': 'jankcy',
 'crawl_time': '2025-07-24T20:03:14.785884',
 'page_num': 1,
 'post_id': ['25894'],
 'post_time': '发表于 2024-6-27 08:38:01',
 'post_url': 'https://bbs.hassbian.com/thread-25894-5-1.html',
 'title': '消逝-手机端（更新2025-07-05）'}
2025-07-24 20:03:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:14 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_3
{'author': '月下独茗',
 'content': '厉害厉害',
 'crawl_time': '2025-07-24T20:03:14.789627',
 'floor_num': 3,
 'post_id': ['25894'],
 'reply_id': ['post_613016'],
 'reply_time': '发表于 2024-6-27 08:42:49'}
2025-07-24 20:03:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:14 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_5
{'author': 'invincible',
 'content': '大佬牛逼',
 'crawl_time': '2025-07-24T20:03:14.790013',
 'floor_num': 5,
 'post_id': ['25894'],
 'reply_id': ['post_613017'],
 'reply_time': '发表于 2024-6-27 08:42:52'}
2025-07-24 20:03:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:14 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_7
{'author': 'sisucon',
 'content': '膜拜大神！学习一下',
 'crawl_time': '2025-07-24T20:03:14.790215',
 'floor_num': 7,
 'post_id': ['25894'],
 'reply_id': ['post_613022'],
 'reply_time': '发表于 2024-6-27 08:53:06'}
2025-07-24 20:03:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:14 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_9
{'author': 'yjl',
 'content': '先收藏，慢慢学，感谢大佬的分享',
 'crawl_time': '2025-07-24T20:03:14.790391',
 'floor_num': 9,
 'post_id': ['25894'],
 'reply_id': ['post_613028'],
 'reply_time': '发表于 2024-6-27 09:18:00'}
2025-07-24 20:03:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:14 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_11
{'author': 'chun950yi',
 'content': '厲害！ 感謝分享',
 'crawl_time': '2025-07-24T20:03:14.790551',
 'floor_num': 11,
 'post_id': ['25894'],
 'reply_id': ['post_613072'],
 'reply_time': '发表于 2024-6-27 11:43:39'}
2025-07-24 20:03:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:14 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_13
{'author': 'lai95588',
 'content': '来凑个热闹',
 'crawl_time': '2025-07-24T20:03:14.790710',
 'floor_num': 13,
 'post_id': ['25894'],
 'reply_id': ['post_613082'],
 'reply_time': '发表于 2024-6-27 12:18:13'}
2025-07-24 20:03:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:14 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_15
{'author': 'beilingdi',
 'content': '哇啊哇，很不错欸',
 'crawl_time': '2025-07-24T20:03:14.790884',
 'floor_num': 15,
 'post_id': ['25894'],
 'reply_id': ['post_613087'],
 'reply_time': '发表于 2024-6-27 12:30:08'}
2025-07-24 20:03:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:14 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_17
{'author': 'lovlin999',
 'content': '大神，感谢分享',
 'crawl_time': '2025-07-24T20:03:14.791039',
 'floor_num': 17,
 'post_id': ['25894'],
 'reply_id': ['post_613107'],
 'reply_time': '发表于 2024-6-27 15:21:10'}
2025-07-24 20:03:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:14 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_19
{'author': 'wuchilai',
 'content': '不错。。准备抄个作业',
 'crawl_time': '2025-07-24T20:03:14.791177',
 'floor_num': 19,
 'post_id': ['25894'],
 'reply_id': ['post_613124'],
 'reply_time': '发表于 2024-6-27 17:02:00'}
2025-07-24 20:03:17 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:  991 ms | size: 14308 bytes
2025-07-24 20:03:17 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-25894-4-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:03:17 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-25894-4-1.html
2025-07-24 20:03:17 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 25894
2025-07-24 20:03:17 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:03:17 [scrapy.core.scraper] WARNING: Dropped: Duplicate post found: 25894
{'author': 'Mqiang115',
 'crawl_time': '2025-07-24T20:03:17.453193',
 'page_num': 1,
 'post_id': ['25894'],
 'post_time': '发表于 2024-6-26 13:46:26',
 'post_url': 'https://bbs.hassbian.com/thread-25894-4-1.html',
 'title': '消逝-手机端（更新2025-07-05）'}
2025-07-24 20:03:17 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:17 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_3
{'author': 'sbswu',
 'content': '膜拜大佬。',
 'crawl_time': '2025-07-24T20:03:17.454492',
 'floor_num': 3,
 'post_id': ['25894'],
 'reply_id': ['post_612857'],
 'reply_time': '发表于 2024-6-26 13:54:51'}
2025-07-24 20:03:17 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:17 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_5
{'author': '知道了',
 'content': '膜拜大神',
 'crawl_time': '2025-07-24T20:03:17.454819',
 'floor_num': 5,
 'post_id': ['25894'],
 'reply_id': ['post_612859'],
 'reply_time': '发表于 2024-6-26 13:57:53'}
2025-07-24 20:03:17 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:17 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_7
{'author': '峰言疯语',
 'content': '2个字，牛逼。3个字，真牛逼。',
 'crawl_time': '2025-07-24T20:03:17.454994',
 'floor_num': 7,
 'post_id': ['25894'],
 'reply_id': ['post_612920'],
 'reply_time': '发表于 2024-6-26 18:38:21'}
2025-07-24 20:03:17 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:17 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_9
{'author': 'kingkang1973',
 'content': '牛掰.......................',
 'crawl_time': '2025-07-24T20:03:17.455149',
 'floor_num': 9,
 'post_id': ['25894'],
 'reply_id': ['post_612965'],
 'reply_time': '发表于 2024-6-26 22:19:28'}
2025-07-24 20:03:17 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:17 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_11
{'author': '君六弃',
 'content': '膜拜大佬',
 'crawl_time': '2025-07-24T20:03:17.455296',
 'floor_num': 11,
 'post_id': ['25894'],
 'reply_id': ['post_612976'],
 'reply_time': '发表于 2024-6-26 22:49:57'}
2025-07-24 20:03:17 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:17 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_13
{'author': 'Jospo',
 'content': '好漂亮啊',
 'crawl_time': '2025-07-24T20:03:17.455442',
 'floor_num': 13,
 'post_id': ['25894'],
 'reply_id': ['post_612977'],
 'reply_time': '发表于 2024-6-26 22:50:52'}
2025-07-24 20:03:17 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:17 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_15
{'author': '甲鸟',
 'content': '这界面弄完花了多长时间？',
 'crawl_time': '2025-07-24T20:03:17.455583',
 'floor_num': 15,
 'post_id': ['25894'],
 'reply_id': ['post_612983'],
 'reply_time': '发表于 2024-6-26 23:12:24'}
2025-07-24 20:03:17 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:17 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_17
{'author': 'Aureliano-',
 'content': '给跪了，感谢大佬的分享！',
 'crawl_time': '2025-07-24T20:03:17.455725',
 'floor_num': 17,
 'post_id': ['25894'],
 'reply_id': ['post_612984'],
 'reply_time': '发表于 2024-6-26 23:13:57'}
2025-07-24 20:03:17 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:17 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_19
{'author': 'louiexu',
 'content': '感谢分享，初入HA',
 'crawl_time': '2025-07-24T20:03:17.455861',
 'floor_num': 19,
 'post_id': ['25894'],
 'reply_id': ['post_612997'],
 'reply_time': '发表于 2024-6-27 00:06:30'}
2025-07-24 20:03:19 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency: 1191 ms | size: 14305 bytes
2025-07-24 20:03:19 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-25894-3-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:03:19 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-25894-3-1.html
2025-07-24 20:03:19 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 25894
2025-07-24 20:03:19 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:03:19 [scrapy.core.scraper] WARNING: Dropped: Duplicate post found: 25894
{'author': 'shenmirenQUQ',
 'crawl_time': '2025-07-24T20:03:19.659247',
 'page_num': 1,
 'post_id': ['25894'],
 'post_time': '发表于 2024-6-25 19:26:30',
 'post_url': 'https://bbs.hassbian.com/thread-25894-3-1.html',
 'title': '消逝-手机端（更新2025-07-05）'}
2025-07-24 20:03:19 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:19 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_3
{'author': 'jhbl',
 'content': '感谢分享！！！',
 'crawl_time': '2025-07-24T20:03:19.660586',
 'floor_num': 3,
 'post_id': ['25894'],
 'reply_id': ['post_612735'],
 'reply_time': '发表于 2024-6-25 20:39:02'}
2025-07-24 20:03:19 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:19 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_5
{'author': 'cj09',
 'content': '大神！6666',
 'crawl_time': '2025-07-24T20:03:19.660970',
 'floor_num': 5,
 'post_id': ['25894'],
 'reply_id': ['post_612746'],
 'reply_time': '发表于 2024-6-25 21:51:00'}
2025-07-24 20:03:19 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:19 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_7
{'author': 'yly',
 'content': '感谢分享，，，，',
 'crawl_time': '2025-07-24T20:03:19.661243',
 'floor_num': 7,
 'post_id': ['25894'],
 'reply_id': ['post_612751'],
 'reply_time': '发表于 2024-6-25 22:13:55'}
2025-07-24 20:03:19 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:19 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_9
{'author': 'theatrics',
 'content': '很棒啊，抄作业咯',
 'crawl_time': '2025-07-24T20:03:19.661442',
 'floor_num': 9,
 'post_id': ['25894'],
 'reply_id': ['post_612770'],
 'reply_time': '发表于 2024-6-26 02:23:09'}
2025-07-24 20:03:19 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:19 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_11
{'author': 'PerryLayne',
 'content': '膜拜膜拜，我一直想弄那个户型图那个，结果最后卡在了灯光效果那一步无法往下进行了',
 'crawl_time': '2025-07-24T20:03:19.661633',
 'floor_num': 11,
 'post_id': ['25894'],
 'reply_id': ['post_612774'],
 'reply_time': '发表于 2024-6-26 06:54:32'}
2025-07-24 20:03:19 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:19 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_13
{'author': 'qtip0909',
 'content': '膜拜大佬',
 'crawl_time': '2025-07-24T20:03:19.661789',
 'floor_num': 13,
 'post_id': ['25894'],
 'reply_id': ['post_612819'],
 'reply_time': '发表于 2024-6-26 10:25:12'}
2025-07-24 20:03:19 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:19 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_15
{'author': 'walun',
 'content': '简单好用，学习学习',
 'crawl_time': '2025-07-24T20:03:19.661951',
 'floor_num': 15,
 'post_id': ['25894'],
 'reply_id': ['post_612825'],
 'reply_time': '发表于 2024-6-26 10:45:49'}
2025-07-24 20:03:19 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:19 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_17
{'author': 'init_0',
 'content': '真的牛逼，ha玩了几年了，UI界面没弄好一个。',
 'crawl_time': '2025-07-24T20:03:19.662095',
 'floor_num': 17,
 'post_id': ['25894'],
 'reply_id': ['post_612829'],
 'reply_time': '发表于 2024-6-26 10:57:59'}
2025-07-24 20:03:19 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:19 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_19
{'author': 'Domisy',
 'content': '学习一下',
 'crawl_time': '2025-07-24T20:03:19.662238',
 'floor_num': 19,
 'post_id': ['25894'],
 'reply_id': ['post_612832'],
 'reply_time': '发表于 2024-6-26 11:13:44'}
2025-07-24 20:03:20 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:  231 ms | size: 14204 bytes
2025-07-24 20:03:20 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-25894-2-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:03:20 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-25894-2-1.html
2025-07-24 20:03:20 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 25894
2025-07-24 20:03:20 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:03:20 [scrapy.core.scraper] WARNING: Dropped: Duplicate post found: 25894
{'author': 'wjh1025',
 'crawl_time': '2025-07-24T20:03:20.697174',
 'page_num': 1,
 'post_id': ['25894'],
 'post_time': '发表于 2024-6-25 14:19:11',
 'post_url': 'https://bbs.hassbian.com/thread-25894-2-1.html',
 'title': '消逝-手机端（更新2025-07-05）'}
2025-07-24 20:03:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:20 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_3
{'author': 'www4524206',
 'content': '本帖最后由 www4524206 于 2024-6-25 14:53 编辑 很漂亮！！不过刚接触HA，大佬能出个视频详细讲解下吗 '
            '谢谢',
 'crawl_time': '2025-07-24T20:03:20.698596',
 'floor_num': 3,
 'post_id': ['25894'],
 'reply_id': ['post_612650'],
 'reply_time': '发表于 2024-6-25 14:34:35'}
2025-07-24 20:03:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:20 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_5
{'author': '嘉诺的智能生活',
 'content': '大佬，牛逼，学习了',
 'crawl_time': '2025-07-24T20:03:20.699001',
 'floor_num': 5,
 'post_id': ['25894'],
 'reply_id': ['post_612659'],
 'reply_time': '发表于 2024-6-25 15:13:04'}
2025-07-24 20:03:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:20 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_7
{'author': '龙柒爸爸',
 'content': '感谢楼主分享！',
 'crawl_time': '2025-07-24T20:03:20.699208',
 'floor_num': 7,
 'post_id': ['25894'],
 'reply_id': ['post_612684'],
 'reply_time': '发表于 2024-6-25 16:27:07'}
2025-07-24 20:03:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:20 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_9
{'author': 'Capricornus',
 'content': '感谢楼主分享',
 'crawl_time': '2025-07-24T20:03:20.699387',
 'floor_num': 9,
 'post_id': ['25894'],
 'reply_id': ['post_612692'],
 'reply_time': '发表于 2024-6-25 16:57:03'}
2025-07-24 20:03:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:20 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_11
{'author': 'cyp0737',
 'content': '好好学习 感谢大佬',
 'crawl_time': '2025-07-24T20:03:20.699555',
 'floor_num': 11,
 'post_id': ['25894'],
 'reply_id': ['post_612697'],
 'reply_time': '发表于 2024-6-25 17:04:17'}
2025-07-24 20:03:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:20 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_13
{'author': 'taioner',
 'content': '学习了啊',
 'crawl_time': '2025-07-24T20:03:20.699720',
 'floor_num': 13,
 'post_id': ['25894'],
 'reply_id': ['post_612707'],
 'reply_time': '发表于 2024-6-25 17:37:57'}
2025-07-24 20:03:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:20 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_15
{'author': 'labi',
 'content': '感谢楼主分享！',
 'crawl_time': '2025-07-24T20:03:20.699886',
 'floor_num': 15,
 'post_id': ['25894'],
 'reply_id': ['post_612715'],
 'reply_time': '发表于 2024-6-25 18:24:16'}
2025-07-24 20:03:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:20 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_17
{'author': 'shusheng',
 'content': '学习一下',
 'crawl_time': '2025-07-24T20:03:20.700045',
 'floor_num': 17,
 'post_id': ['25894'],
 'reply_id': ['post_612718'],
 'reply_time': '发表于 2024-6-25 18:43:12'}
2025-07-24 20:03:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:20 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_19
{'author': '发如雪',
 'content': '膜拜大佬，努力成长',
 'crawl_time': '2025-07-24T20:03:20.700200',
 'floor_num': 19,
 'post_id': ['25894'],
 'reply_id': ['post_612725'],
 'reply_time': '发表于 2024-6-25 19:12:55'}
2025-07-24 20:03:22 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:  228 ms | size: 17808 bytes
2025-07-24 20:03:22 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-25894-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:03:22 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-25894-1-1.html
2025-07-24 20:03:22 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 25894
2025-07-24 20:03:22 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:03:22 [scrapy.core.scraper] WARNING: Dropped: Duplicate post found: 25894
{'author': '消逝',
 'crawl_time': '2025-07-24T20:03:22.695382',
 'page_num': 1,
 'post_id': ['25894'],
 'post_time': '发表于 2024-6-24 23:31:39',
 'post_url': 'https://bbs.hassbian.com/thread-25894-1-1.html',
 'title': '消逝-手机端（更新2025-07-05）'}
2025-07-24 20:03:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:22 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_3
{'author': 'bugensui',
 'content': '没有半年搞不好',
 'crawl_time': '2025-07-24T20:03:22.696885',
 'floor_num': 3,
 'post_id': ['25894'],
 'reply_id': ['post_612541'],
 'reply_time': '发表于 2024-6-25 00:24:54'}
2025-07-24 20:03:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:22 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_5
{'author': 'qiaofei828',
 'content': '这种的户型图怎么画？',
 'crawl_time': '2025-07-24T20:03:22.697453',
 'floor_num': 5,
 'post_id': ['25894'],
 'reply_id': ['post_612548'],
 'reply_time': '发表于 2024-6-25 07:37:24'}
2025-07-24 20:03:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:22 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_7
{'author': 'a_dongde',
 'content': '我拿着代码不问大佬的话，，，根本无从下手',
 'crawl_time': '2025-07-24T20:03:22.697693',
 'floor_num': 7,
 'post_id': ['25894'],
 'reply_id': ['post_612549'],
 'reply_time': '发表于 2024-6-25 08:11:41'}
2025-07-24 20:03:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:22 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_9
{'author': 'hamtalk',
 'content': '不错，这是我见过的最不花哨而且直接好看的UI了。不知道手机界面显示如何。',
 'crawl_time': '2025-07-24T20:03:22.697870',
 'floor_num': 9,
 'post_id': ['25894'],
 'reply_id': ['post_612568'],
 'reply_time': '发表于 2024-6-25 09:57:59'}
2025-07-24 20:03:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:22 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_11
{'author': '消逝',
 'content': 'hamtalk 发表于 2024-6-25 09:57 不错，这是我见过的最不花哨而且直接好看的UI了。不知道手机界面显示如何。 '
            '... 手机端显示不行，手机端先是要单独做，可以参照论坛里的蘑菇卡片得那个，那个手机端很好看',
 'crawl_time': '2025-07-24T20:03:22.698037',
 'floor_num': 11,
 'post_id': ['25894'],
 'reply_id': ['post_612572'],
 'reply_time': '发表于 2024-6-25 10:07:16'}
2025-07-24 20:03:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:22 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_13
{'author': '消逝',
 'content': 'qiaofei828 发表于 2024-6-25 07:37 这种的户型图怎么画？ '
            '户型图是AI+PS+阴影插件shadowify做的，可以搜索【奶油风彩平图】，一般B站、抖音、小红书、知乎都有教程，等我有时间也可以做个教程',
 'crawl_time': '2025-07-24T20:03:22.698234',
 'floor_num': 13,
 'post_id': ['25894'],
 'reply_id': ['post_612573'],
 'reply_time': '发表于 2024-6-25 10:09:42'}
2025-07-24 20:03:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:22 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_15
{'author': '4eszxcvgy7',
 'content': '我看了也是白看，看不懂。。。刚来半个月',
 'crawl_time': '2025-07-24T20:03:22.698402',
 'floor_num': 15,
 'post_id': ['25894'],
 'reply_id': ['post_612574'],
 'reply_time': '发表于 2024-6-25 10:10:09'}
2025-07-24 20:03:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:22 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_17
{'author': '点来点去',
 'content': '膜拜大佬。',
 'crawl_time': '2025-07-24T20:03:22.698551',
 'floor_num': 17,
 'post_id': ['25894'],
 'reply_id': ['post_612584'],
 'reply_time': '发表于 2024-6-25 10:20:13'}
2025-07-24 20:03:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:22 [scrapy.core.scraper] WARNING: Dropped: Duplicate reply found: 25894_19
{'author': 'mykc',
 'content': '感谢分享，抄个作业',
 'crawl_time': '2025-07-24T20:03:22.698699',
 'floor_num': 19,
 'post_id': ['25894'],
 'reply_id': ['post_612635'],
 'reply_time': '发表于 2024-6-25 13:53:10'}
2025-07-24 20:03:24 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:  326 ms | size: 11925 bytes
2025-07-24 20:03:24 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-29901-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:03:24 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-29901-1-1.html
2025-07-24 20:03:24 [forum_spider.spiders.hassbian_spider] INFO: Extracted 1 replies for post 29901
2025-07-24 20:03:24 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:03:24 [forum_spider.pipelines] INFO: Post saved: output/HomeAssistant综合讨论区/29901_设定晚上自动调空调但有时触发有时又不触发/帖子内容.txt
2025-07-24 20:03:24 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29901-1-1.html>
{'author': 'aiqinxuancai',
 'crawl_time': '2025-07-24T20:03:24.767392',
 'page_num': 1,
 'post_id': ['29901'],
 'post_time': '发表于',
 'post_url': 'https://bbs.hassbian.com/thread-29901-1-1.html',
 'title': '设定晚上自动调空调但有时触发有时又不触发'}
2025-07-24 20:03:24 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:03:24 [forum_spider.pipelines] INFO: Reply saved to: output/HomeAssistant综合讨论区/29901_设定晚上自动调空调但有时触发有时又不触发/回复内容.txt
2025-07-24 20:03:24 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29901-1-1.html>
{'author': 'george65',
 'content': '你那個持續了22:00是要持續22小時才會觸發嗎??',
 'crawl_time': '2025-07-24T20:03:24.768587',
 'floor_num': 3,
 'post_id': ['29901'],
 'reply_id': ['post_687244'],
 'reply_time': '发表于'}
2025-07-24 20:03:24 [scrapy.core.engine] INFO: Closing spider (finished)
2025-07-24 20:03:24 [forum_spider.pipelines] INFO: Saved 3 posts and 19 replies to JSON files
2025-07-24 20:03:24 [forum_spider.pipelines] INFO: TXT files saved in forum structure under: output/HomeAssistant综合讨论区
2025-07-24 20:03:24 [scrapy.extensions.feedexport] INFO: Stored json feed (3 items) in: output/posts.json
2025-07-24 20:03:24 [scrapy.extensions.feedexport] INFO: Stored json feed (19 items) in: output/replies.json
2025-07-24 20:03:24 [scrapy.extensions.feedexport] INFO: Stored csv feed (22 items) in: output/forum_data.csv
2025-07-24 20:03:24 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 5435,
 'downloader/request_count': 11,
 'downloader/request_method_count/GET': 11,
 'downloader/response_bytes': 158221,
 'downloader/response_count': 11,
 'downloader/response_status_count/200': 11,
 'elapsed_time_seconds': 18.688494,
 'feedexport/success_count/FileFeedStorage': 3,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2025, 7, 24, 12, 3, 24, 770314, tzinfo=datetime.timezone.utc),
 'httpcompression/response_bytes': 743358,
 'httpcompression/response_count': 11,
 'item_dropped_count': 54,
 'item_dropped_reasons_count/DropItem': 54,
 'item_scraped_count': 22,
 'items_per_minute': None,
 'log_count/DEBUG': 36,
 'log_count/INFO': 157,
 'log_count/WARNING': 57,
 'memusage/max': 74924032,
 'memusage/startup': 74924032,
 'request_depth_max': 1,
 'response_received_count': 11,
 'responses_per_minute': None,
 'scheduler/dequeued': 11,
 'scheduler/dequeued/memory': 11,
 'scheduler/enqueued': 11,
 'scheduler/enqueued/memory': 11,
 'start_time': datetime.datetime(2025, 7, 24, 12, 3, 6, 81820, tzinfo=datetime.timezone.utc)}
2025-07-24 20:03:24 [scrapy.core.engine] INFO: Spider closed (finished)
2025-07-24 20:12:39 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: forum_spider)
2025-07-24 20:12:39 [scrapy.utils.log] INFO: Versions:
{'lxml': '5.3.1',
 'libxml2': '2.12.9',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.12.1 (v3.12.1:2305ca5144, Dec  7 2023, 17:23:38) [Clang 13.0.0 '
           '(clang-1300.0.29.30)]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.0 8 Apr 2025)',
 'cryptography': '45.0.4',
 'Platform': 'macOS-15.5-arm64-arm-64bit'}
2025-07-24 20:12:39 [forum_spider.spiders.hassbian_spider] INFO: Spider initialized with single_url: None
2025-07-24 20:12:39 [forum_spider.spiders.hassbian_spider] INFO: Spider configured: max_pages=1, max_posts_per_page=10, max_replies=20
2025-07-24 20:12:39 [scrapy.addons] INFO: Enabled addons:
[]
2025-07-24 20:12:39 [asyncio] DEBUG: Using selector: KqueueSelector
2025-07-24 20:12:39 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.asyncioreactor.AsyncioSelectorReactor
2025-07-24 20:12:39 [scrapy.utils.log] DEBUG: Using asyncio event loop: asyncio.unix_events._UnixSelectorEventLoop
2025-07-24 20:12:39 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.feedexport.FeedExporter',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.throttle.AutoThrottle',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.corestats.CoreStats']
2025-07-24 20:12:39 [scrapy.crawler] INFO: Overridden settings:
{'AUTOTHROTTLE_DEBUG': True,
 'AUTOTHROTTLE_ENABLED': True,
 'AUTOTHROTTLE_MAX_DELAY': 10,
 'AUTOTHROTTLE_START_DELAY': 1,
 'AUTOTHROTTLE_TARGET_CONCURRENCY': 2.0,
 'BOT_NAME': 'forum_spider',
 'CONCURRENT_REQUESTS': 8,
 'CONCURRENT_REQUESTS_PER_DOMAIN': 2,
 'CONCURRENT_REQUESTS_PER_IP': 1,
 'DOWNLOAD_DELAY': 2.0,
 'DOWNLOAD_TIMEOUT': 30,
 'HTTPCACHE_EXPIRATION_SECS': 3600,
 'LOG_FILE': 'scrapy.log',
 'MEMUSAGE_LIMIT_MB': 2048,
 'MEMUSAGE_WARNING_MB': 1024,
 'NEWSPIDER_MODULE': 'forum_spider.spiders',
 'RANDOMIZE_DOWNLOAD_DELAY': 0.5,
 'RETRY_HTTP_CODES': [500, 502, 503, 504, 408, 429],
 'RETRY_TIMES': 3,
 'SPIDER_MODULES': ['forum_spider.spiders'],
 'TELNETCONSOLE_ENABLED': False,
 'USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) '
               'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 '
               'Safari/537.36'}
2025-07-24 20:12:39 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'forum_spider.middlewares.RotateUserAgentMiddleware',
 'forum_spider.middlewares.ProxyMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2025-07-24 20:12:39 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.start.StartSpiderMiddleware',
 'scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'forum_spider.middlewares.ForumSpiderMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2025-07-24 20:12:39 [scrapy.core.spidermw] WARNING: Middleware forum_spider.middlewares.ForumSpiderMiddleware doesn't support asynchronous spider output, this is deprecated and will stop working in a future version of Scrapy. The middleware should be updated to support it. Please see https://docs.scrapy.org/en/latest/topics/coroutines.html#for-middleware-users for more information.
2025-07-24 20:12:39 [scrapy.middleware] INFO: Enabled item pipelines:
['forum_spider.pipelines.ValidationPipeline',
 'forum_spider.pipelines.DuplicatesPipeline',
 'forum_spider.pipelines.TxtWriterPipeline',
 'forum_spider.pipelines.JsonWriterPipeline']
2025-07-24 20:12:39 [scrapy.core.engine] INFO: Spider opened
2025-07-24 20:12:39 [py.warnings] WARNING: /Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/scrapy/core/spidermw.py:433: ScrapyDeprecationWarning: forum_spider.spiders.hassbian_spider.HassbianSpider defines the deprecated start_requests() method. start_requests() has been deprecated in favor of a new method, start(), to support asynchronous code execution. start_requests() will stop being called in a future version of Scrapy. If you use Scrapy 2.13 or higher only, replace start_requests() with start(); note that start() is a coroutine (async def). If you need to maintain compatibility with lower Scrapy versions, when overriding start_requests() in a spider class, override start() as well; you can use super() to reuse the inherited start() implementation without copy-pasting. See the release notes of Scrapy 2.13 for details: https://docs.scrapy.org/en/2.13/news.html
  warn(

2025-07-24 20:12:39 [forum_spider.pipelines] INFO: Found existing post directory: 25894_消逝-手机端（更新2025-07-05） (ID: 25894)
2025-07-24 20:12:39 [forum_spider.pipelines] INFO: Found existing post directory: 29901_设定晚上自动调空调但有时触发有时又不触发 (ID: 29901)
2025-07-24 20:12:39 [forum_spider.pipelines] INFO: Found existing post directory: 29624_求好用的zigbee平价设备接入Z2M (ID: 29624)
2025-07-24 20:12:39 [forum_spider.pipelines] INFO: TXT output directory initialized: output/HomeAssistant综合讨论区
2025-07-24 20:12:39 [forum_spider.pipelines] INFO: Found 3 existing posts to skip
2025-07-24 20:12:39 [forum_spider.pipelines] INFO: JSON files initialized
2025-07-24 20:12:39 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2025-07-24 20:12:39 [hassbian] INFO: Spider opened: hassbian
2025-07-24 20:12:39 [scrapy.extensions.memusage] INFO: Peak memory usage is 71MiB
2025-07-24 20:12:40 [scrapy.extensions.throttle] INFO: slot: bbs.hassbian.com | conc: 1 | delay: 2000 ms (+0) | latency:  117 ms | size: 18401 bytes
2025-07-24 20:12:40 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/forum-38-1.html> (referer: None)
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Parsing forum list page 1: https://bbs.hassbian.com/forum-38-1.html
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Current found posts: 0, target: 10
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Using selector: tbody[id^="normalthread_"] th.new a[href*="thread-"][href$="-1-1.html"]::attr(href)
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Skipping existing post: 29901
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Skipping existing post: 25894
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Skipping existing post: 29624
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Found 10 new posts on page 1 (skipped 3 existing)
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 1/10: 29346 - https://bbs.hassbian.com/thread-29346-1-1.html
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 2/10: 29897 - https://bbs.hassbian.com/thread-29897-1-1.html
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 3/10: 19349 - https://bbs.hassbian.com/thread-19349-1-1.html
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 4/10: 22924 - https://bbs.hassbian.com/thread-22924-1-1.html
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 5/10: 26328 - https://bbs.hassbian.com/thread-26328-1-1.html
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 6/10: 29877 - https://bbs.hassbian.com/thread-29877-1-1.html
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 7/10: 26386 - https://bbs.hassbian.com/thread-26386-1-1.html
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 8/10: 29853 - https://bbs.hassbian.com/thread-29853-1-1.html
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 9/10: 24610 - https://bbs.hassbian.com/thread-24610-1-1.html
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 10/10: 26299 - https://bbs.hassbian.com/thread-26299-1-1.html
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Finished collecting posts: 10/10
2025-07-24 20:12:40 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:   38 ms | size: 18864 bytes
2025-07-24 20:12:40 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-29346-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-29346-1-1.html
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting post info for 29346: 'SelectorList' object has no attribute 'first'
2025-07-24 20:12:40 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 29346
2025-07-24 20:12:40 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:40 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_3
2025-07-24 20:12:40 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29346
2025-07-24 20:12:40 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'tianzhuang55',
 'content': '厉害厉害，马上试试',
 'crawl_time': '2025-07-24T20:12:40.373086',
 'floor_num': 3,
 'post_id': ['29346'],
 'reply_id': ['post_676299'],
 'reply_time': '发表于 2025-5-23 10:09:47'}
2025-07-24 20:12:40 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:40 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_5
2025-07-24 20:12:40 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29346
2025-07-24 20:12:40 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'taida',
 'content': '谢谢，我看看呢',
 'crawl_time': '2025-07-24T20:12:40.374648',
 'floor_num': 5,
 'post_id': ['29346'],
 'reply_id': ['post_676302'],
 'reply_time': '发表于 2025-5-23 10:14:15'}
2025-07-24 20:12:40 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:40 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_7
2025-07-24 20:12:40 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29346
2025-07-24 20:12:40 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'miniknife',
 'content': '感谢楼主提供',
 'crawl_time': '2025-07-24T20:12:40.374974',
 'floor_num': 7,
 'post_id': ['29346'],
 'reply_id': ['post_676308'],
 'reply_time': '发表于 2025-5-23 10:38:57'}
2025-07-24 20:12:40 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:40 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_9
2025-07-24 20:12:40 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29346
2025-07-24 20:12:40 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'nichen24',
 'content': '厉害厉害，马上试试',
 'crawl_time': '2025-07-24T20:12:40.375218',
 'floor_num': 9,
 'post_id': ['29346'],
 'reply_id': ['post_676314'],
 'reply_time': '发表于 2025-5-23 10:47:12'}
2025-07-24 20:12:40 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:40 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_11
2025-07-24 20:12:40 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29346
2025-07-24 20:12:40 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'silas3082',
 'content': '厉害了大佬',
 'crawl_time': '2025-07-24T20:12:40.375438',
 'floor_num': 11,
 'post_id': ['29346'],
 'reply_id': ['post_676316'],
 'reply_time': '发表于 2025-5-23 10:52:37'}
2025-07-24 20:12:40 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:40 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_13
2025-07-24 20:12:40 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29346
2025-07-24 20:12:40 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': '2511418386',
 'content': '13213213123213123213',
 'crawl_time': '2025-07-24T20:12:40.375646',
 'floor_num': 13,
 'post_id': ['29346'],
 'reply_id': ['post_676318'],
 'reply_time': '发表于 2025-5-23 10:55:47'}
2025-07-24 20:12:40 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:40 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_15
2025-07-24 20:12:40 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29346
2025-07-24 20:12:40 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'LJCAD',
 'content': '厉害了大佬',
 'crawl_time': '2025-07-24T20:12:40.375852',
 'floor_num': 15,
 'post_id': ['29346'],
 'reply_id': ['post_676322'],
 'reply_time': '发表于 2025-5-23 11:15:38'}
2025-07-24 20:12:40 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:40 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_17
2025-07-24 20:12:40 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29346
2025-07-24 20:12:40 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'coolguy',
 'content': '厉害厉害，马上试试',
 'crawl_time': '2025-07-24T20:12:40.376048',
 'floor_num': 17,
 'post_id': ['29346'],
 'reply_id': ['post_676329'],
 'reply_time': '发表于 2025-5-23 11:41:55'}
2025-07-24 20:12:40 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:40 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_19
2025-07-24 20:12:40 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29346
2025-07-24 20:12:40 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'shay',
 'content': '这应该是终极形态了，我那帖子得改改标题了',
 'crawl_time': '2025-07-24T20:12:40.376334',
 'floor_num': 19,
 'post_id': ['29346'],
 'reply_id': ['post_676337'],
 'reply_time': '发表于 2025-5-23 12:35:58'}
2025-07-24 20:12:42 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:  776 ms | size: 30548 bytes
2025-07-24 20:12:43 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-26299-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:12:43 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-26299-1-1.html
2025-07-24 20:12:43 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting post info for 26299: 'SelectorList' object has no attribute 'first'
2025-07-24 20:12:43 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 26299
2025-07-24 20:12:43 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:43 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_3
2025-07-24 20:12:43 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26299
2025-07-24 20:12:43 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hungheo',
 'content': '本帖最后由 hungheo 于 2024-7-27 15:32 编辑 一、布局： 1、button card的默认布局，如下图： '
            '登录/注册后可看大图 屏幕截图 2024-07-27 110105.png (78.25 KB, 下载次数: 0) 下载附件 '
            '2024-7-27 12:53 上传 card：最外层卡片 container：grid布局 '
            'img_cell：图标或图片，里面还有icon标签 name：名称 state：状态 label：标签 '
            '设置显示与不显示，对应的true或者false就行 2、styles设置 2.1、grid设置 '
            '在grid里面，“i”对应img_cell，“n”对应name，“s”对应state，“l”对应label '
            '调整grid-template-area的值就能对各个div进行调整，代码： type: custom:button-card '
            'entity: sensor.a4c138d5271a_temperature show_name: true '
            'show_icon: true show_state: true show_label: true label: 这是lebel '
            'styles: grid: - grid-template-areas: | "i n" "i s" "i l" - '
            'grid-template-rows: 1fr min-content min-content - '
            'grid-template-columns: min-content 1fr; img_cell: - width: 40px - '
            'height: 40px 复制代码 grid-template-rows：调整行距离 '
            'grid-template-columns：调整列距离 '
            '常用的是：min-content（最小的合适空间），1fr（1倍剩余空间，也可以是0.5fr），或者固定大小（50px）,或者百分比（20%）grid里面还有其他的属性可以设置，比如居中、对齐、线间距等等，具体可以AI工具搜：CSS '
            'grid属性 个人习惯： 宽度一般不用px设置，这样在不同的手机屏幕就可以自动适应宽度 调整后效果： 登录/注册后可看大图 '
            '屏幕截图 2024-07-27 111820.png (36.81 KB, 下载次数: 0) 下载附件 2024-7-27 '
            '12:25 上传 2.2、其他标签设置 '
            'card、name、state、img_cell、icon、label、custom_fields 都可以设置对应的css样式 '
            '具体有哪些，可以浏览器F12，选中标签，然后计算样式里面都有 登录/注册后可看大图 屏幕截图 2024-07-27 '
            '123141.png (37.1 KB, 下载次数: 0) 下载附件 2024-7-27 12:32 上传 修改下之前的代码： '
            'type: custom:button-card entity: sensor.a4c138d5271a_temperature '
            'show_name: true show_icon: true show_state: true show_label: true '
            'label: ，这个温度太热啦 styles: grid: - grid-template-areas: | "i n n" "i '
            's l" - grid-template-rows: 1fr min-content - '
            'grid-template-columns: min-content min-content 1fr; card: - '
            'padding: 8px img_cell: - width: 40px - height: 40px - background: '
            'rgba(139,195,74,0.2) - border-radius: 50% - margin-right: 8px '
            'icon: - width: 24px - height: 24px - color: var(--green-color) '
            'name: - justify-self: flex-start - font-size: 14px - font-weight: '
            '600 state: - justify-self: flex-start - font-size: 12px label: - '
            'justify-self: flex-start - font-size: 12px 复制代码 类似mushroom '
            'card的template card的样式卡片效果就出来了 登录/注册后可看大图 屏幕截图 2024-07-27 '
            '123538.png (7.12 KB, 下载次数: 0) 下载附件 2024-7-27 12:36 上传 2.3、自定义布局 '
            '主要参考这位UI大神的技巧分享： https://bbs.hassbian.com/thread-25964-1-1.html '
            '设置布局时， grid-template-areas里面的相同区域必须是矩形 ，其他的根据个人需求 比如，模仿户型图： type: '
            'custom:button-card styles: grid: - grid-template-areas: | "a1 z1 '
            'z1 a2 a3 d1 d1 a4 a5 k k k" "z2 z2 z2 z2 a3 d d d a5 k k k" "a7 '
            'a7 a7 z3 a3 a6 a6 a6 a5 k k k" "p p a8 z3 a3 k1 k1 k1 k1 k k k" '
            '"p p a9 a9 a9 a9 a9 a9 a9 k k k" "b1 b1 b1 x x x b4 c b5 k k k" '
            '"b1 b1 b1 x x x b4 b6 b5 b7 b8 k2" "b1 b1 b1 c1 c1 c1 c1 f f f b8 '
            'k2" "b1 b1 b1 b2 f1 f1 f1 f f f b8 b9" - grid-template-columns: '
            '5px 20px 5px 15px 5px 20px 5px 20px 5px 25px 5px 20px - '
            'grid-template-rows: 10px 55px 5px 15px 5px 35px 5px 5px 25px '
            'card: - width: 150px - height: 160px - background-color: '
            'rgba(0,0,0,0) custom_fields: k: #区域代号 card: # ......这个区域的卡片 复制代码 '
            '效果： 登录/注册后可看大图 屏幕截图 2024-07-27 130825.png (75.97 KB, 下载次数: 0) '
            '下载附件 2024-7-27 13:09 上传 2.4、custom_fields自定义区域 '
            '在styles下的时候，可以自定义某个区域的css属性 '
            '和styles同级的时候，可以自定义某个区域的内容，可以是html标签、可以是card等等 代码： type: '
            'custom:button-card show_icon: false show_state: false show_name: '
            'false styles: grid: - grid-template-areas: | "weather sun person1 '
            'person2" "info info info info" "card1 card1 card1 card1" "card2 '
            'card2 card2 card2" "card3 card3 card3 card3" "card4 card4 card4 '
            'card4" - grid-template-columns: min-content 1fr 38px 38px - '
            'grid-template-rows: 55px min-content 1fr card: - padding: 8px '
            'custom_fields: #自定义区域的属性 sun: #sun区域的属性 - justify-self: center '
            '#让sun这个区域的内容，水平居中 - align-self: flex-start #让sun这个区域的内容，垂直方向，在最顶上 '
            'card1: #card1区域属性 - display: "[[[ return '
            "states['input_boolean.xinxi_xiangqing'].state == 'on' ? 'block' : "
            '\'none\' ]]]" #如果是开则显示card1、是关不显示card1 custom_fields: #自定义区域的内容 '
            'sun: #自定义区域名称 card: #区域的类型 type: custom:button-card entity: '
            'sun.sun show_icon: true show_name: false show_state: true # '
            '.....该卡片其他属性 card1: card: type: custom:button-card entity: '
            'sensor.youjia template: entity_card icon: mdi:gas-station name: '
            '92#油价 label: | [[[ return '
            "`${states['sensor.youjia'].attributes[92]}元/L`]]] variables: "
            'icon_color: var(--green-color) # .......区域内容 复制代码 '
            'PS：display这个属性很好玩，可以实现收起、展开效果 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 '
            '134955.png (40.92 KB, 下载次数: 0) 下载附件 2024-7-27 13:51 上传 登录/注册后可看大图 '
            '屏幕截图 2024-07-27 134925.png (13.24 KB, 下载次数: 0) 下载附件 2024-7-27 '
            '14:00 上传',
 'crawl_time': '2025-07-24T20:12:43.143866',
 'floor_num': 3,
 'post_id': ['26299'],
 'reply_id': ['post_619303'],
 'reply_time': '发表于 2024-7-27 12:36:11'}
2025-07-24 20:12:43 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:43 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_5
2025-07-24 20:12:43 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26299
2025-07-24 20:12:43 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hungheo',
 'content': "replyreload += ',' + 619322; 本帖最后由 hungheo 于 2025-3-2 12:51 编辑 "
            '2、template模板 这个功能很强大！！ 可以追加、覆盖、套嵌等等 '
            '如果用到变量处理，不支持jinja2模板，只支持JavaScript！ 2.1、 基本结构 #template结构 '
            'button_card_templates: #顶格 some_template: #模板名称 show_name: true '
            "name: 这是模板里面的名称 styles: icon: - color: '[[[return "
            "variables.icon_color]]]' #这里的variables.icon_color是模板内的变量， "
            '#......其他内容 #template使用 type: custom:button-card entity: '
            'sensor.a4c13801e940_temperature show_label: true name: 这是card的名称 '
            '#相同的name，template里面的name的内容，在这里被替换掉 label: > '
            '#entity.state，因为之前定义了entity: '
            "sensor.a4c13801e940_temperature，所以这里等效于states.['sensor.a4c13801e940_temperature'].state "
            ']]] if(entity.state > 30) return "好热啊" [[[ template: '
            'some_template #引用模板 variables: icon_color: red #设定变量值 复制代码 2.2、 '
            'template追加、覆盖、多级引用 '
            '可以创建多个template模板，然后一起引用，template的内容追加上去，重复定义的根据顺序也会覆盖掉 比如：. '
            '游客，如果您要查看本帖隐藏内容请 回复 上面定义了3个template title是最基础的 '
            'title_popup引用了title模板，并且追加了文字是带阴影 title_button是custom_fields的内容 '
            '应用起来就是： 1、引用最基础的title： type: custom:button-card name: 餐厅 label: '
            '子擎存在传感器 template: title 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 '
            '143746.png (12.01 KB, 下载次数: 0) 下载附件 2024-7-27 14:38 上传 '
            '2、追加一个title_button '
            'template引用分先后的，这里要先引用title，再是title_button，因为title是card主体，title_button是追加部分 '
            'type: custom:button-card name: 主卧 template: - title #它先 - '
            'title_button #这个是追加上去的 variables: turn_on: '
            'script.turn_on_auto_light_zhuwo turn_off: '
            'script.turn_off_auto_light_zhuwo 复制代码 效果： 登录/注册后可看大图 屏幕截图 '
            '2024-07-27 144258.png (23.96 KB, 下载次数: 0) 下载附件 2024-7-27 14:44 上传 '
            '3、多级引用 type: custom:button-card template: - title_popup '
            '#这个模板引用了title模板 - title_button #这个是追加上去的 name: 客厅 label: > '
            '[[[return '
            "Number(states['sensor.ke_ting_kai_deng_shu_liang'].state) + "
            '"个灯开着";]]] variables: turn_on: script.turn_on_light_keting '
            'turn_off: script.turn_off_light_keting 复制代码 效果： 登录/注册后可看大图 屏幕截图 '
            '2024-07-27 144821.png (29.76 KB, 下载次数: 0) 下载附件 2024-7-27 14:49 上传',
 'crawl_time': '2025-07-24T20:12:43.145744',
 'floor_num': 5,
 'post_id': ['26299'],
 'reply_id': ['post_619322'],
 'reply_time': '发表于 2024-7-27 14:22:51'}
2025-07-24 20:12:43 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:43 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_7
2025-07-24 20:12:43 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26299
2025-07-24 20:12:43 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hungheo',
 'content': '本帖最后由 hungheo 于 2024-7-27 21:09 编辑 3、template使用中的几个小注意 '
            "3.1、状态的表达方式 return states['switch.myswitch'].state // 这样写能正确显示 // "
            '下面这样写会报错 const test = switch.myswitch return states[test].state '
            '复制代码 3.2、variables：以字母顺序来确定是否可以引用 ### 这个是能引用的 variables: index: 2 '
            "value: '[[[ return variables.index + 2; ]]]' name: '[[[ return "
            "variable.value; ]]]' # 输出 4 因为i在v前，所以value能继承index的值 ### 这个是不能引用的 "
            "variables: z_index: 2 value: '[[[ return variables.z_index + 2; "
            "]]]' # 错误 因为v在z前，所以value不能继承z-index的值 name: '[[[ return "
            "variable.value; ]]]' 复制代码 3.3、entity的使用位置 button "
            'card中如果定义了entity，在JavaScript模板中是可以直接用entity接属性直接用的，但是要注意一下 '
            '多级button card情况下 type: custom:button-card entity: '
            'light.649e3186d9cd_light show_state: true show_label: true label: '
            "'[[[ return entity.entity_id ]]]' styles: grid: - "
            'grid-template-areas: | "i n a" "i s a" "i l a" - '
            'grid-template-columns: min-content 0.5fr 0.5fr - '
            'grid-template-rows: 1fr custom_fields: a: card: type: '
            'custom:button-card entity: sensor.a4c138d5271a_temperature '
            "show_state: true show_label: true label: '[[[ return "
            "entity.entity_id ]]]' 复制代码 一级、二级的label都会显示一级的entity_id 如图： "
            '登录/注册后可看大图 屏幕截图 2024-07-27 205515.png (38.58 KB, 下载次数: 0) 下载附件 '
            '2024-7-27 20:55 上传 如果想要用本级card的entity_id。要么在card前面加上 '
            'do_not_eval:true ，要么用 template模板 ...... custom_fields: a: '
            'do_not_eval: true card: type: custom:button-card entity: '
            'sensor.a4c138d5271a_temperature ....... 复制代码 效果： 登录/注册后可看大图 屏幕截图 '
            '2024-07-27 210026.png (38.61 KB, 下载次数: 0) 下载附件 2024-7-27 21:01 上传',
 'crawl_time': '2025-07-24T20:12:43.146240',
 'floor_num': 7,
 'post_id': ['26299'],
 'reply_id': ['post_619335'],
 'reply_time': '发表于 2024-7-27 15:35:08'}
2025-07-24 20:12:43 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:43 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_9
2025-07-24 20:12:43 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26299
2025-07-24 20:12:43 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hungheo',
 'content': '本帖最后由 hungheo 于 2024-7-27 22:44 编辑 4、一些有意思的模板卡片 4.1、自动生成看板小图标 '
            '这个是照搬UI-Lovelace-Minimalist，精简了一些内容。 button_card_templates: '
            'row_pill: show_icon: false show_name: true show_label: false '
            'variables: #想要更多这里再加entity_? entity_1: entity_id: "" name: "" '
            'icon: "" color: "" entity_2: entity_id: "" name: "" icon: "" '
            'color: "" entity_3: entity_id: "" name: "" icon: "" color: "" '
            'entity_4: entity_id: "" name: "" icon: "" color: "" entity_5: '
            'entity_id: "" name: "" icon: "" color: "" styles: grid: - '
            'grid-template-areas: > [[[ var pills = [] const entities = '
            '[variables.entity_1?.entity_id, variables.entity_2?.entity_id, '
            'variables.entity_3?.entity_id, variables.entity_4?.entity_id, '
            'variables.entity_5?.entity_id] //想要更多这里再加variables function '
            'entity_check(item) { if (item != "") { pills.push("item" + '
            '(pills.length+1)) } } entities.forEach(entity_check) return '
            'pills.join(" ") ]]] - display: flex - grid-template-rows: '
            'min-content - justify-content: space-evenly card: - background: '
            'none - box-shadow: none - broder: 0px - border-radius: none - '
            'padding: 12px - overflow: visible custom_fields: item1: - '
            'display: "[[[ return (variables.entity_1.entity_id != \'\') ? '
            '\'block\' : \'none\' ]]]" item2: - display: "[[[ return '
            "(variables.entity_2.entity_id != '') ? 'block' : 'none' "
            ']]]" item3: - display: "[[[ return (variables.entity_3.entity_id '
            '!= \'\') ? \'block\' : \'none\' ]]]" item4: - display: "[[[ '
            "return (variables.entity_4.entity_id != '') ? 'block' : 'none' "
            ']]]" item5: - display: "[[[ return (variables.entity_5.entity_id '
            '!= \'\') ? \'block\' : \'none\' ]]]" item6: - display: "[[[ '
            "return (variables.entity_6.entity_id != '') ? 'block' : 'none' "
            ']]]" item7: - display: "[[[ return (variables.entity_7.entity_id '
            '!= \'\') ? \'block\' : \'none\' ]]]" custom_fields: item1: card: '
            'type: "custom:button-card" template: "pill" variables: "[[[ '
            'return variables.entity_1; ]]]" entity: "[[[ return '
            'variables.entity_1.entity_id ]]]" name: "[[[ return '
            'variables.entity_1.name ]]]" icon: "[[[ return '
            'variables.entity_1.icon ]]]" color: "[[[ return '
            'variables.entity_1.color ]]]" item2: card: type: '
            '"custom:button-card" template: "pill" variables: "[[[ return '
            'variables.entity_2; ]]]" entity: "[[[ return '
            'variables.entity_2.entity_id ]]]" name: "[[[ return '
            'variables.entity_2.name ]]]" icon: "[[[ return '
            'variables.entity_2.icon ]]]" color: "[[[ return '
            'variables.entity_2.color ]]]" item3: card: type: '
            '"custom:button-card" template: "pill" variables: "[[[ return '
            'variables.entity_3; ]]]" entity: "[[[ return '
            'variables.entity_3.entity_id ]]]" name: "[[[ return '
            'variables.entity_3.name ]]]" icon: "[[[ return '
            'variables.entity_3.icon ]]]" color: "[[[ return '
            'variables.entity_3.color ]]]" item4: card: type: '
            '"custom:button-card" template: "pill" variables: "[[[ return '
            'variables.entity_4; ]]]" entity: "[[[ return '
            'variables.entity_4.entity_id ]]]" name: "[[[ return '
            'variables.entity_4.name ]]]" icon: "[[[ return '
            'variables.entity_4.icon ]]]" color: "[[[ return '
            'variables.entity_4.color ]]]" item5: card: type: '
            '"custom:button-card" template: "pill" variables: "[[[ return '
            'variables.entity_5; ]]]" entity: "[[[ return '
            'variables.entity_5.entity_id ]]]" name: "[[[ return '
            'variables.entity_5.name ]]]" icon: "[[[ return '
            'variables.entity_5.icon ]]]" color: "[[[ return '
            'variables.entity_5.color ]]]" #椭圆形图标 pill: styles: grid: - '
            'grid-template-areas: \'"i" "n"\' - grid-template-columns: 54px - '
            'grid-template-rows: 54px min-content card: - border-radius: 50px '
            '- place-self: center - width: 54px - height: 84px - padding: 0px '
            "icon: - color: '[[[ return variables?.color ]]]' - width: 24px "
            'img_cell: - background-color: \'[[[return "color-mix(in srgb, "+ '
            'variables?.color +" 20%, transparent)" ]]]\' - border-radius: 50% '
            '- width: 42px - height: 42px name: - justify-self: center - '
            "font-weight: bold - font-size: 12px state: - value: 'off' styles: "
            'card: - height: 54px name: - display: none tap_action: action: '
            'more-info 复制代码 模板只编辑5个小图标，想要多少照着格式改下就行。 引用代码： type: '
            'custom:button-card template: row_pill #template名称 variables: '
            'entity_1: entity_id: sensor.0x00158d000444b5af_humidity name: 湿度 '
            'icon: mdi:water color: var(--light-green-color) '
            '#这里涉及到计算透明背景，只能用var(--颜色名称-color)，等效于light-green entity_2: '
            'entity_id: sensor.0x00158d000444b5af_humidity name: 湿度 icon: '
            'mdi:bed color: var(--light-blue-color) entity_3: entity_id: '
            'sensor.0x00158d000444b5af_humidity name: 湿度 icon: mdi:lightbulb '
            'color: var(--red-color) entity_4: entity_id: '
            "sensor.0x00158d000444b5af_humidity name: 湿度 icon: '' color: "
            'var(--orange-color) #......,总共有5个，如果只想要4个，最后一个不定义就可以 复制代码 效果： '
            '登录/注册后可看大图 屏幕截图 2024-07-27 221450.png (25.23 KB, 下载次数: 0) 下载附件 '
            '2024-7-27 22:15 上传 4.2、仿homekit灯卡片 跟button '
            'card作者的GitHub上的示例一样的，多了根据灯的样式，自动选择图标和显示不同类型的灯的详情 代码： '
            'button_card_templates: light_card: #仿HomeKit卡模板 show_state: false '
            'show_icon: true show_name: true icon: > #根据不同的名称，返回不同的图标 [[[ var '
            'friendlyName = entity.attributes.friendly_name; if '
            "(friendlyName.includes('灯带')) return 'mdi:led-strip-variant'; "
            "//检测包含文字 else if (entity.entity_id.includes('auto_light')) return "
            "'mdi:lightbulb-auto'; //检测包含文字 else if "
            "(friendlyName.includes('吸顶灯')) return 'mdi:wall-sconce-flat'; "
            "//检测包含文字 else if (friendlyName.includes('射灯')) return "
            "'mdi:track-light'; //检测包含文字 else if "
            "(friendlyName.includes('床头灯')) return 'mdi:lamp'; //检测包含文字 else "
            "if (friendlyName.includes('浴霸')) return 'mdi:light-recessed'; "
            "//检测包含文字 else if (friendlyName.includes('插座')) return "
            "'mdi:power-socket-us'; //检测包含文字 else return 'mdi:lightbulb'; ]]] "
            'label: > #根据不同的类型，返回不同的详情状态 [[[ if '
            "(entity.entity_id.startsWith('light.')) { if (entity.state === "
            '"on") { if (entity.attributes.color_temp_kelvin) return `开 '
            '${entity.attributes.color_temp_kelvin}k '
            '${Math.floor(entity.attributes.brightness * 100 / 255)}%`; else '
            'return \'开启\'; } if (entity.state === "off") return \'关闭\'; } '
            "else if (entity.entity_id.startsWith('switch.')) { if "
            '(entity.state === "on") return \'开启\'; if (entity.state === '
            '"off") return \'关闭\'; } else if '
            "(entity.entity_id.includes('auto_light')) { if (entity.state === "
            '"on") return \'开启\'; if (entity.state === "off") return \'关闭\'; } '
            "return '错误'; ]]] show_label: true grid: - grid-template-areas: "
            '\'"i" "n" "s"\' - grid-template-columns: 1fr - '
            'grid-template-rows: 1fr min-content min-content styles: label: - '
            'font-size: 12px - justify-self: start - padding-left: 10px card: '
            '- width: 90px - height: 90px img_cell: - justify-content: '
            'flex-start icon: - padding-left: 5px name: - justify-self: start '
            '- padding-left: 10px - font-weight: bold - font-size: 14px state: '
            "- value: 'off' styles: icon: - color: var(--light-grey-color) "
            'name: - color: var(--light-grey-color) label: - color: '
            'var(--light-grey-color) #使用： type: custom:button-card entity: '
            'switch.6cd3eec81262_channel_1 name: 客厅射灯 template: light_card '
            '复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 222440.png (52.78 KB, 下载次数: '
            '0) 下载附件 2024-7-27 22:25 上传 4.3、light卡片模板 '
            '我用的是乐式的驱动，比米家的多了一个灯光模式选择，自己加了自动调光的开关按钮 代码： button_card_templates: '
            'light_ls_card: #乐式灯卡片模板 show_icon: false show_name: false '
            'show_state: false styles: grid: - grid-template-areas: | "x a c z '
            'd y" "x w w w w y" "x b b b b y" - grid-template-columns: 4% 1fr '
            '120px 15px 40px 4% - grid-template-rows: 40px 5px 50px '
            'custom_fields: a: #灯光图标、详情 card: type: custom:button-card entity: '
            "'[[[ return entity.entity_id ]]]' #这里的entity是为了点击图标开关灯 show_icon: "
            'true show_state: false show_name: true show_label: true icon: '
            "mdi:lightbulb name: '[[[ return variables.light_name ]]]' "
            '#这里的name因为这里是二级card label: > [[[ if (entity.state == "on") return '
            "'开启 ' + entity.attributes.color_temp_kelvin + 'k ' + "
            "Math.floor(entity.attributes.brightness *100 / 255) + '%'; //计算取整 "
            'else if (entity.state == "off") return \'关闭\'; else return \'错误\' '
            ']]] styles: grid: - grid-template-areas: | "i a n" "i a s" "i a '
            'l" - grid-template-rows: 1fr min-content 1fr; - '
            'grid-template-columns: 40px 5px 1fr; card: - height: 40px - '
            'padding: 0px - box-shadow: none - border-radius: 0px - border: '
            '0px - background: none icon: - width: 24px - height: 24px - '
            'padding: 8px - border-radius: 50% - color: orange - background: '
            'rgb(255, 152, 0, 0.2) name: - font-size: 14px - justify-self: '
            'flex-start label: - font-size: 12px - justify-self: flex-start '
            "state: - value: 'on' styles: icon: - background: rgba(255, 152, "
            "0, 0.2) - color: orange - value: 'off' styles: icon: - "
            'background: rgb(158, 158, 158,0.2) - color: rgb(158, 158, 158) b: '
            '#亮度色温控制 card: type: custom:mushroom-light-card primary_info: none '
            'secondary_info: none icon_type: none show_brightness_control: '
            "true show_color_temp_control: true entity: '[[[ return "
            "entity.entity_id ]]]' card_mod: style: | ha-card { padding: 0px "
            '!important; border-radius: 0px !important; border: 0px '
            '!important; margin: 0px !important; box-shadow: none !important; '
            "} c: #模式选择 card: type: custom:mushroom-select-card entity: '[[[ "
            "return variables.light_select ]]]' primary_info: none "
            'secondary_info: none icon_type: none card_mod: style: | ha-card { '
            'padding: 0px !important; border-radius: 0px !important; border: '
            '0px !important; margin: 0px !important; --mdc-theme-surface: '
            'white !important; background: white !important; box-shadow: none '
            '!important; overflow: visible !important; } d: #自动调光开关 card: '
            "type: custom:button-card entity: '[[[ return variables.light_auto "
            "]]]' tap_action: action: toggle show_icon: true show_name: false "
            'show_state: false icon: mdi:lightbulb-auto styles: grid: - '
            'grid-template-areas: \'"i"\' - grid-template-columns: 40px - '
            'grid-template-rows: 40px card: - padding: 0px - background: none '
            '- border-radius: 12px - box-shadow: none - background: none '
            'img_cell: - border-radius: 12px icon: - width: 24px state: - '
            "value: 'on' styles: img_cell: - background: rgb(255, 152, 0, 0.2) "
            "icon: - color: rgb(255, 152, 0) - value: 'off' styles: img_cell: "
            '- background: rgb(158, 158, 158, 0.1) icon: - color: rgb(158, '
            '158, 158) #使用 type: custom:button-card entity: '
            'light.b850d8174501_light template: light_ls_card variables: '
            'light_name: 吸顶灯 light_select: select.b850d8174501_mode '
            'light_auto: input_boolean.auto_light_zhuwo_xidingdeng 复制代码 效果： '
            '登录/注册后可看大图 屏幕截图 2024-07-27 223148.png (25.11 KB, 下载次数: 0) 下载附件 '
            '2024-7-27 22:32 上传 4.3、两种样式卡片互相切换 '
            '这个用到之前提到的display属性，关灯的时候一种卡片样式，开灯的时候一种卡片样式 '
            '结合之前的仿HomeKit卡片和light卡片的模板 代码： button_card_templates: '
            'light_card_exchange: show_icon: false show_state: false '
            'show_name: false styles: grid: - grid-template-areas: \'"b" "d"\' '
            '- grid-template-columns: 1fr - grid-template-rows: 1fr card: - '
            'padding: 0px - broder: 0px - margin: 0px - background: none - '
            'border-radius: 0px - box-shadow: none - overflow: visible '
            'custom_fields: b: - display: > #block显示，none不显示 [[[ return '
            'entity.state == "on" ? "block" : "none" ]]] d: - padding-top: '
            '10px - display: > [[[ return entity.state == "off" ? "block" : '
            '"none" ]]] custom_fields: b: card: type: custom:button-card '
            "entity: '[[[return entity.entity_id]]]' template: light_ls_card "
            "#引用模板 variables: light_name: '[[[return variables.light_name]]]' "
            "light_select: '[[[return variables.light_select]]]' light_auto: "
            "'[[[return variables.light_auto]]]' d: card: type: "
            "custom:button-card name: '[[[return variables.light_name]]]' "
            "entity: '[[[return entity.entity_id]]]' template: light_card "
            '#引用模板 #使用 type: custom:button-card entity: '
            'light.dced830254b8_light template: light_card_exchange variables: '
            'light_name: 吸顶灯 light_select: select.dced830254b8_mode '
            'light_auto: input_boolean.auto_light_keting_xidingdeng 复制代码 效果： '
            '登录/注册后可看大图 屏幕截图 2024-07-27 224332.png (172.45 KB, 下载次数: 0) 下载附件 '
            '2024-7-27 22:44 上传 未完待续。。。。',
 'crawl_time': '2025-07-24T20:12:43.146658',
 'floor_num': 9,
 'post_id': ['26299'],
 'reply_id': ['post_619336'],
 'reply_time': '发表于 2024-7-27 15:36:23'}
2025-07-24 20:12:43 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:43 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_11
2025-07-24 20:12:43 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26299
2025-07-24 20:12:43 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'ck3',
 'content': '大佬，pad ui教程能分享吗',
 'crawl_time': '2025-07-24T20:12:43.147963',
 'floor_num': 11,
 'post_id': ['26299'],
 'reply_id': ['post_619359'],
 'reply_time': '发表于 2024-7-27 17:24:21'}
2025-07-24 20:12:43 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:43 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_13
2025-07-24 20:12:43 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26299
2025-07-24 20:12:43 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hungheo',
 'content': 'ck3 发表于 2024-7-27 17:24 大佬，pad ui教程能分享吗 我也是参考别人的，原贴链接在这里： '
            'https://bbs.hassbian.com/thread-25894-1-1.html '
            '难点不是代码，是彩平图，图标等等，CAD图纸是自己画的，彩平图是淘宝10块别人帮忙弄的，图标搞了好几天，找个图标制作网站，自己慢慢拼出来的',
 'crawl_time': '2025-07-24T20:12:43.148208',
 'floor_num': 13,
 'post_id': ['26299'],
 'reply_id': ['post_619381'],
 'reply_time': '发表于 2024-7-27 19:41:10'}
2025-07-24 20:12:43 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:43 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_15
2025-07-24 20:12:43 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26299
2025-07-24 20:12:43 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hhh.',
 'content': '大量使用button-card，配合mushroom-card，刷新界面，会出现不显示icon，楼主有遇到过吗？',
 'crawl_time': '2025-07-24T20:12:43.148449',
 'floor_num': 15,
 'post_id': ['26299'],
 'reply_id': ['post_619384'],
 'reply_time': '发表于 2024-7-27 20:15:50'}
2025-07-24 20:12:43 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:43 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_17
2025-07-24 20:12:43 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26299
2025-07-24 20:12:43 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hungheo',
 'content': 'hhh. 发表于 2024-7-27 20:15 '
            '大量使用button-card，配合mushroom-card，刷新界面，会出现不显示icon，楼主有遇到过吗？ '
            '我用了几种mushroom卡片：entity， climate，light，chips这些，也用card-mod。 '
            '其他的全是button card，最多套到了5层。 也遇到过加载不出来，要刷新很多次才显示，或者偶尔能加载出来。 '
            '好像是button card的问题，也有说用了card-mod或者browser-mod才出现。 F12看控制台，一般就是： '
            "TypeError: Cannot read properties of undefined (reading 'style') "
            'Uncaught (in promise) TypeError: e.setConfig is not a function '
            '这个得慢慢找，清空缓存，或者隐身模式，找到了把他们放在template模板里面大多都能能解决',
 'crawl_time': '2025-07-24T20:12:43.148669',
 'floor_num': 17,
 'post_id': ['26299'],
 'reply_id': ['post_619391'],
 'reply_time': '发表于 2024-7-27 21:18:53'}
2025-07-24 20:12:43 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:43 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_19
2025-07-24 20:12:43 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26299
2025-07-24 20:12:43 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hhh.',
 'content': 'hungheo 发表于 2024-7-27 21:18 我用了几种mushroom卡片：entity， '
            'climate，light，chips这些，也用card-mod。 其他的全是button card， ... '
            '单独使用没有任何问题，只要在button-card中使用mushroom的卡片，就会出现这种问题，应该与其他卡片无关，就是按钮卡片和蘑菇卡片相互不兼容。 '
            '我现在想的就是尽量少用第三方卡片，多用原生卡片，按钮卡片，卡片模组辅助。 确实，这个问题的慢慢找，而且错误较多，得一一排查。',
 'crawl_time': '2025-07-24T20:12:43.148923',
 'floor_num': 19,
 'post_id': ['26299'],
 'reply_id': ['post_619392'],
 'reply_time': '发表于 2024-7-27 21:29:31'}
2025-07-24 20:12:44 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:  549 ms | size: 17958 bytes
2025-07-24 20:12:44 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-24610-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:12:44 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-24610-1-1.html
2025-07-24 20:12:44 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting post info for 24610: 'SelectorList' object has no attribute 'first'
2025-07-24 20:12:44 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 24610
2025-07-24 20:12:44 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:44 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_3
2025-07-24 20:12:44 [forum_spider.pipelines] WARNING: No post directory found for post_id: 24610
2025-07-24 20:12:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': 'launze',
 'content': '感谢！一直用的这个插件',
 'crawl_time': '2025-07-24T20:12:44.904626',
 'floor_num': 3,
 'post_id': ['24610'],
 'reply_id': ['post_590276'],
 'reply_time': '发表于 2024-3-21 12:28:34'}
2025-07-24 20:12:44 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:44 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_5
2025-07-24 20:12:44 [forum_spider.pipelines] WARNING: No post directory found for post_id: 24610
2025-07-24 20:12:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': 'zxyny1989',
 'content': '谢谢大佬分享，可惜我用的高恪',
 'crawl_time': '2025-07-24T20:12:44.905723',
 'floor_num': 5,
 'post_id': ['24610'],
 'reply_id': ['post_590280'],
 'reply_time': '发表于 2024-3-21 12:34:45'}
2025-07-24 20:12:44 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:44 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_7
2025-07-24 20:12:44 [forum_spider.pipelines] WARNING: No post directory found for post_id: 24610
2025-07-24 20:12:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': 'adxr',
 'content': 'zxyny1989 发表于 2024-3-21 12:34 谢谢大佬分享，可惜我用的高恪 高格也差不多的，抓一下包改一下',
 'crawl_time': '2025-07-24T20:12:44.906166',
 'floor_num': 7,
 'post_id': ['24610'],
 'reply_id': ['post_590282'],
 'reply_time': '发表于 2024-3-21 12:41:14'}
2025-07-24 20:12:44 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:44 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_9
2025-07-24 20:12:44 [forum_spider.pipelines] WARNING: No post directory found for post_id: 24610
2025-07-24 20:12:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': 'QQ617250210',
 'content': '感谢分项，我用的是爱快的集成，也挺好用的',
 'crawl_time': '2025-07-24T20:12:44.906548',
 'floor_num': 9,
 'post_id': ['24610'],
 'reply_id': ['post_590285'],
 'reply_time': '发表于 2024-3-21 13:34:28'}
2025-07-24 20:12:44 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:44 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_11
2025-07-24 20:12:44 [forum_spider.pipelines] WARNING: No post directory found for post_id: 24610
2025-07-24 20:12:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': '隔壁的王叔叔',
 'content': '直接用ha就行了呗，为嘛还通过mqtt中转一下呢？',
 'crawl_time': '2025-07-24T20:12:44.906914',
 'floor_num': 11,
 'post_id': ['24610'],
 'reply_id': ['post_590296'],
 'reply_time': '发表于 2024-3-21 14:24:24'}
2025-07-24 20:12:44 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:44 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_13
2025-07-24 20:12:44 [forum_spider.pipelines] WARNING: No post directory found for post_id: 24610
2025-07-24 20:12:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': '4303279',
 'content': '不知道用个能不能进入TP-LINK',
 'crawl_time': '2025-07-24T20:12:44.907283',
 'floor_num': 13,
 'post_id': ['24610'],
 'reply_id': ['post_590305'],
 'reply_time': '发表于 2024-3-21 14:45:37'}
2025-07-24 20:12:44 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:44 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_15
2025-07-24 20:12:44 [forum_spider.pipelines] WARNING: No post directory found for post_id: 24610
2025-07-24 20:12:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': 'SuperGabriel',
 'content': '感谢分享，学习一下，正好看看能不能使用',
 'crawl_time': '2025-07-24T20:12:44.907590',
 'floor_num': 15,
 'post_id': ['24610'],
 'reply_id': ['post_590355'],
 'reply_time': '发表于 2024-3-21 16:41:50'}
2025-07-24 20:12:44 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:44 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_17
2025-07-24 20:12:44 [forum_spider.pipelines] WARNING: No post directory found for post_id: 24610
2025-07-24 20:12:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': 'ldj',
 'content': '来研究一下',
 'crawl_time': '2025-07-24T20:12:44.907891',
 'floor_num': 17,
 'post_id': ['24610'],
 'reply_id': ['post_590539'],
 'reply_time': '发表于 2024-3-22 03:08:13'}
2025-07-24 20:12:44 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:44 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_19
2025-07-24 20:12:44 [forum_spider.pipelines] WARNING: No post directory found for post_id: 24610
2025-07-24 20:12:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': 'silang521',
 'content': '我的不能直接导入',
 'crawl_time': '2025-07-24T20:12:44.908188',
 'floor_num': 19,
 'post_id': ['24610'],
 'reply_id': ['post_590776'],
 'reply_time': '发表于 2024-3-22 20:56:49'}
2025-07-24 20:12:47 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency: 1656 ms | size: 19750 bytes
2025-07-24 20:12:47 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-29853-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:12:48 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-29853-1-1.html
2025-07-24 20:12:48 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting post info for 29853: 'SelectorList' object has no attribute 'first'
2025-07-24 20:12:48 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 29853
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_3
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29853
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'wubit',
 'content': 'HA专属装备 - - - - WS2812可寻址多彩LED灯控制器 [修改]',
 'crawl_time': '2025-07-24T20:12:48.045813',
 'floor_num': 3,
 'post_id': ['29853'],
 'reply_id': ['post_686617'],
 'reply_time': '发表于'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_5
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29853
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'wubit',
 'content': '怎么才能让ws2812灯带显示时钟呢',
 'crawl_time': '2025-07-24T20:12:48.046496',
 'floor_num': 5,
 'post_id': ['29853'],
 'reply_id': ['post_686618'],
 'reply_time': '发表于'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_7
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29853
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'sorrypqa',
 'content': '本帖最后由 sorrypqa 于 2025-7-21 18:08 编辑 wubit 发表于 2025-7-21 18:02 '
            '怎么才能让ws2812灯带显示时钟呢 LED要按数字笔段排列才行！',
 'crawl_time': '2025-07-24T20:12:48.046865',
 'floor_num': 7,
 'post_id': ['29853'],
 'reply_id': ['post_686621'],
 'reply_time': '发表于'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_9
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29853
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'a_dongde',
 'content': '这么强悍？',
 'crawl_time': '2025-07-24T20:12:48.047216',
 'floor_num': 9,
 'post_id': ['29853'],
 'reply_id': ['post_686623'],
 'reply_time': '发表于'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_11
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29853
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'sorrypqa',
 'content': 'a_dongde 发表于 2025-7-21 18:23 这么强悍？ 是的，这固件的功能非常强大！',
 'crawl_time': '2025-07-24T20:12:48.047529',
 'floor_num': 11,
 'post_id': ['29853'],
 'reply_id': ['post_686625'],
 'reply_time': '发表于'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_13
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29853
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'daifhfh',
 'content': 'LED要按数字笔段排列才行！',
 'crawl_time': '2025-07-24T20:12:48.047823',
 'floor_num': 13,
 'post_id': ['29853'],
 'reply_id': ['post_686639'],
 'reply_time': '发表于'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_15
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29853
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'qiyong0401',
 'content': '谢楼主分享',
 'crawl_time': '2025-07-24T20:12:48.048104',
 'floor_num': 15,
 'post_id': ['29853'],
 'reply_id': ['post_686643'],
 'reply_time': '发表于'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_17
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29853
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'guxiaoqi2007',
 'content': 'WS2812可寻址多彩LED灯控制器 [',
 'crawl_time': '2025-07-24T20:12:48.048374',
 'floor_num': 17,
 'post_id': ['29853'],
 'reply_id': ['post_686667'],
 'reply_time': '发表于'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_19
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29853
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'TianYa',
 'content': '谢楼主分享',
 'crawl_time': '2025-07-24T20:12:48.048660',
 'floor_num': 19,
 'post_id': ['29853'],
 'reply_id': ['post_686712'],
 'reply_time': '发表于'}
2025-07-24 20:12:48 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:  521 ms | size: 18059 bytes
2025-07-24 20:12:48 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-26386-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:12:48 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-26386-1-1.html
2025-07-24 20:12:48 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting post info for 26386: 'SelectorList' object has no attribute 'first'
2025-07-24 20:12:48 [forum_spider.spiders.hassbian_spider] INFO: Extracted 10 replies for post 26386
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_3
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26386
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'zonglong',
 'content': '本帖最后由 zonglong 于 2024-9-11 13:30 编辑 不需要编程器固件去烧写到 flash, 在 uboot '
            '烧回写 rootfs 就可, 不用全烧写 fatload mmc 0:1 0x21000000 rootfs_new.bin sf '
            'probe sf erase 0x250000 0x69E000 sf write 0x21000000 0x250000 '
            '0x69E000 复制代码',
 'crawl_time': '2025-07-24T20:12:48.884335',
 'floor_num': 3,
 'post_id': ['26386'],
 'reply_id': ['post_621564'],
 'reply_time': '发表于 2024-8-6 10:31:11'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_5
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26386
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'tianzhuang55',
 'content': '这个高端啊',
 'crawl_time': '2025-07-24T20:12:48.885287',
 'floor_num': 5,
 'post_id': ['26386'],
 'reply_id': ['post_621035'],
 'reply_time': '发表于 2024-8-3 16:42:07'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_7
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26386
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'Dyop',
 'content': '1561561561456dfvs s',
 'crawl_time': '2025-07-24T20:12:48.885741',
 'floor_num': 7,
 'post_id': ['26386'],
 'reply_id': ['post_621051'],
 'reply_time': '发表于 2024-8-3 17:58:50'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_9
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26386
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'yly',
 'content': '感谢分享，，，，',
 'crawl_time': '2025-07-24T20:12:48.886182',
 'floor_num': 9,
 'post_id': ['26386'],
 'reply_id': ['post_621079'],
 'reply_time': '发表于 2024-8-3 22:14:21'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_11
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26386
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'mengwenqiang520',
 'content': '围观一下',
 'crawl_time': '2025-07-24T20:12:48.886607',
 'floor_num': 11,
 'post_id': ['26386'],
 'reply_id': ['post_621094'],
 'reply_time': '发表于 2024-8-4 00:20:37'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_13
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26386
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'xiaomi2024',
 'content': '感谢分享',
 'crawl_time': '2025-07-24T20:12:48.886951',
 'floor_num': 13,
 'post_id': ['26386'],
 'reply_id': ['post_621100'],
 'reply_time': '发表于 2024-8-4 01:01:16'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_15
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26386
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'silas3082',
 'content': 'up能否来个更具体一点的教程，没看明白具体怎么操作',
 'crawl_time': '2025-07-24T20:12:48.887280',
 'floor_num': 15,
 'post_id': ['26386'],
 'reply_id': ['post_621102'],
 'reply_time': '发表于 2024-8-4 01:03:05'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_17
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26386
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'yxl150985',
 'content': 'silas3082 发表于 2024-8-4 01:03 up能否来个更具体一点的教程，没看明白具体怎么操作 稍微写了一下',
 'crawl_time': '2025-07-24T20:12:48.887601',
 'floor_num': 17,
 'post_id': ['26386'],
 'reply_id': ['post_621129'],
 'reply_time': '发表于 2024-8-4 08:41:04'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_19
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26386
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'suixin45',
 'content': '感谢分享',
 'crawl_time': '2025-07-24T20:12:48.887918',
 'floor_num': 19,
 'post_id': ['26386'],
 'reply_id': ['post_621130'],
 'reply_time': '发表于 2024-8-4 09:01:00'}
2025-07-24 20:12:48 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:48 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_21
2025-07-24 20:12:48 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26386
2025-07-24 20:12:48 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'silas3082',
 'content': 'yxl150985 发表于 2024-8-4 08:41 稍微写了一下 感谢大佬',
 'crawl_time': '2025-07-24T20:12:48.888244',
 'floor_num': 21,
 'post_id': ['26386'],
 'reply_id': ['post_621146'],
 'reply_time': '发表于 2024-8-4 10:38:19'}
2025-07-24 20:12:50 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:  482 ms | size: 16212 bytes
2025-07-24 20:12:50 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-29877-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:12:50 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-29877-1-1.html
2025-07-24 20:12:50 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting post info for 29877: 'SelectorList' object has no attribute 'first'
2025-07-24 20:12:50 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 29877
2025-07-24 20:12:50 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:50 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_3
2025-07-24 20:12:50 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29877
2025-07-24 20:12:50 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': '573176128',
 'content': '装了可以设置背景图的透明度，底部dock栏也不知道怎么实现',
 'crawl_time': '2025-07-24T20:12:50.832123',
 'floor_num': 3,
 'post_id': ['29877'],
 'reply_id': ['post_686793'],
 'reply_time': '发表于'}
2025-07-24 20:12:50 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:50 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_5
2025-07-24 20:12:50 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29877
2025-07-24 20:12:50 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': 'XQapp',
 'content': '用的是navbar card⬇️ '
            'https://github.com/joseluis9595/lovelace-navbar-card 主题大概是Frosted '
            'Glass https://github.com/wessamlauf/ho ... ?tab=readme-ov-file '
            '.guestviewthumb {margin:10px auto; '
            'text-align:center;}.guestviewthumb a '
            '{font-size:12px;}.guestviewthumb_cur '
            '{cursor:url("https://www.hasstatic.com/image/common/scf.gif"), '
            'default; max-width:100px;}.ie6 .guestviewthumb_cur { width:100px '
            '!important;} 登录/注册后可看大图',
 'crawl_time': '2025-07-24T20:12:50.832778',
 'floor_num': 5,
 'post_id': ['29877'],
 'reply_id': ['post_686795'],
 'reply_time': '发表于'}
2025-07-24 20:12:50 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:50 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_7
2025-07-24 20:12:50 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29877
2025-07-24 20:12:50 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': 'hassmingovo',
 'content': 'bubble card Horizontal buttons stack + 样式应该可以实现',
 'crawl_time': '2025-07-24T20:12:50.833162',
 'floor_num': 7,
 'post_id': ['29877'],
 'reply_id': ['post_686801'],
 'reply_time': '发表于'}
2025-07-24 20:12:50 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:50 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_9
2025-07-24 20:12:50 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29877
2025-07-24 20:12:50 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': 'xiaomi2024',
 'content': '这个要用魔法才能访问吧?',
 'crawl_time': '2025-07-24T20:12:50.833462',
 'floor_num': 9,
 'post_id': ['29877'],
 'reply_id': ['post_686806'],
 'reply_time': '发表于'}
2025-07-24 20:12:50 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:50 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_11
2025-07-24 20:12:50 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29877
2025-07-24 20:12:50 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': 'frx',
 'content': 'xiaomi2024 发表于 2025-7-22 14:50 这个要用魔法才能访问吧? 嗯，可以试试 '
            'https://gitee.com/klmahuaw/GitHub520',
 'crawl_time': '2025-07-24T20:12:50.833724',
 'floor_num': 11,
 'post_id': ['29877'],
 'reply_id': ['post_686818'],
 'reply_time': '发表于'}
2025-07-24 20:12:50 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:50 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_13
2025-07-24 20:12:50 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29877
2025-07-24 20:12:50 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': '573176128',
 'content': 'Navbar Card，这个你看看是不是',
 'crawl_time': '2025-07-24T20:12:50.833997',
 'floor_num': 13,
 'post_id': ['29877'],
 'reply_id': ['post_686826'],
 'reply_time': '发表于'}
2025-07-24 20:12:50 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:50 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_15
2025-07-24 20:12:50 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29877
2025-07-24 20:12:50 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': 'frx',
 'content': '573176128 发表于 2025-7-22 15:44 Navbar Card，这个你看看是不是 装上了，就是他，谢谢啦',
 'crawl_time': '2025-07-24T20:12:50.834253',
 'floor_num': 15,
 'post_id': ['29877'],
 'reply_id': ['post_686828'],
 'reply_time': '发表于'}
2025-07-24 20:12:50 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:50 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_17
2025-07-24 20:12:50 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29877
2025-07-24 20:12:50 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': '冬暖夏凉',
 'content': 'xiaomi2024 发表于 2025-7-22 14:50 这个要用魔法才能访问吧? 微软商店搜watt '
            'toolkit，这个软件可以给github加速（免费）',
 'crawl_time': '2025-07-24T20:12:50.834507',
 'floor_num': 17,
 'post_id': ['29877'],
 'reply_id': ['post_686837'],
 'reply_time': '发表于'}
2025-07-24 20:12:50 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:50 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_19
2025-07-24 20:12:50 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29877
2025-07-24 20:12:50 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': 'xiaomi2024',
 'content': '冬暖夏凉 发表于 2025-7-22 16:35 微软商店搜watt toolkit，这个软件可以给github加速（免费） '
            '这个太麻烦了. 还是gitee好用',
 'crawl_time': '2025-07-24T20:12:50.834770',
 'floor_num': 19,
 'post_id': ['29877'],
 'reply_id': ['post_687108'],
 'reply_time': '发表于'}
2025-07-24 20:12:52 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:   30 ms | size: 17839 bytes
2025-07-24 20:12:52 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-26328-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:12:52 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-26328-1-1.html
2025-07-24 20:12:52 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting post info for 26328: 'SelectorList' object has no attribute 'first'
2025-07-24 20:12:52 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 26328
2025-07-24 20:12:52 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:52 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_3
2025-07-24 20:12:52 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26328
2025-07-24 20:12:52 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'Ari',
 'content': '本帖最后由 Ari 于 2024-7-30 13:44 编辑 '
            '好看，正在抄作业，ButtonCardJSTemplateError: TypeError: Cannot read '
            "properties of undefined (reading 'state') in 'var state = "
            'entity.state; var temp = entity.attributes.current_temperature; '
            'if(state == "heat"...\' 啥意思啊。复制到原始配置编辑器最上面了',
 'crawl_time': '2025-07-24T20:12:52.369651',
 'floor_num': 3,
 'post_id': ['26328'],
 'reply_id': ['post_619937'],
 'reply_time': '发表于 2024-7-30 13:39:15'}
2025-07-24 20:12:52 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:52 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_5
2025-07-24 20:12:52 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26328
2025-07-24 20:12:52 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'suixin45',
 'content': '感谢分享',
 'crawl_time': '2025-07-24T20:12:52.371439',
 'floor_num': 5,
 'post_id': ['26328'],
 'reply_id': ['post_619938'],
 'reply_time': '发表于 2024-7-30 13:43:08'}
2025-07-24 20:12:52 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:52 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_7
2025-07-24 20:12:52 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26328
2025-07-24 20:12:52 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'yclin20',
 'content': '感谢分享，抄作业抄作业',
 'crawl_time': '2025-07-24T20:12:52.371873',
 'floor_num': 7,
 'post_id': ['26328'],
 'reply_id': ['post_619940'],
 'reply_time': '发表于 2024-7-30 13:45:02'}
2025-07-24 20:12:52 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:52 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_9
2025-07-24 20:12:52 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26328
2025-07-24 20:12:52 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'xuyunjun',
 'content': '666很不错',
 'crawl_time': '2025-07-24T20:12:52.372156',
 'floor_num': 9,
 'post_id': ['26328'],
 'reply_id': ['post_619941'],
 'reply_time': '发表于 2024-7-30 13:47:03'}
2025-07-24 20:12:52 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:52 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_11
2025-07-24 20:12:52 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26328
2025-07-24 20:12:52 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': '落楓',
 'content': '感谢大佬分享~我来看看帖子里有什么 0.0',
 'crawl_time': '2025-07-24T20:12:52.372395',
 'floor_num': 11,
 'post_id': ['26328'],
 'reply_id': ['post_619942'],
 'reply_time': '发表于 2024-7-30 13:49:01'}
2025-07-24 20:12:52 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:52 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_13
2025-07-24 20:12:52 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26328
2025-07-24 20:12:52 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'wfy459924951',
 'content': 'Ari 发表于 2024-7-30 13:39 好看，正在抄作业，ButtonCardJSTemplateError: '
            'TypeError: Cannot read properties of undefined (reading ... '
            '所需卡片都下载了吗？ 下载后刷新下浏览器',
 'crawl_time': '2025-07-24T20:12:52.372750',
 'floor_num': 13,
 'post_id': ['26328'],
 'reply_id': ['post_619943'],
 'reply_time': '发表于 2024-7-30 13:49:27'}
2025-07-24 20:12:52 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:52 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_15
2025-07-24 20:12:52 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26328
2025-07-24 20:12:52 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'Mqiang115',
 'content': '感谢分享，抄作业抄作业',
 'crawl_time': '2025-07-24T20:12:52.373047',
 'floor_num': 15,
 'post_id': ['26328'],
 'reply_id': ['post_619945'],
 'reply_time': '发表于 2024-7-30 13:50:49'}
2025-07-24 20:12:52 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:52 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_17
2025-07-24 20:12:52 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26328
2025-07-24 20:12:52 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'Ari',
 'content': '本帖最后由 Ari 于 2024-7-30 13:57 编辑 wfy459924951 发表于 2024-7-30 13:49 '
            '所需卡片都下载了吗？ 下载后刷新下浏览器 '
            '都下载了，代码1也放在这上面了，可能缓存没缓过来，现在可以用了，能增加调节风速还有什么防直吹的按钮吗',
 'crawl_time': '2025-07-24T20:12:52.373286',
 'floor_num': 17,
 'post_id': ['26328'],
 'reply_id': ['post_619947'],
 'reply_time': '发表于 2024-7-30 13:52:40'}
2025-07-24 20:12:52 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:52 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_19
2025-07-24 20:12:52 [forum_spider.pipelines] WARNING: No post directory found for post_id: 26328
2025-07-24 20:12:52 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'lsqzxz',
 'content': '谢谢分享',
 'crawl_time': '2025-07-24T20:12:52.373534',
 'floor_num': 19,
 'post_id': ['26328'],
 'reply_id': ['post_619949'],
 'reply_time': '发表于 2024-7-30 13:56:03'}
2025-07-24 20:12:54 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:   61 ms | size: 21244 bytes
2025-07-24 20:12:54 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-22924-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:12:54 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-22924-1-1.html
2025-07-24 20:12:54 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting post info for 22924: 'SelectorList' object has no attribute 'first'
2025-07-24 20:12:54 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 22924
2025-07-24 20:12:54 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:54 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_3
2025-07-24 20:12:54 [forum_spider.pipelines] WARNING: No post directory found for post_id: 22924
2025-07-24 20:12:54 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'wdmywm3',
 'content': '我的平板中控放在门口当了几个月的摆设了，先学习一个',
 'crawl_time': '2025-07-24T20:12:54.399478',
 'floor_num': 3,
 'post_id': ['22924'],
 'reply_id': ['post_558412'],
 'reply_time': '发表于 2023-10-6 00:50:30'}
2025-07-24 20:12:54 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:54 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_5
2025-07-24 20:12:54 [forum_spider.pipelines] WARNING: No post directory found for post_id: 22924
2025-07-24 20:12:54 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'dachandler7',
 'content': 'wdmywm3 发表于 2023-10-6 00:50 我的平板中控放在门口当了几个月的摆设了，先学习一个 '
            '我在实际使用时，用的最多的其实是小爱音箱，非米家设备通过巴法云可以让小爱音箱来进行控制。平板中控除了装13好看以外，只有在客厅区域内的情况下才会少量使用。',
 'crawl_time': '2025-07-24T20:12:54.400000',
 'floor_num': 5,
 'post_id': ['22924'],
 'reply_id': ['post_558413'],
 'reply_time': '发表于 2023-10-6 01:36:57'}
2025-07-24 20:12:54 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:54 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_7
2025-07-24 20:12:54 [forum_spider.pipelines] WARNING: No post directory found for post_id: 22924
2025-07-24 20:12:54 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'wdmywm3',
 'content': 'dachandler7 发表于 2023-10-6 01:36 '
            '我在实际使用时，用的最多的其实是小爱音箱，非米家设备通过巴法云可以让小爱音箱来进行控制。平板中控除 ... '
            '是这样，所以我现在回头琢磨，感觉搞个小米智慧屏6或者8，又或者红米音箱pro8改，有钱的搞个智慧屏10，上墙的效果可能比一个平板更好。 '
            '一个是自带miui，比自己diy的终究好看。 另一个是自带小爱音箱，节省一个小爱的空间。',
 'crawl_time': '2025-07-24T20:12:54.400285',
 'floor_num': 7,
 'post_id': ['22924'],
 'reply_id': ['post_558414'],
 'reply_time': '发表于 2023-10-6 01:56:32'}
2025-07-24 20:12:54 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:54 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_9
2025-07-24 20:12:54 [forum_spider.pipelines] WARNING: No post directory found for post_id: 22924
2025-07-24 20:12:54 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'bugensui',
 'content': '为什么不用官方的app，功能体验不是更好，另外请教下220V转5V的变压器放进86盒，长期通电的情况下，有没有安全隐患',
 'crawl_time': '2025-07-24T20:12:54.400550',
 'floor_num': 9,
 'post_id': ['22924'],
 'reply_id': ['post_558562'],
 'reply_time': '发表于 2023-10-6 23:26:28'}
2025-07-24 20:12:54 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:54 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_11
2025-07-24 20:12:54 [forum_spider.pipelines] WARNING: No post directory found for post_id: 22924
2025-07-24 20:12:54 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'a_dongde',
 'content': 'bugensui 发表于 2023-10-6 23:26 '
            '为什么不用官方的app，功能体验不是更好，另外请教下220V转5V的变压器放进86盒，长期通电的情况下，有没有 ... fully '
            'kiosk browser 功能里可以调用摄像头，可以实现人来自动亮屏（本人买了个联想小新PAD '
            '2020自带了，使用的免费功能即可）。 '
            '220V转5V的变压器放入底盒正常运行一年了，没什么问题，本来现在的带USB口的插座都是一直通电在线的。',
 'crawl_time': '2025-07-24T20:12:54.400778',
 'floor_num': 11,
 'post_id': ['22924'],
 'reply_id': ['post_558583'],
 'reply_time': '发表于 2023-10-7 08:40:27'}
2025-07-24 20:12:54 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:54 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_13
2025-07-24 20:12:54 [forum_spider.pipelines] WARNING: No post directory found for post_id: 22924
2025-07-24 20:12:54 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': '13860605362',
 'content': '我中控直接常亮，控制设备次要的，绝大部分自动化，小部分语音控制。我更多的是用来消息提醒，晒衣服耗材之类的。',
 'crawl_time': '2025-07-24T20:12:54.401171',
 'floor_num': 13,
 'post_id': ['22924'],
 'reply_id': ['post_558591'],
 'reply_time': '发表于 2023-10-7 09:51:50'}
2025-07-24 20:12:54 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:54 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_15
2025-07-24 20:12:54 [forum_spider.pipelines] WARNING: No post directory found for post_id: 22924
2025-07-24 20:12:54 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'bugensui',
 'content': 'a_dongde 发表于 2023-10-7 08:40 fully kiosk browser '
            '功能里可以调用摄像头，可以实现人来自动亮屏（本人买了个联想小新PAD 2020自带了， ... '
            '谢谢大佬，你买的是哪款，能不能分享下，你在用在底盒里接什么传感器用？',
 'crawl_time': '2025-07-24T20:12:54.401505',
 'floor_num': 15,
 'post_id': ['22924'],
 'reply_id': ['post_558596'],
 'reply_time': '发表于 2023-10-7 10:23:38'}
2025-07-24 20:12:54 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:54 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_17
2025-07-24 20:12:54 [forum_spider.pipelines] WARNING: No post directory found for post_id: 22924
2025-07-24 20:12:54 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'a_dongde',
 'content': '空白处开关时连接220~5V电源，塞到了底盒里，在HA中写了自动化通断充电。3D打印了一个支架，把原来的开关垫高了，线走支架下穿出来。 '
            '登录/注册后可看大图 1697159031653.png (252.16 KB, 下载次数: 0) 下载附件 2023-10-13 '
            '09:04 上传',
 'crawl_time': '2025-07-24T20:12:54.401829',
 'floor_num': 17,
 'post_id': ['22924'],
 'reply_id': ['post_559976'],
 'reply_time': '发表于 2023-10-13 09:06:19'}
2025-07-24 20:12:54 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:54 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_19
2025-07-24 20:12:54 [forum_spider.pipelines] WARNING: No post directory found for post_id: 22924
2025-07-24 20:12:54 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'a_dongde',
 'content': 'bugensui 发表于 2023-10-7 10:23 谢谢大佬，你买的是哪款，能不能分享下，你在用在底盒里接什么传感器用？ '
            '... '
            '空白处开关时连接220~5V电源，塞到了底盒里，在HA中写了自动化通断充电。3D打印了一个支架，把原来的开关垫高了，线走支架下穿出来。 '
            '登录/注册后可看大图 1697159031653.png (252.16 KB, 下载次数: 0) 下载附件 2023-10-13 '
            '09:07 上传',
 'crawl_time': '2025-07-24T20:12:54.402096',
 'floor_num': 19,
 'post_id': ['22924'],
 'reply_id': ['post_559977'],
 'reply_time': '发表于 2023-10-13 09:07:31'}
2025-07-24 20:12:56 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:   75 ms | size: 30475 bytes
2025-07-24 20:12:56 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-19349-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:12:56 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-19349-1-1.html
2025-07-24 20:12:56 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting post info for 19349: 'SelectorList' object has no attribute 'first'
2025-07-24 20:12:56 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 19349
2025-07-24 20:12:56 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:56 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_3
2025-07-24 20:12:56 [forum_spider.pipelines] WARNING: No post directory found for post_id: 19349
2025-07-24 20:12:56 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'ekingfan',
 'content': '本帖最后由 ekingfan 于 2023-1-27 22:12 编辑 谢谢先。type: '
            'custom:digital-clock 但时间日期怎么转成中文？要加代码？删除这个代码就是中文的， locale: cn '
            '但怎么怎么设置12小时？',
 'crawl_time': '2025-07-24T20:12:56.422062',
 'floor_num': 3,
 'post_id': ['19349'],
 'reply_id': ['post_507343'],
 'reply_time': '发表于 2023-1-27 21:50:50'}
2025-07-24 20:12:56 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:56 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_5
2025-07-24 20:12:56 [forum_spider.pipelines] WARNING: No post directory found for post_id: 19349
2025-07-24 20:12:56 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'sorrypqa',
 'content': '我的天呀，天书般的配置，没有注释，完全看不懂。',
 'crawl_time': '2025-07-24T20:12:56.422737',
 'floor_num': 5,
 'post_id': ['19349'],
 'reply_id': ['post_507344'],
 'reply_time': '发表于 2023-1-27 22:00:13'}
2025-07-24 20:12:56 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:56 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_7
2025-07-24 20:12:56 [forum_spider.pipelines] WARNING: No post directory found for post_id: 19349
2025-07-24 20:12:56 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'zhouxj',
 'content': '学习了，先收藏了，以后有空了再看',
 'crawl_time': '2025-07-24T20:12:56.423144',
 'floor_num': 7,
 'post_id': ['19349'],
 'reply_id': ['post_507351'],
 'reply_time': '发表于 2023-1-27 23:11:20'}
2025-07-24 20:12:56 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:56 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_9
2025-07-24 20:12:56 [forum_spider.pipelines] WARNING: No post directory found for post_id: 19349
2025-07-24 20:12:56 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'powertnt',
 'content': '学习了，先收藏了',
 'crawl_time': '2025-07-24T20:12:56.423446',
 'floor_num': 9,
 'post_id': ['19349'],
 'reply_id': ['post_507389'],
 'reply_time': '发表于 2023-1-28 11:02:19'}
2025-07-24 20:12:56 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:56 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_11
2025-07-24 20:12:56 [forum_spider.pipelines] WARNING: No post directory found for post_id: 19349
2025-07-24 20:12:56 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'MX10085',
 'content': '学习了，先收藏了',
 'crawl_time': '2025-07-24T20:12:56.423706',
 'floor_num': 11,
 'post_id': ['19349'],
 'reply_id': ['post_507435'],
 'reply_time': '发表于 2023-1-28 14:13:51'}
2025-07-24 20:12:56 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:56 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_13
2025-07-24 20:12:56 [forum_spider.pipelines] WARNING: No post directory found for post_id: 19349
2025-07-24 20:12:56 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'angelyangw',
 'content': 'sorrypqa 发表于 2023-1-27 22:00 我的天呀，天书般的配置，没有注释，完全看不懂。 '
            '看着很复杂，其实所有内容都是图形化的 。。。我是从图形化那里直接copy出来的',
 'crawl_time': '2025-07-24T20:12:56.423959',
 'floor_num': 13,
 'post_id': ['19349'],
 'reply_id': ['post_507493'],
 'reply_time': '发表于 2023-1-28 20:24:10'}
2025-07-24 20:12:56 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:56 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_15
2025-07-24 20:12:56 [forum_spider.pipelines] WARNING: No post directory found for post_id: 19349
2025-07-24 20:12:56 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'angelyangw',
 'content': 'ekingfan 发表于 2023-1-27 21:50 谢谢先。type: custom:digital-clock '
            '但时间日期怎么转成中文？要加代码？删除这个代码就是中文的，locale ... '
            'https://moment.github.io/luxon/# ... -strings-for-humans 按这里介绍的 '
            '如果你想12小时制 可以用hh 比如 timeFormat: hh:m:s',
 'crawl_time': '2025-07-24T20:12:56.424209',
 'floor_num': 15,
 'post_id': ['19349'],
 'reply_id': ['post_507494'],
 'reply_time': '发表于 2023-1-28 20:34:51'}
2025-07-24 20:12:56 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:56 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_17
2025-07-24 20:12:56 [forum_spider.pipelines] WARNING: No post directory found for post_id: 19349
2025-07-24 20:12:56 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'ekingfan',
 'content': 'angelyangw 发表于 2023-1-28 20:34 '
            'https://moment.github.io/luxon/#/formatting?id=tolocalestring-strings-for-humans '
            '按这里介绍的 如果 ... 这个说明我看了， 但不知道怎么改。。。填写在哪里。。。',
 'crawl_time': '2025-07-24T20:12:56.424461',
 'floor_num': 17,
 'post_id': ['19349'],
 'reply_id': ['post_507517'],
 'reply_time': '发表于 2023-1-28 23:30:11'}
2025-07-24 20:12:56 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:56 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_19
2025-07-24 20:12:56 [forum_spider.pipelines] WARNING: No post directory found for post_id: 19349
2025-07-24 20:12:56 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'astang',
 'content': '留言备用',
 'crawl_time': '2025-07-24T20:12:56.424696',
 'floor_num': 19,
 'post_id': ['19349'],
 'reply_id': ['post_507533'],
 'reply_time': '发表于 2023-1-29 08:51:38'}
2025-07-24 20:12:58 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:  259 ms | size: 16989 bytes
2025-07-24 20:12:58 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-29897-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:12:58 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-29897-1-1.html
2025-07-24 20:12:58 [forum_spider.spiders.hassbian_spider] ERROR: Error extracting post info for 29897: 'SelectorList' object has no attribute 'first'
2025-07-24 20:12:58 [forum_spider.spiders.hassbian_spider] INFO: Extracted 2 replies for post 29897
2025-07-24 20:12:58 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:58 [forum_spider.pipelines] DEBUG: New reply accepted: 29897_3
2025-07-24 20:12:58 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29897
2025-07-24 20:12:58 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29897-1-1.html>
{'author': 'to21',
 'content': '你是真玩家',
 'crawl_time': '2025-07-24T20:12:58.587802',
 'floor_num': 3,
 'post_id': ['29897'],
 'reply_id': ['post_687239'],
 'reply_time': '发表于'}
2025-07-24 20:12:58 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:12:58 [forum_spider.pipelines] DEBUG: New reply accepted: 29897_5
2025-07-24 20:12:58 [forum_spider.pipelines] WARNING: No post directory found for post_id: 29897
2025-07-24 20:12:58 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29897-1-1.html>
{'author': '隔壁的王叔叔',
 'content': '无敌了，无敌了。',
 'crawl_time': '2025-07-24T20:12:58.588405',
 'floor_num': 5,
 'post_id': ['29897'],
 'reply_id': ['post_687246'],
 'reply_time': '发表于'}
2025-07-24 20:12:58 [scrapy.core.engine] INFO: Closing spider (finished)
2025-07-24 20:12:58 [forum_spider.pipelines] INFO: Saved 0 posts and 84 replies to JSON files
2025-07-24 20:12:58 [forum_spider.pipelines] INFO: TXT files saved in forum structure under: output/HomeAssistant综合讨论区
2025-07-24 20:12:58 [forum_spider.pipelines] INFO: Total posts processed in this session: 0
2025-07-24 20:12:58 [scrapy.extensions.feedexport] INFO: Stored json feed (0 items) in: output/posts.json
2025-07-24 20:12:58 [scrapy.extensions.feedexport] INFO: Stored json feed (84 items) in: output/replies.json
2025-07-24 20:12:58 [scrapy.extensions.feedexport] INFO: Stored csv feed (84 items) in: output/forum_data.csv
2025-07-24 20:12:58 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 4981,
 'downloader/request_count': 11,
 'downloader/request_method_count/GET': 11,
 'downloader/response_bytes': 234633,
 'downloader/response_count': 11,
 'downloader/response_status_count/200': 11,
 'elapsed_time_seconds': 18.631509,
 'feedexport/success_count/FileFeedStorage': 3,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2025, 7, 24, 12, 12, 58, 590967, tzinfo=datetime.timezone.utc),
 'httpcompression/response_bytes': 1178315,
 'httpcompression/response_count': 11,
 'item_scraped_count': 84,
 'items_per_minute': None,
 'log_count/DEBUG': 182,
 'log_count/ERROR': 10,
 'log_count/INFO': 155,
 'log_count/WARNING': 86,
 'memusage/max': 74629120,
 'memusage/startup': 74629120,
 'request_depth_max': 1,
 'response_received_count': 11,
 'responses_per_minute': None,
 'scheduler/dequeued': 11,
 'scheduler/dequeued/memory': 11,
 'scheduler/enqueued': 11,
 'scheduler/enqueued/memory': 11,
 'start_time': datetime.datetime(2025, 7, 24, 12, 12, 39, 959458, tzinfo=datetime.timezone.utc)}
2025-07-24 20:12:58 [scrapy.core.engine] INFO: Spider closed (finished)
2025-07-24 20:17:17 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: forum_spider)
2025-07-24 20:17:17 [scrapy.utils.log] INFO: Versions:
{'lxml': '5.3.1',
 'libxml2': '2.12.9',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.12.1 (v3.12.1:2305ca5144, Dec  7 2023, 17:23:38) [Clang 13.0.0 '
           '(clang-1300.0.29.30)]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.0 8 Apr 2025)',
 'cryptography': '45.0.4',
 'Platform': 'macOS-15.5-arm64-arm-64bit'}
2025-07-24 20:17:17 [forum_spider.spiders.hassbian_spider] INFO: Spider initialized with single_url: None
2025-07-24 20:17:17 [forum_spider.spiders.hassbian_spider] INFO: Spider configured: max_pages=1, max_posts_per_page=10, max_replies=20
2025-07-24 20:17:17 [scrapy.addons] INFO: Enabled addons:
[]
2025-07-24 20:17:17 [asyncio] DEBUG: Using selector: KqueueSelector
2025-07-24 20:17:17 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.asyncioreactor.AsyncioSelectorReactor
2025-07-24 20:17:17 [scrapy.utils.log] DEBUG: Using asyncio event loop: asyncio.unix_events._UnixSelectorEventLoop
2025-07-24 20:17:17 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.feedexport.FeedExporter',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.throttle.AutoThrottle',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.corestats.CoreStats']
2025-07-24 20:17:17 [scrapy.crawler] INFO: Overridden settings:
{'AUTOTHROTTLE_DEBUG': True,
 'AUTOTHROTTLE_ENABLED': True,
 'AUTOTHROTTLE_MAX_DELAY': 10,
 'AUTOTHROTTLE_START_DELAY': 1,
 'AUTOTHROTTLE_TARGET_CONCURRENCY': 2.0,
 'BOT_NAME': 'forum_spider',
 'CONCURRENT_REQUESTS': 8,
 'CONCURRENT_REQUESTS_PER_DOMAIN': 2,
 'CONCURRENT_REQUESTS_PER_IP': 1,
 'DOWNLOAD_DELAY': 2.0,
 'DOWNLOAD_TIMEOUT': 30,
 'HTTPCACHE_EXPIRATION_SECS': 3600,
 'LOG_FILE': 'scrapy.log',
 'MEMUSAGE_LIMIT_MB': 2048,
 'MEMUSAGE_WARNING_MB': 1024,
 'NEWSPIDER_MODULE': 'forum_spider.spiders',
 'RANDOMIZE_DOWNLOAD_DELAY': 0.5,
 'RETRY_HTTP_CODES': [500, 502, 503, 504, 408, 429],
 'RETRY_TIMES': 3,
 'SPIDER_MODULES': ['forum_spider.spiders'],
 'TELNETCONSOLE_ENABLED': False,
 'USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) '
               'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 '
               'Safari/537.36'}
2025-07-24 20:17:17 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'forum_spider.middlewares.RotateUserAgentMiddleware',
 'forum_spider.middlewares.ProxyMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2025-07-24 20:17:17 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.start.StartSpiderMiddleware',
 'scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'forum_spider.middlewares.ForumSpiderMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2025-07-24 20:17:17 [scrapy.core.spidermw] WARNING: Middleware forum_spider.middlewares.ForumSpiderMiddleware doesn't support asynchronous spider output, this is deprecated and will stop working in a future version of Scrapy. The middleware should be updated to support it. Please see https://docs.scrapy.org/en/latest/topics/coroutines.html#for-middleware-users for more information.
2025-07-24 20:17:17 [scrapy.middleware] INFO: Enabled item pipelines:
['forum_spider.pipelines.ValidationPipeline',
 'forum_spider.pipelines.DuplicatesPipeline',
 'forum_spider.pipelines.TxtWriterPipeline',
 'forum_spider.pipelines.JsonWriterPipeline']
2025-07-24 20:17:17 [scrapy.core.engine] INFO: Spider opened
2025-07-24 20:17:17 [py.warnings] WARNING: /Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/scrapy/core/spidermw.py:433: ScrapyDeprecationWarning: forum_spider.spiders.hassbian_spider.HassbianSpider defines the deprecated start_requests() method. start_requests() has been deprecated in favor of a new method, start(), to support asynchronous code execution. start_requests() will stop being called in a future version of Scrapy. If you use Scrapy 2.13 or higher only, replace start_requests() with start(); note that start() is a coroutine (async def). If you need to maintain compatibility with lower Scrapy versions, when overriding start_requests() in a spider class, override start() as well; you can use super() to reuse the inherited start() implementation without copy-pasting. See the release notes of Scrapy 2.13 for details: https://docs.scrapy.org/en/2.13/news.html
  warn(

2025-07-24 20:17:17 [forum_spider.pipelines] INFO: TXT output directory initialized: output/HomeAssistant综合讨论区
2025-07-24 20:17:17 [forum_spider.pipelines] INFO: Found 0 existing posts to skip
2025-07-24 20:17:17 [forum_spider.pipelines] INFO: JSON files initialized
2025-07-24 20:17:17 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2025-07-24 20:17:17 [hassbian] INFO: Spider opened: hassbian
2025-07-24 20:17:17 [scrapy.extensions.memusage] INFO: Peak memory usage is 70MiB
2025-07-24 20:17:17 [scrapy.extensions.throttle] INFO: slot: bbs.hassbian.com | conc: 1 | delay: 2000 ms (+0) | latency:  233 ms | size:  1813 bytes
2025-07-24 20:17:17 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/forum-38-1.html> (referer: None)
2025-07-24 20:17:17 [forum_spider.spiders.hassbian_spider] INFO: Parsing forum list page 1: https://bbs.hassbian.com/forum-38-1.html
2025-07-24 20:17:17 [forum_spider.spiders.hassbian_spider] INFO: Current found posts: 0, target: 10
2025-07-24 20:17:17 [forum_spider.spiders.hassbian_spider] INFO: Found 0 new posts on page 1 (skipped 0 existing)
2025-07-24 20:17:17 [forum_spider.spiders.hassbian_spider] INFO: Finished collecting posts: 0/10
2025-07-24 20:17:17 [scrapy.core.engine] INFO: Closing spider (finished)
2025-07-24 20:17:17 [forum_spider.pipelines] INFO: Saved 0 posts and 0 replies to JSON files
2025-07-24 20:17:17 [forum_spider.pipelines] INFO: TXT files saved in forum structure under: output/HomeAssistant综合讨论区
2025-07-24 20:17:17 [forum_spider.pipelines] INFO: Total posts processed in this session: 0
2025-07-24 20:17:17 [scrapy.extensions.feedexport] INFO: Stored json feed (0 items) in: output/posts.json
2025-07-24 20:17:17 [scrapy.extensions.feedexport] INFO: Stored json feed (0 items) in: output/replies.json
2025-07-24 20:17:17 [scrapy.extensions.feedexport] INFO: Stored csv feed (0 items) in: output/forum_data.csv
2025-07-24 20:17:17 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 400,
 'downloader/request_count': 1,
 'downloader/request_method_count/GET': 1,
 'downloader/response_bytes': 2098,
 'downloader/response_count': 1,
 'downloader/response_status_count/200': 1,
 'elapsed_time_seconds': 0.345887,
 'feedexport/success_count/FileFeedStorage': 3,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2025, 7, 24, 12, 17, 17, 498405, tzinfo=datetime.timezone.utc),
 'httpcompression/response_bytes': 4283,
 'httpcompression/response_count': 1,
 'items_per_minute': None,
 'log_count/DEBUG': 4,
 'log_count/INFO': 24,
 'log_count/WARNING': 2,
 'memusage/max': 73973760,
 'memusage/startup': 73973760,
 'response_received_count': 1,
 'responses_per_minute': None,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2025, 7, 24, 12, 17, 17, 152518, tzinfo=datetime.timezone.utc)}
2025-07-24 20:17:17 [scrapy.core.engine] INFO: Spider closed (finished)
2025-07-24 20:18:09 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: forum_spider)
2025-07-24 20:18:09 [scrapy.utils.log] INFO: Versions:
{'lxml': '5.3.1',
 'libxml2': '2.12.9',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.12.1 (v3.12.1:2305ca5144, Dec  7 2023, 17:23:38) [Clang 13.0.0 '
           '(clang-1300.0.29.30)]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.0 8 Apr 2025)',
 'cryptography': '45.0.4',
 'Platform': 'macOS-15.5-arm64-arm-64bit'}
2025-07-24 20:18:09 [forum_spider.spiders.hassbian_spider] INFO: Spider initialized with single_url: None
2025-07-24 20:18:09 [forum_spider.spiders.hassbian_spider] INFO: Spider configured: max_pages=1, max_posts_per_page=10, max_replies=20
2025-07-24 20:18:09 [scrapy.addons] INFO: Enabled addons:
[]
2025-07-24 20:18:09 [asyncio] DEBUG: Using selector: KqueueSelector
2025-07-24 20:18:09 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.asyncioreactor.AsyncioSelectorReactor
2025-07-24 20:18:09 [scrapy.utils.log] DEBUG: Using asyncio event loop: asyncio.unix_events._UnixSelectorEventLoop
2025-07-24 20:18:09 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.feedexport.FeedExporter',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.throttle.AutoThrottle',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.corestats.CoreStats']
2025-07-24 20:18:09 [scrapy.crawler] INFO: Overridden settings:
{'AUTOTHROTTLE_DEBUG': True,
 'AUTOTHROTTLE_ENABLED': True,
 'AUTOTHROTTLE_MAX_DELAY': 10,
 'AUTOTHROTTLE_START_DELAY': 1,
 'AUTOTHROTTLE_TARGET_CONCURRENCY': 2.0,
 'BOT_NAME': 'forum_spider',
 'CONCURRENT_REQUESTS': 8,
 'CONCURRENT_REQUESTS_PER_DOMAIN': 2,
 'CONCURRENT_REQUESTS_PER_IP': 1,
 'DOWNLOAD_DELAY': 2.0,
 'DOWNLOAD_TIMEOUT': 30,
 'HTTPCACHE_EXPIRATION_SECS': 3600,
 'LOG_FILE': 'scrapy.log',
 'MEMUSAGE_LIMIT_MB': 2048,
 'MEMUSAGE_WARNING_MB': 1024,
 'NEWSPIDER_MODULE': 'forum_spider.spiders',
 'RANDOMIZE_DOWNLOAD_DELAY': 0.5,
 'RETRY_HTTP_CODES': [500, 502, 503, 504, 408, 429],
 'RETRY_TIMES': 3,
 'SPIDER_MODULES': ['forum_spider.spiders'],
 'TELNETCONSOLE_ENABLED': False,
 'USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) '
               'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 '
               'Safari/537.36'}
2025-07-24 20:18:10 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'forum_spider.middlewares.RotateUserAgentMiddleware',
 'forum_spider.middlewares.ProxyMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2025-07-24 20:18:10 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.start.StartSpiderMiddleware',
 'scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'forum_spider.middlewares.ForumSpiderMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2025-07-24 20:18:10 [scrapy.core.spidermw] WARNING: Middleware forum_spider.middlewares.ForumSpiderMiddleware doesn't support asynchronous spider output, this is deprecated and will stop working in a future version of Scrapy. The middleware should be updated to support it. Please see https://docs.scrapy.org/en/latest/topics/coroutines.html#for-middleware-users for more information.
2025-07-24 20:18:10 [scrapy.middleware] INFO: Enabled item pipelines:
['forum_spider.pipelines.ValidationPipeline',
 'forum_spider.pipelines.DuplicatesPipeline',
 'forum_spider.pipelines.TxtWriterPipeline',
 'forum_spider.pipelines.JsonWriterPipeline']
2025-07-24 20:18:10 [scrapy.core.engine] INFO: Spider opened
2025-07-24 20:18:10 [py.warnings] WARNING: /Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/scrapy/core/spidermw.py:433: ScrapyDeprecationWarning: forum_spider.spiders.hassbian_spider.HassbianSpider defines the deprecated start_requests() method. start_requests() has been deprecated in favor of a new method, start(), to support asynchronous code execution. start_requests() will stop being called in a future version of Scrapy. If you use Scrapy 2.13 or higher only, replace start_requests() with start(); note that start() is a coroutine (async def). If you need to maintain compatibility with lower Scrapy versions, when overriding start_requests() in a spider class, override start() as well; you can use super() to reuse the inherited start() implementation without copy-pasting. See the release notes of Scrapy 2.13 for details: https://docs.scrapy.org/en/2.13/news.html
  warn(

2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Found existing post directory: 25894_消逝-手机端（更新2025-07-05） (ID: 25894)
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Found existing post directory: 29901_设定晚上自动调空调但有时触发有时又不触发 (ID: 29901)
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Found existing post directory: 29624_求好用的zigbee平价设备接入Z2M (ID: 29624)
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: TXT output directory initialized: output/HomeAssistant综合讨论区
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Found 3 existing posts to skip
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: JSON files initialized
2025-07-24 20:18:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2025-07-24 20:18:10 [hassbian] INFO: Spider opened: hassbian
2025-07-24 20:18:10 [scrapy.extensions.memusage] INFO: Peak memory usage is 70MiB
2025-07-24 20:18:10 [scrapy.extensions.throttle] INFO: slot: bbs.hassbian.com | conc: 1 | delay: 2000 ms (+0) | latency:  104 ms | size: 18401 bytes
2025-07-24 20:18:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/forum-38-1.html> (referer: None)
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Parsing forum list page 1: https://bbs.hassbian.com/forum-38-1.html
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Current found posts: 0, target: 10
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Using selector: tbody[id^="normalthread_"] th.new a[href*="thread-"]::attr(href)
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Skipping existing post: 29901
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Skipping existing post: 25894
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Skipping existing post: 25894
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Skipping existing post: 25894
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Skipping existing post: 25894
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Skipping existing post: 25894
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Skipping existing post: 25894
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Skipping existing post: 25894
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Skipping existing post: 29624
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Skipping existing post: 29624
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Skipping existing post: 29624
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Skipping existing post: 29624
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Found 10 new posts on page 1 (skipped 3 existing)
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 1/10: 19349 - https://bbs.hassbian.com/thread-19349-1-1.html
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 2/10: 22924 - https://bbs.hassbian.com/thread-22924-1-1.html
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 3/10: 24610 - https://bbs.hassbian.com/thread-24610-1-1.html
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 4/10: 26299 - https://bbs.hassbian.com/thread-26299-1-1.html
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 5/10: 26328 - https://bbs.hassbian.com/thread-26328-1-1.html
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 6/10: 26386 - https://bbs.hassbian.com/thread-26386-1-1.html
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 7/10: 29346 - https://bbs.hassbian.com/thread-29346-1-1.html
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 8/10: 29853 - https://bbs.hassbian.com/thread-29853-1-1.html
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 9/10: 29877 - https://bbs.hassbian.com/thread-29877-1-1.html
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Processing new post 10/10: 29897 - https://bbs.hassbian.com/thread-29897-1-1.html
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Finished collecting posts: 10/10
2025-07-24 20:18:10 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:   81 ms | size: 19750 bytes
2025-07-24 20:18:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-29853-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-29853-1-1.html
2025-07-24 20:18:10 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 29853
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: New post accepted: 29853
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Post initialized: output/HomeAssistant综合讨论区/29853_HA专属装备 - - - - WS2812可寻址多彩LED灯控制器/完整内容.txt
2025-07-24 20:18:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'sorrypqa',
 'content': "replyreload += ',' + 686252; 本帖最后由 sorrypqa 于 2025-7-22 12:58 编辑 "
            '无意中看到一款大名鼎鼎的WLED固件，所以画了这个WS2812可寻址多彩LED灯控制器玩一玩！ 相关资料： '
            'https://kno.wled.ge/ 控制器功能： 1、内置100 多种灯光特效 2、内置数字麦克风，支持音效同步和 50 '
            '种调色板 3、具有颜色、效果和分段控制的现代用户界面 4、为 LED 的各个部分设置不同的效果和颜色 '
            '5、内置WEB控制台设置页面，可通过网络配置控制器的各种参数 6、接入点和站点模式 - 自动故障安全 AP 7、支持5组LED '
            '输出，支持串联 8、支持 RGBW 灯带 9、最多 250 个用户预设，可轻松保存和加载颜色/效果，支持循环使用。 '
            '10、预设可用于自动执行 API 调用 11、夜灯功能（逐渐变暗） 12、支持无线OTA（HTTP + '
            'ArduinoOTA），可密码保护 13、可配置模拟时钟 + 支持 Diamex 的 Cronixie 套件 '
            '14、可配置自动亮度限制，确保操作更安全 15、基于文件系统的配置，可以更轻松地备份预设和设置 '
            '16、支持多个控制器的灯效与颜色实时同步 17、红外遥控器（24 键 RGB） 18、原生HA集成 19、支持MQTT通讯 '
            '20、内置20W的同步整流电源模块，可以直接为控制器和LED灯供电。 .guestviewthumb {margin:10px '
            'auto; text-align:center;}.guestviewthumb a '
            '{font-size:12px;}.guestviewthumb_cur '
            '{cursor:url("https://www.hasstatic.com/image/common/scf.gif"), '
            'default; max-width:100px;}.ie6 .guestviewthumb_cur { width:100px '
            '!important;} 登录/注册后可看大图 ezgif-713bd380d5641e.gif (4.7 MB, 下载次数: '
            '0) 下载附件 3 天前 上传 控制器PCB布局： 登录/注册后可看大图 SNAG-2025-7-22_0001.png '
            '(121.24 KB, 下载次数: 0) 下载附件 前天 12:57 上传 由于暂时用不上红外遥控和数字麦克风，所有没有焊上： '
            '登录/注册后可看大图 20250721_154716.jpg (318.98 KB, 下载次数: 0) 下载附件 3 天前 上传 '
            '焊好元件，连接TTL刷机线，就可以直接打开这个地址在线刷写固件： https://install.wled.me/ '
            '登录/注册后可看大图 SNAG-2025-7-21_00001.jpg (115.31 KB, 下载次数: 0) 下载附件 3 '
            '天前 上传 '
            '刷好固件通电，控制器会发射一个名为“WLED-AP”的配网AP，密码为：wled1234，手机连接此AP进行wifi设置 '
            '连接网络后，HA会自动发现设备： 登录/注册后可看大图 SNAG-2025-7-6_00000.jpg (10.2 KB, '
            '下载次数: 0) 下载附件 3 天前 上传 登录/注册后可看大图 SNAG-2025-7-6_00001.jpg (22.28 '
            'KB, 下载次数: 0) 下载附件 3 天前 上传 登录/注册后可看大图 SNAG-2025-7-6_00002.jpg '
            '(22.08 KB, 下载次数: 0) 下载附件 3 天前 上传 HA里的实体： 登录/注册后可看大图 '
            '20250721162558.png (146.33 KB, 下载次数: 0) 下载附件 3 天前 上传 WEB控制台： '
            '登录/注册后可看大图 SNAG-2025-7-21_0001.png (140.66 KB, 下载次数: 0) 下载附件 3 天前 '
            '上传 设置菜单： 登录/注册后可看大图 SNAG-2025-7-21_0002.png (86.79 KB, 下载次数: 0) '
            '下载附件 3 天前 上传 WiFi设置界面，可以按+键添加多个WiFi： 登录/注册后可看大图 '
            '20250721160937.png (183.52 KB, 下载次数: 0) 下载附件 3 天前 上传 '
            'LED和硬件设置界面，可以按+键添加多组LED输出： 登录/注册后可看大图 20250721161021.png (292.54 '
            'KB, 下载次数: 0) 下载附件 3 天前 上传 WEB界面设置： 登录/注册后可看大图 20250721161130.png '
            '(150.65 KB, 下载次数: 0) 下载附件 3 天前 上传 同步设置界面： 登录/注册后可看大图 '
            '20250721161152.png (294.24 KB, 下载次数: 0) 下载附件 3 天前 上传 时间设置界面： '
            '登录/注册后可看大图 20250721161216.png (177.36 KB, 下载次数: 0) 下载附件 3 天前 上传 '
            '其它设置界面： 登录/注册后可看大图 20250721161245.png (132.35 KB, 下载次数: 0) 下载附件 3 '
            '天前 上传 安全和更新设置界面： 登录/注册后可看大图 20250721161301.png (173.32 KB, 下载次数: '
            '0) 下载附件 3 天前 上传 WS2812控制器的PCB文件和物料清单： 游客，如果您要查看本帖隐藏内容请 回复',
 'crawl_time': '2025-07-24T20:18:10.528270',
 'page_num': 1,
 'post_id': ['29853'],
 'post_time': '发表于',
 'post_url': 'https://bbs.hassbian.com/thread-29853-1-1.html',
 'title': 'HA专属装备 - - - - WS2812可寻址多彩LED灯控制器'}
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:10 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_3
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29853_HA专属装备 - - - - WS2812可寻址多彩LED灯控制器/完整内容.txt (Floor: 3)
2025-07-24 20:18:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'wubit',
 'content': 'HA专属装备 - - - - WS2812可寻址多彩LED灯控制器 [修改]',
 'crawl_time': '2025-07-24T20:18:10.531053',
 'floor_num': 3,
 'post_id': ['29853'],
 'reply_id': ['post_686617'],
 'reply_time': '发表于'}
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:10 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_5
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29853_HA专属装备 - - - - WS2812可寻址多彩LED灯控制器/完整内容.txt (Floor: 5)
2025-07-24 20:18:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'wubit',
 'content': '怎么才能让ws2812灯带显示时钟呢',
 'crawl_time': '2025-07-24T20:18:10.532183',
 'floor_num': 5,
 'post_id': ['29853'],
 'reply_id': ['post_686618'],
 'reply_time': '发表于'}
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:10 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_7
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29853_HA专属装备 - - - - WS2812可寻址多彩LED灯控制器/完整内容.txt (Floor: 7)
2025-07-24 20:18:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'sorrypqa',
 'content': '本帖最后由 sorrypqa 于 2025-7-21 18:08 编辑 wubit 发表于 2025-7-21 18:02 '
            '怎么才能让ws2812灯带显示时钟呢 LED要按数字笔段排列才行！',
 'crawl_time': '2025-07-24T20:18:10.532592',
 'floor_num': 7,
 'post_id': ['29853'],
 'reply_id': ['post_686621'],
 'reply_time': '发表于'}
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:10 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_9
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29853_HA专属装备 - - - - WS2812可寻址多彩LED灯控制器/完整内容.txt (Floor: 9)
2025-07-24 20:18:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'a_dongde',
 'content': '这么强悍？',
 'crawl_time': '2025-07-24T20:18:10.532905',
 'floor_num': 9,
 'post_id': ['29853'],
 'reply_id': ['post_686623'],
 'reply_time': '发表于'}
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:10 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_11
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29853_HA专属装备 - - - - WS2812可寻址多彩LED灯控制器/完整内容.txt (Floor: 11)
2025-07-24 20:18:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'sorrypqa',
 'content': 'a_dongde 发表于 2025-7-21 18:23 这么强悍？ 是的，这固件的功能非常强大！',
 'crawl_time': '2025-07-24T20:18:10.533178',
 'floor_num': 11,
 'post_id': ['29853'],
 'reply_id': ['post_686625'],
 'reply_time': '发表于'}
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:10 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_13
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29853_HA专属装备 - - - - WS2812可寻址多彩LED灯控制器/完整内容.txt (Floor: 13)
2025-07-24 20:18:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'daifhfh',
 'content': 'LED要按数字笔段排列才行！',
 'crawl_time': '2025-07-24T20:18:10.533545',
 'floor_num': 13,
 'post_id': ['29853'],
 'reply_id': ['post_686639'],
 'reply_time': '发表于'}
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:10 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_15
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29853_HA专属装备 - - - - WS2812可寻址多彩LED灯控制器/完整内容.txt (Floor: 15)
2025-07-24 20:18:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'qiyong0401',
 'content': '谢楼主分享',
 'crawl_time': '2025-07-24T20:18:10.533852',
 'floor_num': 15,
 'post_id': ['29853'],
 'reply_id': ['post_686643'],
 'reply_time': '发表于'}
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:10 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_17
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29853_HA专属装备 - - - - WS2812可寻址多彩LED灯控制器/完整内容.txt (Floor: 17)
2025-07-24 20:18:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'guxiaoqi2007',
 'content': 'WS2812可寻址多彩LED灯控制器 [',
 'crawl_time': '2025-07-24T20:18:10.534471',
 'floor_num': 17,
 'post_id': ['29853'],
 'reply_id': ['post_686667'],
 'reply_time': '发表于'}
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:10 [forum_spider.pipelines] DEBUG: New reply accepted: 29853_19
2025-07-24 20:18:10 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29853_HA专属装备 - - - - WS2812可寻址多彩LED灯控制器/完整内容.txt (Floor: 19)
2025-07-24 20:18:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29853-1-1.html>
{'author': 'TianYa',
 'content': '谢楼主分享',
 'crawl_time': '2025-07-24T20:18:10.534775',
 'floor_num': 19,
 'post_id': ['29853'],
 'reply_id': ['post_686712'],
 'reply_time': '发表于'}
2025-07-24 20:18:12 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:   31 ms | size: 18864 bytes
2025-07-24 20:18:12 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-29346-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:18:12 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-29346-1-1.html
2025-07-24 20:18:12 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 29346
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: New post accepted: 29346
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Post initialized: output/HomeAssistant综合讨论区/29346_HomeAssistant内置mcp直连小智AI 【终态】/完整内容.txt
2025-07-24 20:18:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'c1pher_小愚',
 'content': "replyreload += ',' + 676263; 本帖最后由 c1pher_小愚 于 2025-7-21 19:33 编辑 "
            'ha-mcp-for-xiaozhi homeassistant '
            '内置mcpserver通过websocket直连小智AI官方服务器， 配置最简单的方案 插件能力介绍 '
            '1.HomeAssistant自身作为mcp server 以websocket协议直接对接虾哥服务器，无需中转 '
            '2.在一个实体里同时选择多个API组（HomeAssistant自带控制API、用户自己配置的MCPServer）并将它们一起代理给小智 '
            '3.支持同时配置多个实体 注意： v0.0.9 版本需要使用2025.7.0及以后版的HomeAssistant， '
            '2025.3-2025.6版本的homeassistant 请使用 v0.0.7 谢谢配合！！！ 操作演示： 控制电视操作： Ha '
            'LLM/MCP进阶教程： 文字版 配置演示： 安装方法： 方法 1： HACS安装 游客，如果您要查看本帖隐藏内容请 回复 方法 '
            '2：手动安装 游客，如果您要查看本帖隐藏内容请 回复 配置方法 [设置 > 设备与服务 > 添加集成] > 搜索“Mcp” >找到 '
            'MCP Server for Xiaozhi 登录/注册后可看大图 '
            '8ca5334a2d15f59325f3d5acb12083c8.png (248.99 KB, 下载次数: 0) 下载附件 '
            '2025-5-23 01:42 上传 下一步 > 请填写 小智MCP接入点地址 > 提交。 登录/注册后可看大图 '
            '6f4b22e8bd8190d4f0faeaba731481f9.png (112.2 KB, 下载次数: 0) 下载附件 '
            '2025-5-23 01:42 上传 登录/注册后可看大图 '
            '7688349f41b6c0552a47f872507d3447.png (35.45 KB, 下载次数: 0) 下载附件 '
            '2025-5-23 01:42 上传 配置完成！！！稍等一分钟后到小智的接入点页面点击刷新，检查状态。 登录/注册后可看大图 '
            'bd06b555b9e5c24fbf819c43397c97ee.png (86.4 KB, 下载次数: 0) 下载附件 '
            '2025-5-23 01:43 上传 调试说明 1.暴露的工具取决于你公开给Homeassistant语音助手的实体的种类 设置 '
            '-> 语音助手 -> 公开 2.尽量使用最新版本的homeassistant，单单看5月版本跟3月版本提供的工具就有明显差异 '
            '3.调试时未达到预期，优先看小智的聊天记录，看看小智对这句指令如何处理的，是否有调用homeassistant的工具。 '
            '目前已知比较大的问题是灯光控制和音乐控制会和内置的屏幕控制、音乐控制逻辑冲突，需要等下个月虾哥服务器支持内置工具选择后可解。 '
            '4.如果流程正确的调用了ha内置的function，可以打开本插件的调试日志再去观测实际的执行情况。',
 'crawl_time': '2025-07-24T20:18:12.438849',
 'page_num': 1,
 'post_id': ['29346'],
 'post_time': '发表于 2025-5-23 10:04:27',
 'post_url': 'https://bbs.hassbian.com/thread-29346-1-1.html',
 'title': 'HomeAssistant内置mcp直连小智AI 【终态】'}
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:12 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_3
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29346_HomeAssistant内置mcp直连小智AI 【终态】/完整内容.txt (Floor: 3)
2025-07-24 20:18:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'tianzhuang55',
 'content': '厉害厉害，马上试试',
 'crawl_time': '2025-07-24T20:18:12.440321',
 'floor_num': 3,
 'post_id': ['29346'],
 'reply_id': ['post_676299'],
 'reply_time': '发表于 2025-5-23 10:09:47'}
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:12 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_5
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29346_HomeAssistant内置mcp直连小智AI 【终态】/完整内容.txt (Floor: 5)
2025-07-24 20:18:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'taida',
 'content': '谢谢，我看看呢',
 'crawl_time': '2025-07-24T20:18:12.440932',
 'floor_num': 5,
 'post_id': ['29346'],
 'reply_id': ['post_676302'],
 'reply_time': '发表于 2025-5-23 10:14:15'}
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:12 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_7
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29346_HomeAssistant内置mcp直连小智AI 【终态】/完整内容.txt (Floor: 7)
2025-07-24 20:18:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'miniknife',
 'content': '感谢楼主提供',
 'crawl_time': '2025-07-24T20:18:12.441316',
 'floor_num': 7,
 'post_id': ['29346'],
 'reply_id': ['post_676308'],
 'reply_time': '发表于 2025-5-23 10:38:57'}
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:12 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_9
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29346_HomeAssistant内置mcp直连小智AI 【终态】/完整内容.txt (Floor: 9)
2025-07-24 20:18:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'nichen24',
 'content': '厉害厉害，马上试试',
 'crawl_time': '2025-07-24T20:18:12.441614',
 'floor_num': 9,
 'post_id': ['29346'],
 'reply_id': ['post_676314'],
 'reply_time': '发表于 2025-5-23 10:47:12'}
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:12 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_11
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29346_HomeAssistant内置mcp直连小智AI 【终态】/完整内容.txt (Floor: 11)
2025-07-24 20:18:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'silas3082',
 'content': '厉害了大佬',
 'crawl_time': '2025-07-24T20:18:12.441881',
 'floor_num': 11,
 'post_id': ['29346'],
 'reply_id': ['post_676316'],
 'reply_time': '发表于 2025-5-23 10:52:37'}
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:12 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_13
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29346_HomeAssistant内置mcp直连小智AI 【终态】/完整内容.txt (Floor: 13)
2025-07-24 20:18:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': '2511418386',
 'content': '13213213123213123213',
 'crawl_time': '2025-07-24T20:18:12.442132',
 'floor_num': 13,
 'post_id': ['29346'],
 'reply_id': ['post_676318'],
 'reply_time': '发表于 2025-5-23 10:55:47'}
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:12 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_15
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29346_HomeAssistant内置mcp直连小智AI 【终态】/完整内容.txt (Floor: 15)
2025-07-24 20:18:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'LJCAD',
 'content': '厉害了大佬',
 'crawl_time': '2025-07-24T20:18:12.442389',
 'floor_num': 15,
 'post_id': ['29346'],
 'reply_id': ['post_676322'],
 'reply_time': '发表于 2025-5-23 11:15:38'}
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:12 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_17
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29346_HomeAssistant内置mcp直连小智AI 【终态】/完整内容.txt (Floor: 17)
2025-07-24 20:18:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'coolguy',
 'content': '厉害厉害，马上试试',
 'crawl_time': '2025-07-24T20:18:12.442714',
 'floor_num': 17,
 'post_id': ['29346'],
 'reply_id': ['post_676329'],
 'reply_time': '发表于 2025-5-23 11:41:55'}
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:12 [forum_spider.pipelines] DEBUG: New reply accepted: 29346_19
2025-07-24 20:18:12 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29346_HomeAssistant内置mcp直连小智AI 【终态】/完整内容.txt (Floor: 19)
2025-07-24 20:18:12 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29346-1-1.html>
{'author': 'shay',
 'content': '这应该是终极形态了，我那帖子得改改标题了',
 'crawl_time': '2025-07-24T20:18:12.442968',
 'floor_num': 19,
 'post_id': ['29346'],
 'reply_id': ['post_676337'],
 'reply_time': '发表于 2025-5-23 12:35:58'}
2025-07-24 20:18:14 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:   43 ms | size: 18059 bytes
2025-07-24 20:18:14 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-26386-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:18:14 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-26386-1-1.html
2025-07-24 20:18:14 [forum_spider.spiders.hassbian_spider] INFO: Extracted 10 replies for post 26386
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: New post accepted: 26386
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Post initialized: output/HomeAssistant综合讨论区/26386_小米摄像头开启rtsp（需要拆机修改，spiflash编程器）/完整内容.txt
2025-07-24 20:18:14 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'yxl150985',
 'content': "replyreload += ',' + 621006; 本帖最后由 yxl150985 于 2024-8-21 08:48 编辑 "
            '本人在mjsxj06cm下测试成功，理论创米通用 注意： 1.rtsp '
            '声音模糊，上来的音频数据是640字节，应该是两路mic，需要进行降噪 2.拆机有风险，谨慎操作 1.按照教程添加开启telnet '
            '2.编译程丢到flash或者sd卡中运行。 云台控制教程： '
            'https://github.com/thewh1teagle/xiaomi-1080-360-motor-control.git '
            '教程： 游客，如果您要查看本帖隐藏内容请 回复 github上网友补充的串口位置 登录/注册后可看大图 '
            '1722934810485.jpg (167.27 KB, 下载次数: 1) 下载附件 2024-8-6 17:04 上传 '
            '没有编程器的可以参考27楼的方法刷入',
 'crawl_time': '2025-07-24T20:18:14.469228',
 'page_num': 1,
 'post_id': ['26386'],
 'post_time': '发表于 2024-8-3 14:19:26',
 'post_url': 'https://bbs.hassbian.com/thread-26386-1-1.html',
 'title': '小米摄像头开启rtsp（需要拆机修改，spiflash编程器）'}
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:14 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_3
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26386_小米摄像头开启rtsp（需要拆机修改，spiflash编程器）/完整内容.txt (Floor: 3)
2025-07-24 20:18:14 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'zonglong',
 'content': '本帖最后由 zonglong 于 2024-9-11 13:30 编辑 不需要编程器固件去烧写到 flash, 在 uboot '
            '烧回写 rootfs 就可, 不用全烧写 fatload mmc 0:1 0x21000000 rootfs_new.bin sf '
            'probe sf erase 0x250000 0x69E000 sf write 0x21000000 0x250000 '
            '0x69E000 复制代码',
 'crawl_time': '2025-07-24T20:18:14.470805',
 'floor_num': 3,
 'post_id': ['26386'],
 'reply_id': ['post_621564'],
 'reply_time': '发表于 2024-8-6 10:31:11'}
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:14 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_5
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26386_小米摄像头开启rtsp（需要拆机修改，spiflash编程器）/完整内容.txt (Floor: 5)
2025-07-24 20:18:14 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'tianzhuang55',
 'content': '这个高端啊',
 'crawl_time': '2025-07-24T20:18:14.471299',
 'floor_num': 5,
 'post_id': ['26386'],
 'reply_id': ['post_621035'],
 'reply_time': '发表于 2024-8-3 16:42:07'}
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:14 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_7
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26386_小米摄像头开启rtsp（需要拆机修改，spiflash编程器）/完整内容.txt (Floor: 7)
2025-07-24 20:18:14 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'Dyop',
 'content': '1561561561456dfvs s',
 'crawl_time': '2025-07-24T20:18:14.471584',
 'floor_num': 7,
 'post_id': ['26386'],
 'reply_id': ['post_621051'],
 'reply_time': '发表于 2024-8-3 17:58:50'}
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:14 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_9
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26386_小米摄像头开启rtsp（需要拆机修改，spiflash编程器）/完整内容.txt (Floor: 9)
2025-07-24 20:18:14 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'yly',
 'content': '感谢分享，，，，',
 'crawl_time': '2025-07-24T20:18:14.471848',
 'floor_num': 9,
 'post_id': ['26386'],
 'reply_id': ['post_621079'],
 'reply_time': '发表于 2024-8-3 22:14:21'}
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:14 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_11
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26386_小米摄像头开启rtsp（需要拆机修改，spiflash编程器）/完整内容.txt (Floor: 11)
2025-07-24 20:18:14 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'mengwenqiang520',
 'content': '围观一下',
 'crawl_time': '2025-07-24T20:18:14.472097',
 'floor_num': 11,
 'post_id': ['26386'],
 'reply_id': ['post_621094'],
 'reply_time': '发表于 2024-8-4 00:20:37'}
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:14 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_13
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26386_小米摄像头开启rtsp（需要拆机修改，spiflash编程器）/完整内容.txt (Floor: 13)
2025-07-24 20:18:14 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'xiaomi2024',
 'content': '感谢分享',
 'crawl_time': '2025-07-24T20:18:14.472343',
 'floor_num': 13,
 'post_id': ['26386'],
 'reply_id': ['post_621100'],
 'reply_time': '发表于 2024-8-4 01:01:16'}
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:14 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_15
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26386_小米摄像头开启rtsp（需要拆机修改，spiflash编程器）/完整内容.txt (Floor: 15)
2025-07-24 20:18:14 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'silas3082',
 'content': 'up能否来个更具体一点的教程，没看明白具体怎么操作',
 'crawl_time': '2025-07-24T20:18:14.472590',
 'floor_num': 15,
 'post_id': ['26386'],
 'reply_id': ['post_621102'],
 'reply_time': '发表于 2024-8-4 01:03:05'}
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:14 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_17
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26386_小米摄像头开启rtsp（需要拆机修改，spiflash编程器）/完整内容.txt (Floor: 17)
2025-07-24 20:18:14 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'yxl150985',
 'content': 'silas3082 发表于 2024-8-4 01:03 up能否来个更具体一点的教程，没看明白具体怎么操作 稍微写了一下',
 'crawl_time': '2025-07-24T20:18:14.472834',
 'floor_num': 17,
 'post_id': ['26386'],
 'reply_id': ['post_621129'],
 'reply_time': '发表于 2024-8-4 08:41:04'}
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:14 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_19
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26386_小米摄像头开启rtsp（需要拆机修改，spiflash编程器）/完整内容.txt (Floor: 19)
2025-07-24 20:18:14 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'suixin45',
 'content': '感谢分享',
 'crawl_time': '2025-07-24T20:18:14.473078',
 'floor_num': 19,
 'post_id': ['26386'],
 'reply_id': ['post_621130'],
 'reply_time': '发表于 2024-8-4 09:01:00'}
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:14 [forum_spider.pipelines] DEBUG: New reply accepted: 26386_21
2025-07-24 20:18:14 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26386_小米摄像头开启rtsp（需要拆机修改，spiflash编程器）/完整内容.txt (Floor: 21)
2025-07-24 20:18:14 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26386-1-1.html>
{'author': 'silas3082',
 'content': 'yxl150985 发表于 2024-8-4 08:41 稍微写了一下 感谢大佬',
 'crawl_time': '2025-07-24T20:18:14.473479',
 'floor_num': 21,
 'post_id': ['26386'],
 'reply_id': ['post_621146'],
 'reply_time': '发表于 2024-8-4 10:38:19'}
2025-07-24 20:18:16 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:   29 ms | size: 17839 bytes
2025-07-24 20:18:16 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-26328-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:18:16 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-26328-1-1.html
2025-07-24 20:18:16 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 26328
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: New post accepted: 26328
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Post initialized: output/HomeAssistant综合讨论区/26328_【自制分享】[8.4更新]清爽简洁+自适应主题的空调卡片/完整内容.txt
2025-07-24 20:18:16 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'wfy459924951',
 'content': "replyreload += ',' + 619934; 本帖最后由 wfy459924951 于 2024-8-4 17:51 "
            '编辑 利用button-card手搓的空调卡片，字体颜色随主题设置自动变化 【2024.8.4更新】 '
            '修复了部分主题下空调模式无法正常显示的BUG； 效果展示： .guestviewthumb {margin:10px auto; '
            'text-align:center;}.guestviewthumb a '
            '{font-size:12px;}.guestviewthumb_cur '
            '{cursor:url("https://www.hasstatic.com/image/common/scf.gif"), '
            'default; max-width:100px;}.ie6 .guestviewthumb_cur { width:100px '
            '!important;} 登录/注册后可看大图 卡片效果.jpg (330.52 KB, 下载次数: 11) 下载附件 '
            '2024-7-30 13:33 上传 使用教程： 用 Decluttering '
            'Card将卡片封装了起来便于大家使用，以下是详细步骤： 1、下载所需卡片： 1）Decluttering Card '
            '2）Mushroom Card 3）Button Card 4）Mini-graph-card 5）Card-mod '
            "2、代码导入： 1）打开仪表盘的原始配置编辑器，进入编辑页面 2）光标放到'views:’的上一行，顶格 3）打开 代码 1 "
            '，复制所有代码，粘贴到上一步骤的光标处 3、代码使用： 打开 代码 2 ，复制即可使用，参照下图填入自己的实体 '
            '登录/注册后可看大图 使用教程.png (68.2 KB, 下载次数: 13) 下载附件 2024-7-30 13:33 上传 '
            '游客，如果您要查看本帖隐藏内容请 回复',
 'crawl_time': '2025-07-24T20:18:16.445721',
 'page_num': 1,
 'post_id': ['26328'],
 'post_time': '发表于 2024-7-30 13:34:48',
 'post_url': 'https://bbs.hassbian.com/thread-26328-1-1.html',
 'title': '【自制分享】[8.4更新]清爽简洁+自适应主题的空调卡片'}
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:16 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_3
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26328_【自制分享】[8.4更新]清爽简洁+自适应主题的空调卡片/完整内容.txt (Floor: 3)
2025-07-24 20:18:16 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'Ari',
 'content': '本帖最后由 Ari 于 2024-7-30 13:44 编辑 '
            '好看，正在抄作业，ButtonCardJSTemplateError: TypeError: Cannot read '
            "properties of undefined (reading 'state') in 'var state = "
            'entity.state; var temp = entity.attributes.current_temperature; '
            'if(state == "heat"...\' 啥意思啊。复制到原始配置编辑器最上面了',
 'crawl_time': '2025-07-24T20:18:16.447454',
 'floor_num': 3,
 'post_id': ['26328'],
 'reply_id': ['post_619937'],
 'reply_time': '发表于 2024-7-30 13:39:15'}
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:16 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_5
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26328_【自制分享】[8.4更新]清爽简洁+自适应主题的空调卡片/完整内容.txt (Floor: 5)
2025-07-24 20:18:16 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'suixin45',
 'content': '感谢分享',
 'crawl_time': '2025-07-24T20:18:16.448048',
 'floor_num': 5,
 'post_id': ['26328'],
 'reply_id': ['post_619938'],
 'reply_time': '发表于 2024-7-30 13:43:08'}
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:16 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_7
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26328_【自制分享】[8.4更新]清爽简洁+自适应主题的空调卡片/完整内容.txt (Floor: 7)
2025-07-24 20:18:16 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'yclin20',
 'content': '感谢分享，抄作业抄作业',
 'crawl_time': '2025-07-24T20:18:16.448345',
 'floor_num': 7,
 'post_id': ['26328'],
 'reply_id': ['post_619940'],
 'reply_time': '发表于 2024-7-30 13:45:02'}
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:16 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_9
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26328_【自制分享】[8.4更新]清爽简洁+自适应主题的空调卡片/完整内容.txt (Floor: 9)
2025-07-24 20:18:16 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'xuyunjun',
 'content': '666很不错',
 'crawl_time': '2025-07-24T20:18:16.448600',
 'floor_num': 9,
 'post_id': ['26328'],
 'reply_id': ['post_619941'],
 'reply_time': '发表于 2024-7-30 13:47:03'}
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:16 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_11
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26328_【自制分享】[8.4更新]清爽简洁+自适应主题的空调卡片/完整内容.txt (Floor: 11)
2025-07-24 20:18:16 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': '落楓',
 'content': '感谢大佬分享~我来看看帖子里有什么 0.0',
 'crawl_time': '2025-07-24T20:18:16.448897',
 'floor_num': 11,
 'post_id': ['26328'],
 'reply_id': ['post_619942'],
 'reply_time': '发表于 2024-7-30 13:49:01'}
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:16 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_13
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26328_【自制分享】[8.4更新]清爽简洁+自适应主题的空调卡片/完整内容.txt (Floor: 13)
2025-07-24 20:18:16 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'wfy459924951',
 'content': 'Ari 发表于 2024-7-30 13:39 好看，正在抄作业，ButtonCardJSTemplateError: '
            'TypeError: Cannot read properties of undefined (reading ... '
            '所需卡片都下载了吗？ 下载后刷新下浏览器',
 'crawl_time': '2025-07-24T20:18:16.449285',
 'floor_num': 13,
 'post_id': ['26328'],
 'reply_id': ['post_619943'],
 'reply_time': '发表于 2024-7-30 13:49:27'}
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:16 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_15
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26328_【自制分享】[8.4更新]清爽简洁+自适应主题的空调卡片/完整内容.txt (Floor: 15)
2025-07-24 20:18:16 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'Mqiang115',
 'content': '感谢分享，抄作业抄作业',
 'crawl_time': '2025-07-24T20:18:16.449583',
 'floor_num': 15,
 'post_id': ['26328'],
 'reply_id': ['post_619945'],
 'reply_time': '发表于 2024-7-30 13:50:49'}
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:16 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_17
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26328_【自制分享】[8.4更新]清爽简洁+自适应主题的空调卡片/完整内容.txt (Floor: 17)
2025-07-24 20:18:16 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'Ari',
 'content': '本帖最后由 Ari 于 2024-7-30 13:57 编辑 wfy459924951 发表于 2024-7-30 13:49 '
            '所需卡片都下载了吗？ 下载后刷新下浏览器 '
            '都下载了，代码1也放在这上面了，可能缓存没缓过来，现在可以用了，能增加调节风速还有什么防直吹的按钮吗',
 'crawl_time': '2025-07-24T20:18:16.449852',
 'floor_num': 17,
 'post_id': ['26328'],
 'reply_id': ['post_619947'],
 'reply_time': '发表于 2024-7-30 13:52:40'}
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:16 [forum_spider.pipelines] DEBUG: New reply accepted: 26328_19
2025-07-24 20:18:16 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26328_【自制分享】[8.4更新]清爽简洁+自适应主题的空调卡片/完整内容.txt (Floor: 19)
2025-07-24 20:18:16 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26328-1-1.html>
{'author': 'lsqzxz',
 'content': '谢谢分享',
 'crawl_time': '2025-07-24T20:18:16.450125',
 'floor_num': 19,
 'post_id': ['26328'],
 'reply_id': ['post_619949'],
 'reply_time': '发表于 2024-7-30 13:56:03'}
2025-07-24 20:18:18 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:   41 ms | size: 30548 bytes
2025-07-24 20:18:18 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-26299-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:18:18 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-26299-1-1.html
2025-07-24 20:18:18 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 26299
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: New post accepted: 26299
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Post initialized: output/HomeAssistant综合讨论区/26299_button card使用分享/完整内容.txt
2025-07-24 20:18:18 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hungheo',
 'content': '本帖最后由 hungheo 于 2025-5-30 14:54 编辑 '
            '之前的手机客户端UI主要用card-mod和Decluttering Card来写的 '
            '虽然两个插件都很强大，但是用card-mod来left、right调位置确实调的辛苦 '
            '看了这个UI大神的分享：https://bbs.hassbian.com/thread-25894-1-1.html '
            '自己用button card改了之前的UI，感觉舒服很多，尤其是2个不同分辨率的手机同时用一套UI的时候 个人觉得，button '
            'card适用于对css不熟悉的，对JavaScript熟悉的 '
            '本人不是程序员，纯属个人爱好，之前用nodered学了一点JavaScript，感觉用着还是比较顺畅 '
            'AI工具真的很强大，很好用，大部分代码或者问题都是问的AI，我用的是阿里的通义千问 参考链接： '
            '本论坛的UI大神：https://bbs.hassbian.com/thread-25964-1-1.html 玩button '
            'card的国外大神：https://github.com/UI-Lovelace-Minimalist/UI '
            '以下是分享的一些认识、技巧： 二楼：button card的基本操作，主要是布局部分 三楼：template模板介绍，简单使用 '
            '四楼：template使用中的几个小注意 五楼：一些觉得有意思的卡片模板分享 还在完善中，后面再分享一些自己的总结和基于模板卡片 '
            '如果有错误的地方，欢迎指正 有更好的idea，欢迎分享 2024-08-19：完整代码 在19楼 '
            '2024-11-15：更新extra_styles使用，在25楼 最后，分享下自己的界面： 手机UI '
            '.guestviewthumb {margin:10px auto; '
            'text-align:center;}.guestviewthumb a '
            '{font-size:12px;}.guestviewthumb_cur '
            '{cursor:url("https://www.hasstatic.com/image/common/scf.gif"), '
            'default; max-width:100px;}.ie6 .guestviewthumb_cur { width:100px '
            '!important;} 登录/注册后可看大图 屏幕截图 2024-07-27 151911.png (72.95 KB, '
            '下载次数: 0) 下载附件 2024-7-27 15:23 上传 登录/注册后可看大图 屏幕截图 2024-07-27 '
            '151931.png (60.54 KB, 下载次数: 0) 下载附件 2024-7-27 15:23 上传 登录/注册后可看大图 '
            '屏幕截图 2024-07-27 151948.png (71.72 KB, 下载次数: 0) 下载附件 2024-7-27 '
            '15:23 上传 登录/注册后可看大图 屏幕截图 2024-07-27 152113.png (69.01 KB, 下载次数: '
            '0) 下载附件 2024-7-27 15:23 上传 登录/注册后可看大图 屏幕截图 2024-07-27 152135.png '
            '(58.77 KB, 下载次数: 0) 下载附件 2024-7-27 15:23 上传 登录/注册后可看大图 屏幕截图 '
            '2024-07-27 152412.png (82.25 KB, 下载次数: 0) 下载附件 2024-7-27 15:24 上传 '
            'PAD UI 登录/注册后可看大图 屏幕截图 2024-07-27 151802.png (792.7 KB, 下载次数: 1) '
            '下载附件 2024-7-27 15:25 上传',
 'crawl_time': '2025-07-24T20:18:18.469807',
 'page_num': 1,
 'post_id': ['26299'],
 'post_time': '发表于 2024-7-27 12:10:22',
 'post_url': 'https://bbs.hassbian.com/thread-26299-1-1.html',
 'title': 'button card使用分享'}
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:18 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_3
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26299_button card使用分享/完整内容.txt (Floor: 3)
2025-07-24 20:18:18 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hungheo',
 'content': '本帖最后由 hungheo 于 2024-7-27 15:32 编辑 一、布局： 1、button card的默认布局，如下图： '
            '登录/注册后可看大图 屏幕截图 2024-07-27 110105.png (78.25 KB, 下载次数: 0) 下载附件 '
            '2024-7-27 12:53 上传 card：最外层卡片 container：grid布局 '
            'img_cell：图标或图片，里面还有icon标签 name：名称 state：状态 label：标签 '
            '设置显示与不显示，对应的true或者false就行 2、styles设置 2.1、grid设置 '
            '在grid里面，“i”对应img_cell，“n”对应name，“s”对应state，“l”对应label '
            '调整grid-template-area的值就能对各个div进行调整，代码： type: custom:button-card '
            'entity: sensor.a4c138d5271a_temperature show_name: true '
            'show_icon: true show_state: true show_label: true label: 这是lebel '
            'styles: grid: - grid-template-areas: | "i n" "i s" "i l" - '
            'grid-template-rows: 1fr min-content min-content - '
            'grid-template-columns: min-content 1fr; img_cell: - width: 40px - '
            'height: 40px 复制代码 grid-template-rows：调整行距离 '
            'grid-template-columns：调整列距离 '
            '常用的是：min-content（最小的合适空间），1fr（1倍剩余空间，也可以是0.5fr），或者固定大小（50px）,或者百分比（20%）grid里面还有其他的属性可以设置，比如居中、对齐、线间距等等，具体可以AI工具搜：CSS '
            'grid属性 个人习惯： 宽度一般不用px设置，这样在不同的手机屏幕就可以自动适应宽度 调整后效果： 登录/注册后可看大图 '
            '屏幕截图 2024-07-27 111820.png (36.81 KB, 下载次数: 0) 下载附件 2024-7-27 '
            '12:25 上传 2.2、其他标签设置 '
            'card、name、state、img_cell、icon、label、custom_fields 都可以设置对应的css样式 '
            '具体有哪些，可以浏览器F12，选中标签，然后计算样式里面都有 登录/注册后可看大图 屏幕截图 2024-07-27 '
            '123141.png (37.1 KB, 下载次数: 0) 下载附件 2024-7-27 12:32 上传 修改下之前的代码： '
            'type: custom:button-card entity: sensor.a4c138d5271a_temperature '
            'show_name: true show_icon: true show_state: true show_label: true '
            'label: ，这个温度太热啦 styles: grid: - grid-template-areas: | "i n n" "i '
            's l" - grid-template-rows: 1fr min-content - '
            'grid-template-columns: min-content min-content 1fr; card: - '
            'padding: 8px img_cell: - width: 40px - height: 40px - background: '
            'rgba(139,195,74,0.2) - border-radius: 50% - margin-right: 8px '
            'icon: - width: 24px - height: 24px - color: var(--green-color) '
            'name: - justify-self: flex-start - font-size: 14px - font-weight: '
            '600 state: - justify-self: flex-start - font-size: 12px label: - '
            'justify-self: flex-start - font-size: 12px 复制代码 类似mushroom '
            'card的template card的样式卡片效果就出来了 登录/注册后可看大图 屏幕截图 2024-07-27 '
            '123538.png (7.12 KB, 下载次数: 0) 下载附件 2024-7-27 12:36 上传 2.3、自定义布局 '
            '主要参考这位UI大神的技巧分享： https://bbs.hassbian.com/thread-25964-1-1.html '
            '设置布局时， grid-template-areas里面的相同区域必须是矩形 ，其他的根据个人需求 比如，模仿户型图： type: '
            'custom:button-card styles: grid: - grid-template-areas: | "a1 z1 '
            'z1 a2 a3 d1 d1 a4 a5 k k k" "z2 z2 z2 z2 a3 d d d a5 k k k" "a7 '
            'a7 a7 z3 a3 a6 a6 a6 a5 k k k" "p p a8 z3 a3 k1 k1 k1 k1 k k k" '
            '"p p a9 a9 a9 a9 a9 a9 a9 k k k" "b1 b1 b1 x x x b4 c b5 k k k" '
            '"b1 b1 b1 x x x b4 b6 b5 b7 b8 k2" "b1 b1 b1 c1 c1 c1 c1 f f f b8 '
            'k2" "b1 b1 b1 b2 f1 f1 f1 f f f b8 b9" - grid-template-columns: '
            '5px 20px 5px 15px 5px 20px 5px 20px 5px 25px 5px 20px - '
            'grid-template-rows: 10px 55px 5px 15px 5px 35px 5px 5px 25px '
            'card: - width: 150px - height: 160px - background-color: '
            'rgba(0,0,0,0) custom_fields: k: #区域代号 card: # ......这个区域的卡片 复制代码 '
            '效果： 登录/注册后可看大图 屏幕截图 2024-07-27 130825.png (75.97 KB, 下载次数: 0) '
            '下载附件 2024-7-27 13:09 上传 2.4、custom_fields自定义区域 '
            '在styles下的时候，可以自定义某个区域的css属性 '
            '和styles同级的时候，可以自定义某个区域的内容，可以是html标签、可以是card等等 代码： type: '
            'custom:button-card show_icon: false show_state: false show_name: '
            'false styles: grid: - grid-template-areas: | "weather sun person1 '
            'person2" "info info info info" "card1 card1 card1 card1" "card2 '
            'card2 card2 card2" "card3 card3 card3 card3" "card4 card4 card4 '
            'card4" - grid-template-columns: min-content 1fr 38px 38px - '
            'grid-template-rows: 55px min-content 1fr card: - padding: 8px '
            'custom_fields: #自定义区域的属性 sun: #sun区域的属性 - justify-self: center '
            '#让sun这个区域的内容，水平居中 - align-self: flex-start #让sun这个区域的内容，垂直方向，在最顶上 '
            'card1: #card1区域属性 - display: "[[[ return '
            "states['input_boolean.xinxi_xiangqing'].state == 'on' ? 'block' : "
            '\'none\' ]]]" #如果是开则显示card1、是关不显示card1 custom_fields: #自定义区域的内容 '
            'sun: #自定义区域名称 card: #区域的类型 type: custom:button-card entity: '
            'sun.sun show_icon: true show_name: false show_state: true # '
            '.....该卡片其他属性 card1: card: type: custom:button-card entity: '
            'sensor.youjia template: entity_card icon: mdi:gas-station name: '
            '92#油价 label: | [[[ return '
            "`${states['sensor.youjia'].attributes[92]}元/L`]]] variables: "
            'icon_color: var(--green-color) # .......区域内容 复制代码 '
            'PS：display这个属性很好玩，可以实现收起、展开效果 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 '
            '134955.png (40.92 KB, 下载次数: 0) 下载附件 2024-7-27 13:51 上传 登录/注册后可看大图 '
            '屏幕截图 2024-07-27 134925.png (13.24 KB, 下载次数: 0) 下载附件 2024-7-27 '
            '14:00 上传',
 'crawl_time': '2025-07-24T20:18:18.471431',
 'floor_num': 3,
 'post_id': ['26299'],
 'reply_id': ['post_619303'],
 'reply_time': '发表于 2024-7-27 12:36:11'}
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:18 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_5
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26299_button card使用分享/完整内容.txt (Floor: 5)
2025-07-24 20:18:18 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hungheo',
 'content': "replyreload += ',' + 619322; 本帖最后由 hungheo 于 2025-3-2 12:51 编辑 "
            '2、template模板 这个功能很强大！！ 可以追加、覆盖、套嵌等等 '
            '如果用到变量处理，不支持jinja2模板，只支持JavaScript！ 2.1、 基本结构 #template结构 '
            'button_card_templates: #顶格 some_template: #模板名称 show_name: true '
            "name: 这是模板里面的名称 styles: icon: - color: '[[[return "
            "variables.icon_color]]]' #这里的variables.icon_color是模板内的变量， "
            '#......其他内容 #template使用 type: custom:button-card entity: '
            'sensor.a4c13801e940_temperature show_label: true name: 这是card的名称 '
            '#相同的name，template里面的name的内容，在这里被替换掉 label: > '
            '#entity.state，因为之前定义了entity: '
            "sensor.a4c13801e940_temperature，所以这里等效于states.['sensor.a4c13801e940_temperature'].state "
            ']]] if(entity.state > 30) return "好热啊" [[[ template: '
            'some_template #引用模板 variables: icon_color: red #设定变量值 复制代码 2.2、 '
            'template追加、覆盖、多级引用 '
            '可以创建多个template模板，然后一起引用，template的内容追加上去，重复定义的根据顺序也会覆盖掉 比如：. '
            '游客，如果您要查看本帖隐藏内容请 回复 上面定义了3个template title是最基础的 '
            'title_popup引用了title模板，并且追加了文字是带阴影 title_button是custom_fields的内容 '
            '应用起来就是： 1、引用最基础的title： type: custom:button-card name: 餐厅 label: '
            '子擎存在传感器 template: title 复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 '
            '143746.png (12.01 KB, 下载次数: 0) 下载附件 2024-7-27 14:38 上传 '
            '2、追加一个title_button '
            'template引用分先后的，这里要先引用title，再是title_button，因为title是card主体，title_button是追加部分 '
            'type: custom:button-card name: 主卧 template: - title #它先 - '
            'title_button #这个是追加上去的 variables: turn_on: '
            'script.turn_on_auto_light_zhuwo turn_off: '
            'script.turn_off_auto_light_zhuwo 复制代码 效果： 登录/注册后可看大图 屏幕截图 '
            '2024-07-27 144258.png (23.96 KB, 下载次数: 0) 下载附件 2024-7-27 14:44 上传 '
            '3、多级引用 type: custom:button-card template: - title_popup '
            '#这个模板引用了title模板 - title_button #这个是追加上去的 name: 客厅 label: > '
            '[[[return '
            "Number(states['sensor.ke_ting_kai_deng_shu_liang'].state) + "
            '"个灯开着";]]] variables: turn_on: script.turn_on_light_keting '
            'turn_off: script.turn_off_light_keting 复制代码 效果： 登录/注册后可看大图 屏幕截图 '
            '2024-07-27 144821.png (29.76 KB, 下载次数: 0) 下载附件 2024-7-27 14:49 上传',
 'crawl_time': '2025-07-24T20:18:18.472637',
 'floor_num': 5,
 'post_id': ['26299'],
 'reply_id': ['post_619322'],
 'reply_time': '发表于 2024-7-27 14:22:51'}
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:18 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_7
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26299_button card使用分享/完整内容.txt (Floor: 7)
2025-07-24 20:18:18 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hungheo',
 'content': '本帖最后由 hungheo 于 2024-7-27 21:09 编辑 3、template使用中的几个小注意 '
            "3.1、状态的表达方式 return states['switch.myswitch'].state // 这样写能正确显示 // "
            '下面这样写会报错 const test = switch.myswitch return states[test].state '
            '复制代码 3.2、variables：以字母顺序来确定是否可以引用 ### 这个是能引用的 variables: index: 2 '
            "value: '[[[ return variables.index + 2; ]]]' name: '[[[ return "
            "variable.value; ]]]' # 输出 4 因为i在v前，所以value能继承index的值 ### 这个是不能引用的 "
            "variables: z_index: 2 value: '[[[ return variables.z_index + 2; "
            "]]]' # 错误 因为v在z前，所以value不能继承z-index的值 name: '[[[ return "
            "variable.value; ]]]' 复制代码 3.3、entity的使用位置 button "
            'card中如果定义了entity，在JavaScript模板中是可以直接用entity接属性直接用的，但是要注意一下 '
            '多级button card情况下 type: custom:button-card entity: '
            'light.649e3186d9cd_light show_state: true show_label: true label: '
            "'[[[ return entity.entity_id ]]]' styles: grid: - "
            'grid-template-areas: | "i n a" "i s a" "i l a" - '
            'grid-template-columns: min-content 0.5fr 0.5fr - '
            'grid-template-rows: 1fr custom_fields: a: card: type: '
            'custom:button-card entity: sensor.a4c138d5271a_temperature '
            "show_state: true show_label: true label: '[[[ return "
            "entity.entity_id ]]]' 复制代码 一级、二级的label都会显示一级的entity_id 如图： "
            '登录/注册后可看大图 屏幕截图 2024-07-27 205515.png (38.58 KB, 下载次数: 0) 下载附件 '
            '2024-7-27 20:55 上传 如果想要用本级card的entity_id。要么在card前面加上 '
            'do_not_eval:true ，要么用 template模板 ...... custom_fields: a: '
            'do_not_eval: true card: type: custom:button-card entity: '
            'sensor.a4c138d5271a_temperature ....... 复制代码 效果： 登录/注册后可看大图 屏幕截图 '
            '2024-07-27 210026.png (38.61 KB, 下载次数: 0) 下载附件 2024-7-27 21:01 上传',
 'crawl_time': '2025-07-24T20:18:18.473383',
 'floor_num': 7,
 'post_id': ['26299'],
 'reply_id': ['post_619335'],
 'reply_time': '发表于 2024-7-27 15:35:08'}
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:18 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_9
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26299_button card使用分享/完整内容.txt (Floor: 9)
2025-07-24 20:18:18 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hungheo',
 'content': '本帖最后由 hungheo 于 2024-7-27 22:44 编辑 4、一些有意思的模板卡片 4.1、自动生成看板小图标 '
            '这个是照搬UI-Lovelace-Minimalist，精简了一些内容。 button_card_templates: '
            'row_pill: show_icon: false show_name: true show_label: false '
            'variables: #想要更多这里再加entity_? entity_1: entity_id: "" name: "" '
            'icon: "" color: "" entity_2: entity_id: "" name: "" icon: "" '
            'color: "" entity_3: entity_id: "" name: "" icon: "" color: "" '
            'entity_4: entity_id: "" name: "" icon: "" color: "" entity_5: '
            'entity_id: "" name: "" icon: "" color: "" styles: grid: - '
            'grid-template-areas: > [[[ var pills = [] const entities = '
            '[variables.entity_1?.entity_id, variables.entity_2?.entity_id, '
            'variables.entity_3?.entity_id, variables.entity_4?.entity_id, '
            'variables.entity_5?.entity_id] //想要更多这里再加variables function '
            'entity_check(item) { if (item != "") { pills.push("item" + '
            '(pills.length+1)) } } entities.forEach(entity_check) return '
            'pills.join(" ") ]]] - display: flex - grid-template-rows: '
            'min-content - justify-content: space-evenly card: - background: '
            'none - box-shadow: none - broder: 0px - border-radius: none - '
            'padding: 12px - overflow: visible custom_fields: item1: - '
            'display: "[[[ return (variables.entity_1.entity_id != \'\') ? '
            '\'block\' : \'none\' ]]]" item2: - display: "[[[ return '
            "(variables.entity_2.entity_id != '') ? 'block' : 'none' "
            ']]]" item3: - display: "[[[ return (variables.entity_3.entity_id '
            '!= \'\') ? \'block\' : \'none\' ]]]" item4: - display: "[[[ '
            "return (variables.entity_4.entity_id != '') ? 'block' : 'none' "
            ']]]" item5: - display: "[[[ return (variables.entity_5.entity_id '
            '!= \'\') ? \'block\' : \'none\' ]]]" item6: - display: "[[[ '
            "return (variables.entity_6.entity_id != '') ? 'block' : 'none' "
            ']]]" item7: - display: "[[[ return (variables.entity_7.entity_id '
            '!= \'\') ? \'block\' : \'none\' ]]]" custom_fields: item1: card: '
            'type: "custom:button-card" template: "pill" variables: "[[[ '
            'return variables.entity_1; ]]]" entity: "[[[ return '
            'variables.entity_1.entity_id ]]]" name: "[[[ return '
            'variables.entity_1.name ]]]" icon: "[[[ return '
            'variables.entity_1.icon ]]]" color: "[[[ return '
            'variables.entity_1.color ]]]" item2: card: type: '
            '"custom:button-card" template: "pill" variables: "[[[ return '
            'variables.entity_2; ]]]" entity: "[[[ return '
            'variables.entity_2.entity_id ]]]" name: "[[[ return '
            'variables.entity_2.name ]]]" icon: "[[[ return '
            'variables.entity_2.icon ]]]" color: "[[[ return '
            'variables.entity_2.color ]]]" item3: card: type: '
            '"custom:button-card" template: "pill" variables: "[[[ return '
            'variables.entity_3; ]]]" entity: "[[[ return '
            'variables.entity_3.entity_id ]]]" name: "[[[ return '
            'variables.entity_3.name ]]]" icon: "[[[ return '
            'variables.entity_3.icon ]]]" color: "[[[ return '
            'variables.entity_3.color ]]]" item4: card: type: '
            '"custom:button-card" template: "pill" variables: "[[[ return '
            'variables.entity_4; ]]]" entity: "[[[ return '
            'variables.entity_4.entity_id ]]]" name: "[[[ return '
            'variables.entity_4.name ]]]" icon: "[[[ return '
            'variables.entity_4.icon ]]]" color: "[[[ return '
            'variables.entity_4.color ]]]" item5: card: type: '
            '"custom:button-card" template: "pill" variables: "[[[ return '
            'variables.entity_5; ]]]" entity: "[[[ return '
            'variables.entity_5.entity_id ]]]" name: "[[[ return '
            'variables.entity_5.name ]]]" icon: "[[[ return '
            'variables.entity_5.icon ]]]" color: "[[[ return '
            'variables.entity_5.color ]]]" #椭圆形图标 pill: styles: grid: - '
            'grid-template-areas: \'"i" "n"\' - grid-template-columns: 54px - '
            'grid-template-rows: 54px min-content card: - border-radius: 50px '
            '- place-self: center - width: 54px - height: 84px - padding: 0px '
            "icon: - color: '[[[ return variables?.color ]]]' - width: 24px "
            'img_cell: - background-color: \'[[[return "color-mix(in srgb, "+ '
            'variables?.color +" 20%, transparent)" ]]]\' - border-radius: 50% '
            '- width: 42px - height: 42px name: - justify-self: center - '
            "font-weight: bold - font-size: 12px state: - value: 'off' styles: "
            'card: - height: 54px name: - display: none tap_action: action: '
            'more-info 复制代码 模板只编辑5个小图标，想要多少照着格式改下就行。 引用代码： type: '
            'custom:button-card template: row_pill #template名称 variables: '
            'entity_1: entity_id: sensor.0x00158d000444b5af_humidity name: 湿度 '
            'icon: mdi:water color: var(--light-green-color) '
            '#这里涉及到计算透明背景，只能用var(--颜色名称-color)，等效于light-green entity_2: '
            'entity_id: sensor.0x00158d000444b5af_humidity name: 湿度 icon: '
            'mdi:bed color: var(--light-blue-color) entity_3: entity_id: '
            'sensor.0x00158d000444b5af_humidity name: 湿度 icon: mdi:lightbulb '
            'color: var(--red-color) entity_4: entity_id: '
            "sensor.0x00158d000444b5af_humidity name: 湿度 icon: '' color: "
            'var(--orange-color) #......,总共有5个，如果只想要4个，最后一个不定义就可以 复制代码 效果： '
            '登录/注册后可看大图 屏幕截图 2024-07-27 221450.png (25.23 KB, 下载次数: 0) 下载附件 '
            '2024-7-27 22:15 上传 4.2、仿homekit灯卡片 跟button '
            'card作者的GitHub上的示例一样的，多了根据灯的样式，自动选择图标和显示不同类型的灯的详情 代码： '
            'button_card_templates: light_card: #仿HomeKit卡模板 show_state: false '
            'show_icon: true show_name: true icon: > #根据不同的名称，返回不同的图标 [[[ var '
            'friendlyName = entity.attributes.friendly_name; if '
            "(friendlyName.includes('灯带')) return 'mdi:led-strip-variant'; "
            "//检测包含文字 else if (entity.entity_id.includes('auto_light')) return "
            "'mdi:lightbulb-auto'; //检测包含文字 else if "
            "(friendlyName.includes('吸顶灯')) return 'mdi:wall-sconce-flat'; "
            "//检测包含文字 else if (friendlyName.includes('射灯')) return "
            "'mdi:track-light'; //检测包含文字 else if "
            "(friendlyName.includes('床头灯')) return 'mdi:lamp'; //检测包含文字 else "
            "if (friendlyName.includes('浴霸')) return 'mdi:light-recessed'; "
            "//检测包含文字 else if (friendlyName.includes('插座')) return "
            "'mdi:power-socket-us'; //检测包含文字 else return 'mdi:lightbulb'; ]]] "
            'label: > #根据不同的类型，返回不同的详情状态 [[[ if '
            "(entity.entity_id.startsWith('light.')) { if (entity.state === "
            '"on") { if (entity.attributes.color_temp_kelvin) return `开 '
            '${entity.attributes.color_temp_kelvin}k '
            '${Math.floor(entity.attributes.brightness * 100 / 255)}%`; else '
            'return \'开启\'; } if (entity.state === "off") return \'关闭\'; } '
            "else if (entity.entity_id.startsWith('switch.')) { if "
            '(entity.state === "on") return \'开启\'; if (entity.state === '
            '"off") return \'关闭\'; } else if '
            "(entity.entity_id.includes('auto_light')) { if (entity.state === "
            '"on") return \'开启\'; if (entity.state === "off") return \'关闭\'; } '
            "return '错误'; ]]] show_label: true grid: - grid-template-areas: "
            '\'"i" "n" "s"\' - grid-template-columns: 1fr - '
            'grid-template-rows: 1fr min-content min-content styles: label: - '
            'font-size: 12px - justify-self: start - padding-left: 10px card: '
            '- width: 90px - height: 90px img_cell: - justify-content: '
            'flex-start icon: - padding-left: 5px name: - justify-self: start '
            '- padding-left: 10px - font-weight: bold - font-size: 14px state: '
            "- value: 'off' styles: icon: - color: var(--light-grey-color) "
            'name: - color: var(--light-grey-color) label: - color: '
            'var(--light-grey-color) #使用： type: custom:button-card entity: '
            'switch.6cd3eec81262_channel_1 name: 客厅射灯 template: light_card '
            '复制代码 效果： 登录/注册后可看大图 屏幕截图 2024-07-27 222440.png (52.78 KB, 下载次数: '
            '0) 下载附件 2024-7-27 22:25 上传 4.3、light卡片模板 '
            '我用的是乐式的驱动，比米家的多了一个灯光模式选择，自己加了自动调光的开关按钮 代码： button_card_templates: '
            'light_ls_card: #乐式灯卡片模板 show_icon: false show_name: false '
            'show_state: false styles: grid: - grid-template-areas: | "x a c z '
            'd y" "x w w w w y" "x b b b b y" - grid-template-columns: 4% 1fr '
            '120px 15px 40px 4% - grid-template-rows: 40px 5px 50px '
            'custom_fields: a: #灯光图标、详情 card: type: custom:button-card entity: '
            "'[[[ return entity.entity_id ]]]' #这里的entity是为了点击图标开关灯 show_icon: "
            'true show_state: false show_name: true show_label: true icon: '
            "mdi:lightbulb name: '[[[ return variables.light_name ]]]' "
            '#这里的name因为这里是二级card label: > [[[ if (entity.state == "on") return '
            "'开启 ' + entity.attributes.color_temp_kelvin + 'k ' + "
            "Math.floor(entity.attributes.brightness *100 / 255) + '%'; //计算取整 "
            'else if (entity.state == "off") return \'关闭\'; else return \'错误\' '
            ']]] styles: grid: - grid-template-areas: | "i a n" "i a s" "i a '
            'l" - grid-template-rows: 1fr min-content 1fr; - '
            'grid-template-columns: 40px 5px 1fr; card: - height: 40px - '
            'padding: 0px - box-shadow: none - border-radius: 0px - border: '
            '0px - background: none icon: - width: 24px - height: 24px - '
            'padding: 8px - border-radius: 50% - color: orange - background: '
            'rgb(255, 152, 0, 0.2) name: - font-size: 14px - justify-self: '
            'flex-start label: - font-size: 12px - justify-self: flex-start '
            "state: - value: 'on' styles: icon: - background: rgba(255, 152, "
            "0, 0.2) - color: orange - value: 'off' styles: icon: - "
            'background: rgb(158, 158, 158,0.2) - color: rgb(158, 158, 158) b: '
            '#亮度色温控制 card: type: custom:mushroom-light-card primary_info: none '
            'secondary_info: none icon_type: none show_brightness_control: '
            "true show_color_temp_control: true entity: '[[[ return "
            "entity.entity_id ]]]' card_mod: style: | ha-card { padding: 0px "
            '!important; border-radius: 0px !important; border: 0px '
            '!important; margin: 0px !important; box-shadow: none !important; '
            "} c: #模式选择 card: type: custom:mushroom-select-card entity: '[[[ "
            "return variables.light_select ]]]' primary_info: none "
            'secondary_info: none icon_type: none card_mod: style: | ha-card { '
            'padding: 0px !important; border-radius: 0px !important; border: '
            '0px !important; margin: 0px !important; --mdc-theme-surface: '
            'white !important; background: white !important; box-shadow: none '
            '!important; overflow: visible !important; } d: #自动调光开关 card: '
            "type: custom:button-card entity: '[[[ return variables.light_auto "
            "]]]' tap_action: action: toggle show_icon: true show_name: false "
            'show_state: false icon: mdi:lightbulb-auto styles: grid: - '
            'grid-template-areas: \'"i"\' - grid-template-columns: 40px - '
            'grid-template-rows: 40px card: - padding: 0px - background: none '
            '- border-radius: 12px - box-shadow: none - background: none '
            'img_cell: - border-radius: 12px icon: - width: 24px state: - '
            "value: 'on' styles: img_cell: - background: rgb(255, 152, 0, 0.2) "
            "icon: - color: rgb(255, 152, 0) - value: 'off' styles: img_cell: "
            '- background: rgb(158, 158, 158, 0.1) icon: - color: rgb(158, '
            '158, 158) #使用 type: custom:button-card entity: '
            'light.b850d8174501_light template: light_ls_card variables: '
            'light_name: 吸顶灯 light_select: select.b850d8174501_mode '
            'light_auto: input_boolean.auto_light_zhuwo_xidingdeng 复制代码 效果： '
            '登录/注册后可看大图 屏幕截图 2024-07-27 223148.png (25.11 KB, 下载次数: 0) 下载附件 '
            '2024-7-27 22:32 上传 4.3、两种样式卡片互相切换 '
            '这个用到之前提到的display属性，关灯的时候一种卡片样式，开灯的时候一种卡片样式 '
            '结合之前的仿HomeKit卡片和light卡片的模板 代码： button_card_templates: '
            'light_card_exchange: show_icon: false show_state: false '
            'show_name: false styles: grid: - grid-template-areas: \'"b" "d"\' '
            '- grid-template-columns: 1fr - grid-template-rows: 1fr card: - '
            'padding: 0px - broder: 0px - margin: 0px - background: none - '
            'border-radius: 0px - box-shadow: none - overflow: visible '
            'custom_fields: b: - display: > #block显示，none不显示 [[[ return '
            'entity.state == "on" ? "block" : "none" ]]] d: - padding-top: '
            '10px - display: > [[[ return entity.state == "off" ? "block" : '
            '"none" ]]] custom_fields: b: card: type: custom:button-card '
            "entity: '[[[return entity.entity_id]]]' template: light_ls_card "
            "#引用模板 variables: light_name: '[[[return variables.light_name]]]' "
            "light_select: '[[[return variables.light_select]]]' light_auto: "
            "'[[[return variables.light_auto]]]' d: card: type: "
            "custom:button-card name: '[[[return variables.light_name]]]' "
            "entity: '[[[return entity.entity_id]]]' template: light_card "
            '#引用模板 #使用 type: custom:button-card entity: '
            'light.dced830254b8_light template: light_card_exchange variables: '
            'light_name: 吸顶灯 light_select: select.dced830254b8_mode '
            'light_auto: input_boolean.auto_light_keting_xidingdeng 复制代码 效果： '
            '登录/注册后可看大图 屏幕截图 2024-07-27 224332.png (172.45 KB, 下载次数: 0) 下载附件 '
            '2024-7-27 22:44 上传 未完待续。。。。',
 'crawl_time': '2025-07-24T20:18:18.473917',
 'floor_num': 9,
 'post_id': ['26299'],
 'reply_id': ['post_619336'],
 'reply_time': '发表于 2024-7-27 15:36:23'}
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:18 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_11
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26299_button card使用分享/完整内容.txt (Floor: 11)
2025-07-24 20:18:18 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'ck3',
 'content': '大佬，pad ui教程能分享吗',
 'crawl_time': '2025-07-24T20:18:18.475349',
 'floor_num': 11,
 'post_id': ['26299'],
 'reply_id': ['post_619359'],
 'reply_time': '发表于 2024-7-27 17:24:21'}
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:18 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_13
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26299_button card使用分享/完整内容.txt (Floor: 13)
2025-07-24 20:18:18 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hungheo',
 'content': 'ck3 发表于 2024-7-27 17:24 大佬，pad ui教程能分享吗 我也是参考别人的，原贴链接在这里： '
            'https://bbs.hassbian.com/thread-25894-1-1.html '
            '难点不是代码，是彩平图，图标等等，CAD图纸是自己画的，彩平图是淘宝10块别人帮忙弄的，图标搞了好几天，找个图标制作网站，自己慢慢拼出来的',
 'crawl_time': '2025-07-24T20:18:18.475652',
 'floor_num': 13,
 'post_id': ['26299'],
 'reply_id': ['post_619381'],
 'reply_time': '发表于 2024-7-27 19:41:10'}
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:18 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_15
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26299_button card使用分享/完整内容.txt (Floor: 15)
2025-07-24 20:18:18 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hhh.',
 'content': '大量使用button-card，配合mushroom-card，刷新界面，会出现不显示icon，楼主有遇到过吗？',
 'crawl_time': '2025-07-24T20:18:18.475953',
 'floor_num': 15,
 'post_id': ['26299'],
 'reply_id': ['post_619384'],
 'reply_time': '发表于 2024-7-27 20:15:50'}
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:18 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_17
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26299_button card使用分享/完整内容.txt (Floor: 17)
2025-07-24 20:18:18 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hungheo',
 'content': 'hhh. 发表于 2024-7-27 20:15 '
            '大量使用button-card，配合mushroom-card，刷新界面，会出现不显示icon，楼主有遇到过吗？ '
            '我用了几种mushroom卡片：entity， climate，light，chips这些，也用card-mod。 '
            '其他的全是button card，最多套到了5层。 也遇到过加载不出来，要刷新很多次才显示，或者偶尔能加载出来。 '
            '好像是button card的问题，也有说用了card-mod或者browser-mod才出现。 F12看控制台，一般就是： '
            "TypeError: Cannot read properties of undefined (reading 'style') "
            'Uncaught (in promise) TypeError: e.setConfig is not a function '
            '这个得慢慢找，清空缓存，或者隐身模式，找到了把他们放在template模板里面大多都能能解决',
 'crawl_time': '2025-07-24T20:18:18.476222',
 'floor_num': 17,
 'post_id': ['26299'],
 'reply_id': ['post_619391'],
 'reply_time': '发表于 2024-7-27 21:18:53'}
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:18 [forum_spider.pipelines] DEBUG: New reply accepted: 26299_19
2025-07-24 20:18:18 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/26299_button card使用分享/完整内容.txt (Floor: 19)
2025-07-24 20:18:18 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-26299-1-1.html>
{'author': 'hhh.',
 'content': 'hungheo 发表于 2024-7-27 21:18 我用了几种mushroom卡片：entity， '
            'climate，light，chips这些，也用card-mod。 其他的全是button card， ... '
            '单独使用没有任何问题，只要在button-card中使用mushroom的卡片，就会出现这种问题，应该与其他卡片无关，就是按钮卡片和蘑菇卡片相互不兼容。 '
            '我现在想的就是尽量少用第三方卡片，多用原生卡片，按钮卡片，卡片模组辅助。 确实，这个问题的慢慢找，而且错误较多，得一一排查。',
 'crawl_time': '2025-07-24T20:18:18.476510',
 'floor_num': 19,
 'post_id': ['26299'],
 'reply_id': ['post_619392'],
 'reply_time': '发表于 2024-7-27 21:29:31'}
2025-07-24 20:18:20 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:   29 ms | size: 17958 bytes
2025-07-24 20:18:20 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-24610-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:18:20 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-24610-1-1.html
2025-07-24 20:18:20 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 24610
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: New post accepted: 24610
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Post initialized: output/HomeAssistant综合讨论区/24610_让爱快路由器对接HASS 版本2.0 全用Node-RED+MQTT实现/完整内容.txt
2025-07-24 20:18:20 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': 'adxr',
 'content': "replyreload += ',' + 590268; 本帖最后由 adxr 于 2024-3-21 12:03 编辑 "
            '3年前，我发布了一篇名为 《让爱快路由器对接HASS，实现控制及设备在线情况》 '
            '的文章。当时，我为了满足老婆的需求，以便更方便地对一些设置进行限网设置。但由于我对Node-RED并不太熟悉，只好采用了PHP+Node-RED的方式来实现。然而，自发布之后，大家一直期待着一个纯粹基于Node-RED的解决方案。 '
            '好消息来了！今天，我终于带来了全新的Node-RED方案，不再需要借助PHP，一切尽在Node-RED之中。感谢大家的支持和耐心等待，让我们一起探索这个全新的解决方案吧！ '
            '先看效果： .guestviewthumb {margin:10px auto; '
            'text-align:center;}.guestviewthumb a '
            '{font-size:12px;}.guestviewthumb_cur '
            '{cursor:url("https://www.hasstatic.com/image/common/scf.gif"), '
            'default; max-width:100px;}.ie6 .guestviewthumb_cur { width:100px '
            '!important;} 登录/注册后可看大图 nodeinit.jpg (156.12 KB, 下载次数: 2) 下载附件 '
            '2024-3-21 11:46 上传 登录/注册后可看大图 wen.jpg (43.24 KB, 下载次数: 0) 下载附件 '
            '2024-3-21 11:46 上传 爱快的账号、密码、IP都在账号参数里，请自行修改，MQTT信息 请自行修改 '
            '登录/注册后可看大图 paww.jpg (77.74 KB, 下载次数: 0) 下载附件 2024-3-21 11:52 上传 '
            '上代码： Node-RED 代码： 游客，如果您要查看本帖隐藏内容请 回复 下面是HASS中的MQTT代码：（请自行改名及ID） '
            '游客，如果您要查看本帖隐藏内容请 回复',
 'crawl_time': '2025-07-24T20:18:20.440252',
 'page_num': 1,
 'post_id': ['24610'],
 'post_time': '发表于 2024-3-21 11:58:32',
 'post_url': 'https://bbs.hassbian.com/thread-24610-1-1.html',
 'title': '让爱快路由器对接HASS 版本2.0 全用Node-RED+MQTT实现'}
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:20 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_3
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/24610_让爱快路由器对接HASS 版本2.0 全用Node-RED+MQTT实现/完整内容.txt (Floor: 3)
2025-07-24 20:18:20 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': 'launze',
 'content': '感谢！一直用的这个插件',
 'crawl_time': '2025-07-24T20:18:20.441930',
 'floor_num': 3,
 'post_id': ['24610'],
 'reply_id': ['post_590276'],
 'reply_time': '发表于 2024-3-21 12:28:34'}
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:20 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_5
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/24610_让爱快路由器对接HASS 版本2.0 全用Node-RED+MQTT实现/完整内容.txt (Floor: 5)
2025-07-24 20:18:20 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': 'zxyny1989',
 'content': '谢谢大佬分享，可惜我用的高恪',
 'crawl_time': '2025-07-24T20:18:20.442448',
 'floor_num': 5,
 'post_id': ['24610'],
 'reply_id': ['post_590280'],
 'reply_time': '发表于 2024-3-21 12:34:45'}
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:20 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_7
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/24610_让爱快路由器对接HASS 版本2.0 全用Node-RED+MQTT实现/完整内容.txt (Floor: 7)
2025-07-24 20:18:20 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': 'adxr',
 'content': 'zxyny1989 发表于 2024-3-21 12:34 谢谢大佬分享，可惜我用的高恪 高格也差不多的，抓一下包改一下',
 'crawl_time': '2025-07-24T20:18:20.442750',
 'floor_num': 7,
 'post_id': ['24610'],
 'reply_id': ['post_590282'],
 'reply_time': '发表于 2024-3-21 12:41:14'}
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:20 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_9
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/24610_让爱快路由器对接HASS 版本2.0 全用Node-RED+MQTT实现/完整内容.txt (Floor: 9)
2025-07-24 20:18:20 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': 'QQ617250210',
 'content': '感谢分项，我用的是爱快的集成，也挺好用的',
 'crawl_time': '2025-07-24T20:18:20.443215',
 'floor_num': 9,
 'post_id': ['24610'],
 'reply_id': ['post_590285'],
 'reply_time': '发表于 2024-3-21 13:34:28'}
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:20 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_11
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/24610_让爱快路由器对接HASS 版本2.0 全用Node-RED+MQTT实现/完整内容.txt (Floor: 11)
2025-07-24 20:18:20 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': '隔壁的王叔叔',
 'content': '直接用ha就行了呗，为嘛还通过mqtt中转一下呢？',
 'crawl_time': '2025-07-24T20:18:20.443536',
 'floor_num': 11,
 'post_id': ['24610'],
 'reply_id': ['post_590296'],
 'reply_time': '发表于 2024-3-21 14:24:24'}
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:20 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_13
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/24610_让爱快路由器对接HASS 版本2.0 全用Node-RED+MQTT实现/完整内容.txt (Floor: 13)
2025-07-24 20:18:20 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': '4303279',
 'content': '不知道用个能不能进入TP-LINK',
 'crawl_time': '2025-07-24T20:18:20.443858',
 'floor_num': 13,
 'post_id': ['24610'],
 'reply_id': ['post_590305'],
 'reply_time': '发表于 2024-3-21 14:45:37'}
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:20 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_15
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/24610_让爱快路由器对接HASS 版本2.0 全用Node-RED+MQTT实现/完整内容.txt (Floor: 15)
2025-07-24 20:18:20 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': 'SuperGabriel',
 'content': '感谢分享，学习一下，正好看看能不能使用',
 'crawl_time': '2025-07-24T20:18:20.444129',
 'floor_num': 15,
 'post_id': ['24610'],
 'reply_id': ['post_590355'],
 'reply_time': '发表于 2024-3-21 16:41:50'}
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:20 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_17
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/24610_让爱快路由器对接HASS 版本2.0 全用Node-RED+MQTT实现/完整内容.txt (Floor: 17)
2025-07-24 20:18:20 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': 'ldj',
 'content': '来研究一下',
 'crawl_time': '2025-07-24T20:18:20.444390',
 'floor_num': 17,
 'post_id': ['24610'],
 'reply_id': ['post_590539'],
 'reply_time': '发表于 2024-3-22 03:08:13'}
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:20 [forum_spider.pipelines] DEBUG: New reply accepted: 24610_19
2025-07-24 20:18:20 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/24610_让爱快路由器对接HASS 版本2.0 全用Node-RED+MQTT实现/完整内容.txt (Floor: 19)
2025-07-24 20:18:20 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-24610-1-1.html>
{'author': 'silang521',
 'content': '我的不能直接导入',
 'crawl_time': '2025-07-24T20:18:20.444644',
 'floor_num': 19,
 'post_id': ['24610'],
 'reply_id': ['post_590776'],
 'reply_time': '发表于 2024-3-22 20:56:49'}
2025-07-24 20:18:22 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:   37 ms | size: 21244 bytes
2025-07-24 20:18:22 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-22924-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:18:22 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-22924-1-1.html
2025-07-24 20:18:22 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 22924
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: New post accepted: 22924
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Post initialized: output/HomeAssistant综合讨论区/22924_【配置篇】借助fully kiosk browser实现平板上墙/完整内容.txt
2025-07-24 20:18:22 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'dachandler7',
 'content': '本帖最后由 dachandler7 于 2023-10-6 00:44 编辑 '
            '前言：关于平板上墙的应用选择上，我最终选择了fully kiosk '
            'browser。但在查找资料的阶段发现相关内容很少，于是有了这个记录分享的帖子。fully kiosk '
            'browser的功能很多，而且目前为止没有中文，上一次做了一个中英翻译文档，已经通过本账号进行了分享，这一次是相关的配置过程，本着分享的精神，继续发帖。 '
            '我的平板上墙方案： '
            '在智能家居设备上，家里大部分都是小米系（智能门锁、智能开关、智能灯、新一代人体传感器、智能窗帘、智能晾衣架、小米音箱），空调设备和厨房家电（洗碗机、洗衣机、冰箱）为美的系，燃气热水器为海尔系。 '
            '在网络上，宽带为桥接模式，主路由小米7000（拨号），各房间由子路由ax6000共同组成一个全屋mesh，全屋信号无死角；zigbee信号由米家多模网关2负责，通过zigbee设备全屋扩散；蓝牙信号由米家多模网关2+各区域小米音箱负责。 '
            '在平板上墙的方案选择上，首先固定方式为两块磁吸贴，通过3M胶固定在墙上，平板可以牢牢固定住。 '
            '在平板的供电上，因为前期装修时并没有准备86盒位置，于是打算从客厅开关处取电。这里需要3个东西，一个是支持米家的mesh通断器，另一个是220V转5V的变压器，还有一个是隐藏式扁的充电线。先接入mesh通断器，然后接入220V转5V的变压器上，最后通过隐藏充电线延伸出来接入平板。需要注意的是，上述3个东西，你需要考虑86盒的空间，因此都得买迷你的小规格的，目前相关设备已经非常小了，很容易买到。但我在实际执行时发现这类变压器有可能不被平板识别导致无法充电，比如我的小米平板4就不行。最后根据我的实际情况，我在柜子旁边开了个小孔，通过平板标配的充电器+一个智能插座解决了这个问题，也可以很好的隐藏。 '
            '登录/注册后可看大图 平板上墙效果.jpg (874.72 KB, 下载次数: 0) 下载附件 2023-10-6 00:33 '
            '上传 .guestviewthumb {margin:10px auto; '
            'text-align:center;}.guestviewthumb a '
            '{font-size:12px;}.guestviewthumb_cur '
            '{cursor:url("https://www.hasstatic.com/image/common/scf.gif"), '
            'default; max-width:100px;}.ie6 .guestviewthumb_cur { width:100px '
            '!important;} 登录/注册后可看大图 平板上墙-充电线.jpg (64.08 KB, 下载次数: 0) 下载附件 '
            '2023-10-6 00:32 上传 HA配置过程： 首先你需要购买fully kiosk '
            'browser，因为平板状态检测和mqtt服务不在免费功能里，只能付费才可以使用，好在费用不贵。 '
            '如果你熟悉nodered，可以通过这个方案来做。不过HA现在的版本已经非常方便，而且已经支持fully kiosk '
            'browser，不需要在HACS里单独安装插件了。 进入fully kiosk browser，首先前往Motion '
            'detection（运动检测），设置相关内容，这里的功能是通过调用平板前置摄像头来检测平板面前是否有人，如果有人则打开屏幕。 '
            '接下来前往remote '
            'administration（远程管理），设置相关内容，这里的作用是提供平板各状态参数（比如平板电量信息），确保HA可以顺利接入平板并能够正常识别。在设置的过程中，你需要设置密码，HA连接平板时会用到。 '
            '最后前往other settings（其他设置），设置mqtt的相关内容，在设置的过程中，mqtt broker '
            'url这里请以tcp://开头，具体的IP、端口号、用户名、密码在你HA的启动项Mosquitto '
            'broker配置里（前提是你已经成功配置好了zigbee2mqtt） 登录/注册后可看大图 1.jpg (969.32 KB, '
            '下载次数: 3) 下载附件 2023-10-6 00:33 上传 登录/注册后可看大图 2.jpg (1.07 MB, 下载次数: '
            '0) 下载附件 2023-10-6 00:33 上传 登录/注册后可看大图 3.jpg (1.11 MB, 下载次数: 0) '
            '下载附件 2023-10-6 00:33 上传 登录/注册后可看大图 4.jpg (963.32 KB, 下载次数: 0) '
            '下载附件 2023-10-6 00:33 上传 接下来前往HA后台，直接添加fully kiosk '
            'browser集成，当前版本已经不需要在单独去HACS里下载了。 '
            '上述步骤设置完毕后，你会在HA后台中自动发现你的平板设备，填写平板的IP地址、密码等信息后即可正常连接。 HA自动化配置： '
            '我的方案目的是，通过检测平板的电量信息，控制智能插座来给平板充电。当HA检测到平板电量小于20%时，开启智能插座。电量大与99%时，关闭智能插座。 '
            '如果你熟悉了nodered，那么可以快速完成配置。不过HA的自动化对新手或许会更容易上手，下面介绍HA自动化的方法。 '
            '首先前往HA的自动化与场景，创建自动化。 '
            '中控平板电量低自动充电：添加触发条件【数字类状态】，选择平板电量相关实体，在小于模式下填写数字20。添加动作选择【设备】，点选智能插座，然后在下方弹出的动作框选择开启电源相关选项。 '
            '中控平板充满电自动关闭电源：同理，再添加一条自动化，设置条件并关闭电源。 登录/注册后可看大图 HA自动化.png (41.67 '
            'KB, 下载次数: 0) 下载附件 2023-10-6 00:34 上传 至此，平板上墙方案已经正式完成。 登录/注册后可看大图 '
            '效果.jpeg (1.05 MB, 下载次数: 0) 下载附件 2023-10-6 00:34 上传 '
            '（说明：本人所分享的所有内容仅为个人实践与实操记录分享，如果你不喜欢，可以跳过。如果你真的很牛比，并且帮到了我，我定会毫不吝啬的赞美感激。但想必你也不会多么厉害，如果我是个厉害的人，我一定会关注比我更厉害的大神学习请教，而不是嘲讽那些站内小白，这样做反而显得你狠low。） '
            '“小于”模式 “小于”模式',
 'crawl_time': '2025-07-24T20:18:22.457079',
 'page_num': 1,
 'post_id': ['22924'],
 'post_time': '发表于 2023-10-6 00:35:44',
 'post_url': 'https://bbs.hassbian.com/thread-22924-1-1.html',
 'title': '【配置篇】借助fully kiosk browser实现平板上墙'}
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:22 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_3
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/22924_【配置篇】借助fully kiosk browser实现平板上墙/完整内容.txt (Floor: 3)
2025-07-24 20:18:22 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'wdmywm3',
 'content': '我的平板中控放在门口当了几个月的摆设了，先学习一个',
 'crawl_time': '2025-07-24T20:18:22.458882',
 'floor_num': 3,
 'post_id': ['22924'],
 'reply_id': ['post_558412'],
 'reply_time': '发表于 2023-10-6 00:50:30'}
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:22 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_5
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/22924_【配置篇】借助fully kiosk browser实现平板上墙/完整内容.txt (Floor: 5)
2025-07-24 20:18:22 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'dachandler7',
 'content': 'wdmywm3 发表于 2023-10-6 00:50 我的平板中控放在门口当了几个月的摆设了，先学习一个 '
            '我在实际使用时，用的最多的其实是小爱音箱，非米家设备通过巴法云可以让小爱音箱来进行控制。平板中控除了装13好看以外，只有在客厅区域内的情况下才会少量使用。',
 'crawl_time': '2025-07-24T20:18:22.459402',
 'floor_num': 5,
 'post_id': ['22924'],
 'reply_id': ['post_558413'],
 'reply_time': '发表于 2023-10-6 01:36:57'}
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:22 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_7
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/22924_【配置篇】借助fully kiosk browser实现平板上墙/完整内容.txt (Floor: 7)
2025-07-24 20:18:22 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'wdmywm3',
 'content': 'dachandler7 发表于 2023-10-6 01:36 '
            '我在实际使用时，用的最多的其实是小爱音箱，非米家设备通过巴法云可以让小爱音箱来进行控制。平板中控除 ... '
            '是这样，所以我现在回头琢磨，感觉搞个小米智慧屏6或者8，又或者红米音箱pro8改，有钱的搞个智慧屏10，上墙的效果可能比一个平板更好。 '
            '一个是自带miui，比自己diy的终究好看。 另一个是自带小爱音箱，节省一个小爱的空间。',
 'crawl_time': '2025-07-24T20:18:22.459758',
 'floor_num': 7,
 'post_id': ['22924'],
 'reply_id': ['post_558414'],
 'reply_time': '发表于 2023-10-6 01:56:32'}
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:22 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_9
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/22924_【配置篇】借助fully kiosk browser实现平板上墙/完整内容.txt (Floor: 9)
2025-07-24 20:18:22 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'bugensui',
 'content': '为什么不用官方的app，功能体验不是更好，另外请教下220V转5V的变压器放进86盒，长期通电的情况下，有没有安全隐患',
 'crawl_time': '2025-07-24T20:18:22.460073',
 'floor_num': 9,
 'post_id': ['22924'],
 'reply_id': ['post_558562'],
 'reply_time': '发表于 2023-10-6 23:26:28'}
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:22 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_11
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/22924_【配置篇】借助fully kiosk browser实现平板上墙/完整内容.txt (Floor: 11)
2025-07-24 20:18:22 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'a_dongde',
 'content': 'bugensui 发表于 2023-10-6 23:26 '
            '为什么不用官方的app，功能体验不是更好，另外请教下220V转5V的变压器放进86盒，长期通电的情况下，有没有 ... fully '
            'kiosk browser 功能里可以调用摄像头，可以实现人来自动亮屏（本人买了个联想小新PAD '
            '2020自带了，使用的免费功能即可）。 '
            '220V转5V的变压器放入底盒正常运行一年了，没什么问题，本来现在的带USB口的插座都是一直通电在线的。',
 'crawl_time': '2025-07-24T20:18:22.460360',
 'floor_num': 11,
 'post_id': ['22924'],
 'reply_id': ['post_558583'],
 'reply_time': '发表于 2023-10-7 08:40:27'}
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:22 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_13
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/22924_【配置篇】借助fully kiosk browser实现平板上墙/完整内容.txt (Floor: 13)
2025-07-24 20:18:22 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': '13860605362',
 'content': '我中控直接常亮，控制设备次要的，绝大部分自动化，小部分语音控制。我更多的是用来消息提醒，晒衣服耗材之类的。',
 'crawl_time': '2025-07-24T20:18:22.460691',
 'floor_num': 13,
 'post_id': ['22924'],
 'reply_id': ['post_558591'],
 'reply_time': '发表于 2023-10-7 09:51:50'}
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:22 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_15
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/22924_【配置篇】借助fully kiosk browser实现平板上墙/完整内容.txt (Floor: 15)
2025-07-24 20:18:22 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'bugensui',
 'content': 'a_dongde 发表于 2023-10-7 08:40 fully kiosk browser '
            '功能里可以调用摄像头，可以实现人来自动亮屏（本人买了个联想小新PAD 2020自带了， ... '
            '谢谢大佬，你买的是哪款，能不能分享下，你在用在底盒里接什么传感器用？',
 'crawl_time': '2025-07-24T20:18:22.460983',
 'floor_num': 15,
 'post_id': ['22924'],
 'reply_id': ['post_558596'],
 'reply_time': '发表于 2023-10-7 10:23:38'}
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:22 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_17
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/22924_【配置篇】借助fully kiosk browser实现平板上墙/完整内容.txt (Floor: 17)
2025-07-24 20:18:22 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'a_dongde',
 'content': '空白处开关时连接220~5V电源，塞到了底盒里，在HA中写了自动化通断充电。3D打印了一个支架，把原来的开关垫高了，线走支架下穿出来。 '
            '登录/注册后可看大图 1697159031653.png (252.16 KB, 下载次数: 0) 下载附件 2023-10-13 '
            '09:04 上传',
 'crawl_time': '2025-07-24T20:18:22.461270',
 'floor_num': 17,
 'post_id': ['22924'],
 'reply_id': ['post_559976'],
 'reply_time': '发表于 2023-10-13 09:06:19'}
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:22 [forum_spider.pipelines] DEBUG: New reply accepted: 22924_19
2025-07-24 20:18:22 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/22924_【配置篇】借助fully kiosk browser实现平板上墙/完整内容.txt (Floor: 19)
2025-07-24 20:18:22 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-22924-1-1.html>
{'author': 'a_dongde',
 'content': 'bugensui 发表于 2023-10-7 10:23 谢谢大佬，你买的是哪款，能不能分享下，你在用在底盒里接什么传感器用？ '
            '... '
            '空白处开关时连接220~5V电源，塞到了底盒里，在HA中写了自动化通断充电。3D打印了一个支架，把原来的开关垫高了，线走支架下穿出来。 '
            '登录/注册后可看大图 1697159031653.png (252.16 KB, 下载次数: 0) 下载附件 2023-10-13 '
            '09:07 上传',
 'crawl_time': '2025-07-24T20:18:22.461556',
 'floor_num': 19,
 'post_id': ['22924'],
 'reply_id': ['post_559977'],
 'reply_time': '发表于 2023-10-13 09:07:31'}
2025-07-24 20:18:24 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:   70 ms | size: 30475 bytes
2025-07-24 20:18:24 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-19349-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:18:24 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-19349-1-1.html
2025-07-24 20:18:24 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 19349
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: New post accepted: 19349
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Post initialized: output/HomeAssistant综合讨论区/19349_使用mushroom lovelace在ui界面中配置dashboard/完整内容.txt
2025-07-24 20:18:24 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'angelyangw',
 'content': "replyreload += ',' + 507227; 本帖最后由 angelyangw 于 2024-1-18 19:06 "
            '编辑 晒图 浏览器样式 登录/注册后可看大图 截屏2023-01-26 21.08.59.png (922.91 KB, '
            '下载次数: 8) 下载附件 2023-1-26 21:10 上传 ipad样式 .guestviewthumb '
            '{margin:10px auto; text-align:center;}.guestviewthumb a '
            '{font-size:12px;}.guestviewthumb_cur '
            '{cursor:url("https://www.hasstatic.com/image/common/scf.gif"), '
            'default; max-width:100px;}.ie6 .guestviewthumb_cur { width:100px '
            '!important;} 登录/注册后可看大图 截屏2023-01-26 20.57.32.png (556.08 KB, '
            '下载次数: 1) 下载附件 2023-1-26 21:06 上传 简介 mushroom '
            'lovelace是一个可以在hass的ui中配置dashboard的集成，对于ui小白（本人）来说，很友好 官网地址是： '
            'https://github.com/piitaya/lovelace-mushroom B站找到的一个介绍视频： '
            'https://www.bilibili.com/video/BV1DP411L7B7/ 安装 '
            "几乎所有用到的卡片，都可以通过hacs安装参考安装步骤； Install HACS if you don't have it "
            'already Open HACS in Home Assistant Go to "Frontend" section '
            'Click button with "+" icon Search for "Mushroom" 我用到的部分卡片和主题 卡片： '
            'Lovelace Mini Graph Card Vertical Stack In Card Button Card by '
            '@RomRider Lovelace swipe card Digital Clock Mushroom kiosk-mode '
            'chartjs-card 主题 iOS Themes 使用 设置- 仪表盘 - 创建Dashboard '
            '打开创建的仪表盘，右上角选择编辑仪表盘，在弹窗中选择“从空白仪表盘开始”，点击“自行编辑” 添加第一个卡片 '
            '通常我添加到第一个卡片是垂直堆叠的卡片，既然是ui配置，当然很简单，效果如图 登录/注册后可看大图 截屏2023-01-27 '
            '10.34.06.png (152.83 KB, 下载次数: 0) 下载附件 垂直堆叠 2023-1-27 10:34 上传 '
            '在垂直堆叠的卡片中，设计需要的样子 如我的首页中，左边第一列是一个垂直堆叠的卡片，其中又嵌套了7个子卡片，下面详述 '
            'mushroom-chips-card 安装mushroom后自带，作为导航用效果: 登录/注册后可看大图 '
            '截屏2023-01-27 10.49.11.png (6.33 KB, 下载次数: 0) 下载附件 导航 2023-1-27 '
            '10:49 上传 例子: type: custom:mushroom-chips-card chips: - type: menu '
            '- type: action double_tap_action: action: navigate '
            'navigation_path: /dashboard-home/rooms tap_action: action: '
            'navigate navigation_path: /dashboard-home/rooms hold_action: '
            'action: navigate navigation_path: /dashboard-home/rooms icon: '
            'mdi:home-group alignment: start mushroom-title-card '
            '标题，可以使用HASS的模板 安装mushroom后自带 例子: type: custom:mushroom-title-card '
            'title: | {% set time = now().hour %} {% if (time &gt;= 18) %} '
            '晚上好, {{user}}! {% elif (time &gt;= 12) %} 下午好, {{user}}! {% elif '
            '(time &gt;= 5) %} 早安, {{user}}! {% else %} 欢迎回来, {{user}}! {% '
            "endif %} subtitle: '' alignment: start digital-clock 时钟、日期 效果: "
            '登录/注册后可看大图 截屏2023-01-27 10.51.39.png (24.95 KB, 下载次数: 0) 下载附件 '
            '2023-1-27 10:52 上传 例子: type: custom:digital-clock locale: cn '
            'timeZone: Asia/Shanghai dateFormat: weekday: long day: numeric '
            'month: long year: numeric timeFormat: hour: 2-digit minute: '
            '2-digit horizontal-stack 水平堆叠 当需要某些实体显示在一行中时，使用该卡片 效果： 登录/注册后可看大图 '
            '截屏2023-01-27 10.50.24.png (51 KB, 下载次数: 1) 下载附件 2023-1-27 10:51 '
            '上传 例子: type: horizontal-stack cards: - type: '
            'custom:mushroom-person-card entity: person.** icon: mdi:face-man '
            'layout: vertical fill_container: true secondary_info: state '
            'primary_info: name icon_type: entity-picture tap_action: action: '
            'more-info hold_action: action: more-info double_tap_action: '
            'action: more-info - type: custom:mushroom-person-card entity: '
            'person.** layout: vertical fill_container: true secondary_info: '
            'state primary_info: name icon_type: entity-picture tap_action: '
            'action: more-info hold_action: action: more-info '
            'double_tap_action: action: more-info - type: '
            'custom:mushroom-person-card entity: person.** icon: '
            'mdi:face-woman layout: vertical fill_container: true '
            'secondary_info: state primary_info: name tap_action: action: '
            'more-info hold_action: action: more-info double_tap_action: '
            'action: more-info 小技巧 善用HASS模板 '
            'hass中有很多卡片支持模板，来取各种设备、实体的属性，或者做出判断等等。 例如我最常用的markdown card 效果： '
            '登录/注册后可看大图 截屏2023-01-27 11.12.05.png (78.95 KB, 下载次数: 0) 下载附件 '
            '2023-1-27 11:12 上传 例子： {% if '
            "states('sensor.loock_v4_def2_door_state') == 'stuck' %} "
            '&lt;ha-alert alert-type="success"&gt;大门关闭中&lt;/ha-alert&gt; {% '
            'else%} &lt;ha-alert '
            'alert-type="error"&gt;大门未关闭，迅速检查&lt;/ha-alert&gt; {% endif %} {%- '
            'set low_batteries = states | '
            "selectattr('attributes.battery_level', 'defined') | "
            "selectattr('attributes.battery_level','&lt;=', 30 ) | list -%} {% "
            'if low_batteries | count &gt;= 1 %} &lt;ha-alert '
            'alert-type="error"&gt;{{ low_batteries | list | count }}个设备电量低： '
            '{%- for battery in low_batteries -%} {%- set message = "\\n - *"+ '
            "battery.name + ' (' + (battery.attributes.battery_level | "
            "round(0) | string) + '%)*' -%} {{ message }} {%- endfor -%} {% "
            'else %} &lt;ha-alert alert-type="success"&gt;所有设备电量都很正常 {% endif '
            '%} &lt;/ha-alert&gt; &lt;ha-alert alert-type="info"&gt; {{ '
            "(states.light and states.switch ) | selectattr( 'state', 'eq', "
            "'on') | list | length-1 }}盏灯点亮&lt;/ha-alert&gt; &lt;ha-alert "
            'alert-type="info"&gt; 当前电费余额: {{ '
            "states('sensor.1056389284_balance') }} 当前阶梯剩余额度: "
            "{{states('sensor.1056389284_current_level_remain')}} "
            '&lt;/ha-alert&gt; &lt;ha-alert alert-type="info"&gt; 欧元对人民币汇率: {{ '
            "states('sensor.eur_to_cny') }} 美元对欧元汇率: "
            "{{states('sensor.open_exchange_rates_usd_eur')}} "
            '&lt;/ha-alert&gt; &lt;ha-alert alert-type="info"&gt; 扫地机器人状态: '
            "{{states('vacuum.annie')}} &lt;/ha-alert&gt; 使用水平堆叠、垂直堆叠卡片 "
            '根据自己的设计，使用水平堆叠或者垂直堆叠，可以将想要放到一起显示的内容集中展示 最后 '
            '由于还没有最后完成，也是在设计中，所以贴出目前的部分，各位按需取用好了 附上超长代码 background: '
            'var(--background-image) swipe_nav: wrap: true prevent_default: '
            'true animate: swipe swipe_amount: 20 kiosk_mode: hide_header: '
            'true views: - theme: Backend-selected path: home title: Home '
            'icon: mdi:home-account badges: [] cards: - type: vertical-stack '
            'cards: - type: custom:mushroom-chips-card chips: - type: menu - '
            'type: action double_tap_action: action: navigate navigation_path: '
            '/dashboard-home/rooms tap_action: action: navigate '
            'navigation_path: /dashboard-home/rooms hold_action: action: '
            'navigate navigation_path: /dashboard-home/rooms icon: '
            'mdi:home-group alignment: start - type: '
            'custom:mushroom-title-card title: | {% set time = now().hour %} '
            '{% if (time &gt;= 18) %} 晚上好, {{user}}! {% elif (time &gt;= 12) '
            '%} 下午好, {{user}}! {% elif (time &gt;= 5) %} 早安, {{user}}! {% else '
            "%} 欢迎回来, {{user}}! {% endif %} subtitle: '' alignment: start - "
            'type: custom:digital-clock locale: cn timeZone: Asia/Shanghai '
            'dateFormat: weekday: long day: numeric month: long year: numeric '
            'timeFormat: hour: 2-digit minute: 2-digit - type: '
            'custom:mushroom-title-card title: 家人信息 - type: horizontal-stack '
            'cards: - type: custom:mushroom-person-card entity: person.** '
            'icon: mdi:face-man layout: vertical fill_container: true '
            'secondary_info: state primary_info: name icon_type: '
            'entity-picture tap_action: action: more-info hold_action: action: '
            'more-info double_tap_action: action: more-info - type: '
            'custom:mushroom-person-card entity: person.** layout: vertical '
            'fill_container: true secondary_info: state primary_info: name '
            'icon_type: entity-picture tap_action: action: more-info '
            'hold_action: action: more-info double_tap_action: action: '
            'more-info - type: custom:mushroom-person-card entity: person.** '
            'icon: mdi:face-woman layout: vertical fill_container: true '
            'secondary_info: state primary_info: name tap_action: action: '
            'more-info hold_action: action: more-info double_tap_action: '
            'action: more-info - type: custom:mushroom-title-card title: 设备概要 '
            '- type: markdown content: &gt;+ {% if '
            "states('sensor.loock_v4_def2_door_state') == 'stuck' %} "
            '&lt;ha-alert alert-type="success"&gt;大门关闭中&lt;/ha-alert&gt; {% '
            'else%} &lt;ha-alert '
            'alert-type="error"&gt;大门未关闭，迅速检查&lt;/ha-alert&gt; {% endif %} {%- '
            'set low_batteries = states | '
            "selectattr('attributes.battery_level', 'defined') | "
            "selectattr('attributes.battery_level','&lt;=', 30 ) | list -%} {% "
            'if low_batteries | count &gt;= 1 %} &lt;ha-alert '
            'alert-type="error"&gt;{{ low_batteries | list | count }}个设备电量低： '
            '{%- for battery in low_batteries -%} {%- set message = "\\n - *"+ '
            "battery.name + ' (' + (battery.attributes.battery_level | "
            "round(0) | string) + '%)*' -%} {{ message }} {%- endfor -%} {% "
            'else %} &lt;ha-alert alert-type="success"&gt;所有设备电量都很正常 {% endif '
            '%} &lt;/ha-alert&gt; &lt;ha-alert alert-type="info"&gt; {{ '
            "(states.light and states.switch ) | selectattr( 'state', 'eq', "
            "'on') | list | length-1 }}盏灯点亮&lt;/ha-alert&gt; &lt;ha-alert "
            'alert-type="info"&gt; 当前电费余额: {{ '
            "states('sensor.1056389284_balance') }} 当前阶梯剩余额度: "
            "{{states('sensor.1056389284_current_level_remain')}} "
            '&lt;/ha-alert&gt; &lt;ha-alert alert-type="info"&gt; 欧元对人民币汇率: {{ '
            "states('sensor.eur_to_cny') }} 美元对欧元汇率: "
            "{{states('sensor.open_exchange_rates_usd_eur')}} "
            '&lt;/ha-alert&gt; &lt;ha-alert alert-type="info"&gt; 扫地机器人状态: '
            "{{states('vacuum.annie')}} &lt;/ha-alert&gt; theme: Mushroom - "
            'type: vertical-stack cards: - type: custom:mushroom-title-card '
            'title: 天气预报 - type: custom:mushroom-chips-card chips: - type: '
            'template double_tap_action: action: none content: |- 日出 {% if '
            'states.sun.sun %} {{ '
            '(as_timestamp(states.sun.sun.attributes.next_rising)) | '
            "timestamp_custom(('%H:%M') )}} {% endif %} icon: "
            'mdi:weather-sunset-up entity: sun.sun icon_color: orange '
            'tap_action: action: none hold_action: action: none - type: '
            'template double_tap_action: action: none content: | {{ '
            "state_attr('weather.colorfulclouds', 'pm25') }} tap_action: "
            'action: none hold_action: action: none icon_color: &gt;- {% set '
            "quality = state_attr('weather.colorfulclouds', 'pm25') %} {% if "
            'quality &gt; 0 and quality &lt; 50%} green {% elif quality &gt; '
            '51 and quality &lt; 100 %} yellow {% elif quality &gt; 101 and '
            'quality &lt; 150 %} orange {% elif quality &gt; 151 and quality '
            '&lt; 200 %} red {% elif quality &gt; 201 and quality &lt; 300 %} '
            'purpel {% elif quality &gt; 301 %} brown {% endif %} icon: '
            'mdi:quality-medium entity: weather.colorfulclouds - type: '
            'template entity: weather.colorfulclouds icon: '
            'mdi:alarm-light-outline icon_color: &gt;- {% set quality = '
            "state_attr('weather.colorfulclouds', 'pm25') %} {% if quality "
            '&gt; 0 and quality &lt; 50%} green {% elif quality &gt; 51 and '
            'quality &lt; 100 %} yellow {% elif quality &gt; 101 and quality '
            '&lt; 150 %} orange {% elif quality &gt; 151 and quality &lt; 200 '
            '%} red {% elif quality &gt; 201 and quality &lt; 300 %} purpel {% '
            'elif quality &gt; 301 %} brown {% endif %} content: '
            "'{{state_attr(''weather.colorfulclouds'', ''aqi_description'')}}' "
            'double_tap_action: action: none tap_action: action: none '
            'hold_action: action: none - type: template double_tap_action: '
            'action: none entity: sun.sun icon_color: orange content: |- 日落 {% '
            'if states.sun.sun %} {{ '
            '(as_timestamp(states.sun.sun.attributes.next_setting)) | '
            "timestamp_custom(('%H:%M') )}} {% endif %} tap_action: action: "
            'none hold_action: action: none icon: mdi:weather-sunset-down '
            'alignment: justify - entity: weather.colorfulclouds type: '
            'custom:weather-card - aspect_ratio: 50% title: 天气雷达 type: iframe '
            'url: &gt;- https://embed.windy.com/embed2.h ... '
            '2%B0C&radarRange=-1 - type: vertical-stack cards: - type: '
            'custom:mushroom-title-card title: 灯光控制 - square: false columns: 2 '
            'type: grid cards: - type: custom:mushroom-entity-card entity: '
            'switch.wall_switch_ln_left_158d0001ef5809 name: 客厅灯 icon: '
            'mdi:chandelier layout: vertical fill_container: true '
            'secondary_info: state tap_action: action: toggle hold_action: '
            'action: toggle double_tap_action: action: toggle icon_color: '
            'amber - type: custom:mushroom-entity-card entity: '
            'switch.living_room_downlight name: 客厅筒灯 icon: mdi:track-light '
            'layout: vertical fill_container: true secondary_info: state '
            'tap_action: action: toggle hold_action: action: toggle '
            'double_tap_action: action: toggle icon_color: amber - type: '
            'custom:mushroom-entity-card entity: switch.dining_room_light '
            'name: 餐厅灯 icon: mdi:instrument-triangle layout: vertical '
            'fill_container: true secondary_info: state tap_action: action: '
            'toggle hold_action: action: toggle double_tap_action: action: '
            'toggle icon_color: amber - type: custom:mushroom-entity-card '
            'entity: switch.dining_room_downlight icon: mdi:track-light name: '
            '餐厅筒灯 icon_color: amber fill_container: true layout: vertical '
            'secondary_info: state tap_action: action: toggle hold_action: '
            'action: toggle double_tap_action: action: toggle - type: '
            'custom:mushroom-entity-card entity: switch.kitchen_light name: '
            '厨房灯 icon_color: amber fill_container: true icon: mdi:countertop '
            'layout: vertical secondary_info: state tap_action: action: toggle '
            'hold_action: action: toggle double_tap_action: action: toggle - '
            'type: custom:mushroom-entity-card entity: switch.bathroom_light '
            'name: 浴室灯 icon: mdi:bathtub icon_color: amber layout: vertical '
            'fill_container: true secondary_info: state tap_action: action: '
            'toggle hold_action: action: toggle double_tap_action: action: '
            'toggle - type: custom:mushroom-entity-card entity: '
            'switch.wall_switch_ln_right_158d0001ef5809 name: 走廊灯 icon: mdi '
            'utdoor-lamp icon_color: amber layout: vertical fill_container: '
            'true secondary_info: state tap_action: action: toggle '
            'hold_action: action: toggle double_tap_action: action: toggle - '
            'type: custom:mushroom-entity-card entity: switch.menkou_light '
            'name: 次卧灯 icon: mdi:bed icon_color: amber layout: vertical '
            'fill_container: true secondary_info: state tap_action: action: '
            'toggle hold_action: action: toggle double_tap_action: action: '
            'toggle - type: custom:mushroom-light-card entity: '
            'light.gateway_light_34ce0091ed6e name: 网关灯 fill_container: true '
            'secondary_info: state use_light_color: true '
            'show_brightness_control: true show_color_control: true '
            'show_color_temp_control: true collapsible_controls: false '
            'tap_action: action: toggle double_tap_action: action: more-info '
            'hold_action: action: more-info - type: custom:mushroom-light-card '
            'entity: light.tradfri_bulb name: 儿童房灯 icon: mdi:teddy-bear '
            'secondary_info: state show_color_temp_control: true '
            'show_brightness_control: true tap_action: action: toggle '
            'hold_action: action: more-info double_tap_action: action: '
            'more-info - theme: Backend-selected title: rooms path: devices '
            'icon: mdi:devices badges: [] cards: - type: vertical-stack cards: '
            '- type: custom:mushroom-chips-card chips: - type: back - type: '
            "action double_tap_action: action: navigate navigation_path: ' "
            "/dashboard-home/home' tap_action: action: navigate "
            "navigation_path: ' /dashboard-home/home' hold_action: action: "
            "navigate navigation_path: ' /dashboard-home/home' icon: "
            'mdi:home-account - type: action double_tap_action: action: '
            'navigate navigation_path: /dashboard-home/home icon: mdi:devices '
            'tap_action: action: navigate navigation_path: '
            '/dashboard-home/devices hold_action: action: navigate '
            'navigation_path: /dashboard-home/devices - type: '
            'custom:mushroom-title-card title: 灯光控制 - square: false columns: 2 '
            'type: grid cards: - type: custom:mushroom-entity-card entity: '
            'switch.wall_switch_ln_left_158d0001ef5809 name: 客厅灯 icon: '
            'mdi:chandelier layout: vertical fill_container: true '
            'secondary_info: state tap_action: action: toggle hold_action: '
            'action: toggle double_tap_action: action: toggle icon_color: '
            'amber - type: custom:mushroom-entity-card entity: '
            'switch.living_room_downlight name: 客厅筒灯 icon: mdi:track-light '
            'layout: vertical fill_container: true secondary_info: state '
            'tap_action: action: toggle hold_action: action: toggle '
            'double_tap_action: action: toggle icon_color: amber - type: '
            'custom:mushroom-entity-card entity: switch.dining_room_light '
            'name: 餐厅灯 icon: mdi:instrument-triangle layout: vertical '
            'fill_container: true secondary_info: state tap_action: action: '
            'toggle hold_action: action: toggle double_tap_action: action: '
            'toggle icon_color: amber - type: custom:mushroom-entity-card '
            'entity: switch.dining_room_downlight icon: mdi:track-light name: '
            '餐厅筒灯 icon_color: amber fill_container: true layout: vertical '
            'secondary_info: state tap_action: action: toggle hold_action: '
            'action: toggle double_tap_action: action: toggle - type: '
            'custom:mushroom-entity-card entity: switch.kitchen_light name: '
            '厨房灯 icon_color: amber fill_container: true icon: mdi:countertop '
            'layout: vertical secondary_info: state tap_action: action: toggle '
            'hold_action: action: toggle double_tap_action: action: toggle - '
            'type: custom:mushroom-entity-card entity: switch.bathroom_light '
            'name: 浴室灯 icon: mdi:bathtub icon_color: amber layout: vertical '
            'fill_container: true secondary_info: state tap_action: action: '
            'toggle hold_action: action: toggle double_tap_action: action: '
            'toggle - type: custom:mushroom-entity-card entity: '
            'switch.wall_switch_ln_right_158d0001ef5809 name: 走廊灯 icon: mdi '
            'utdoor-lamp icon_color: amber layout: vertical fill_container: '
            'true secondary_info: state tap_action: action: toggle '
            'hold_action: action: toggle double_tap_action: action: toggle - '
            'type: custom:mushroom-entity-card entity: switch.menkou_light '
            'name: 次卧灯 icon: mdi:bed icon_color: amber layout: vertical '
            'fill_container: true secondary_info: state tap_action: action: '
            'toggle hold_action: action: toggle double_tap_action: action: '
            'toggle - type: horizontal-stack cards: - type: '
            'custom:mushroom-light-card entity: '
            'light.gateway_light_34ce0091ed6e name: 网关灯 fill_container: true '
            'secondary_info: state use_light_color: true '
            'show_brightness_control: true show_color_control: true '
            'show_color_temp_control: true collapsible_controls: false '
            'tap_action: action: toggle double_tap_action: action: more-info '
            'hold_action: action: more-info - type: custom:mushroom-light-card '
            'entity: light.tradfri_bulb name: 儿童房灯 icon: mdi:teddy-bear '
            'secondary_info: state show_color_temp_control: true '
            'show_brightness_control: true tap_action: action: toggle '
            'hold_action: action: more-info double_tap_action: action: '
            'more-info - type: vertical-stack cards: - type: '
            'custom:mushroom-title-card title: 大门 - type: '
            'custom:mushroom-chips-card chips: - type: template entity: '
            'sensor.loock_v01_0d91_battery_level icon_color: &gt;- {% set '
            "level = states('sensor.loock_v01_0d91_battery_level') | int %} {% "
            'if level &gt; 0 and level &lt; 30 %} red {% elif level &gt; 31 '
            'and level &lt; 60 %} yellow {% elif level &gt; 61 and level &lt;= '
            '100 %} green {% endif %} icon: &gt;- {% set level = '
            "states('sensor.loock_v01_0d91_battery_level') | int /10 %} "
            'mdi:battery-{{level | int *10}} content: 猫眼电量:{{ '
            "states('sensor.loock_v01_0d91_battery_level') }}% - type: "
            'template double_tap_action: action: none icon: mdi:cat '
            "icon_color: yellow content: '{{ "
            'states(\'\'sensor.mi_27921171_message\'\').split(":")[1] }}\' '
            'tap_action: action: none hold_action: action: none - type: '
            'conditional conditions: - entity: '
            "binary_sensor.lumi_v2_716f_motion_sensor state: 'on' chip: type: "
            'entity entity: binary_sensor.lumi_v2_716f_motion_sensor '
            'use_entity_picture: false icon: mdi:motion-sensor content_info: '
            'none icon_color: green double_tap_action: action: none '
            'tap_action: action: none hold_action: action: none alignment: '
            'justify - type: custom:mushroom-entity-card entity: '
            'camera.loock_v01_0d91_video_doorbell name: 猫眼 secondary_info: '
            'state tap_action: action: call-service service: camera.turn_on '
            'data: {} target: entity_id: camera.loock_v01_0d91_video_doorbell '
            'double_tap_action: action: call-service service: camera.turn_off '
            'data: {} target: entity_id: camera.loock_v01_0d91_video_doorbell '
            'layout: horizontal fill_container: false - square: false columns: '
            '2 type: grid cards: - type: custom:mushroom-template-card '
            'primary: 门锁 secondary: |- {% if '
            "is_state('sensor.loock_v4_def2_door_state', 'stuck') %} 关闭 {% "
            'else %} 打开 {% endif %} icon: |- {% if '
            "is_state('sensor.loock_v4_def2_door_state', 'stuck') %} "
            'mdi:door-closed {% else %} mdi:door-open {% endif %} layout: '
            'vertical fill_container: false icon_color: |2- {% if '
            "is_state('sensor.loock_v4_def2_door_state', 'stuck') %} green {% "
            'else %} red {% endif %} multiline_secondary: true tap_action: '
            'action: none hold_action: action: none double_tap_action: action: '
            'none entity: sensor.loock_v4_def2_lock - type: '
            'custom:mushroom-template-card primary: 天地勾 secondary: &gt; {% set '
            "status = states('binary_sensor.loock_v4_def2_armed_state') %} {% "
            "if status == 'off' %} 收起 {% else %} 打开 {% endif %} icon: "
            'mdi:door-sliding-lock icon_color: green layout: vertical '
            'multiline_secondary: true tap_action: action: none hold_action: '
            'action: none double_tap_action: action: none - type: '
            'custom:mushroom-template-card primary: 电量:{{ '
            "states('sensor.loock_v4_def2_battery_level') }}% secondary: &gt;- "
            '更新时间: {{ '
            "as_timestamp(state_attr('sensor.loock_v4_def2_battery_level', "
            "'updated_time')) | timestamp_custom('%m-%d %H:%M:%S') }} icon: "
            "&gt;- {% set level = states('sensor.loock_v4_def2_battery_level') "
            '| int /10 %} mdi:battery-{{level | int *10}} entity: '
            "sensor.loock_v4_def2_battery_level badge_icon: '' layout: "
            'vertical fill_container: false multiline_secondary: false '
            'tap_action: action: more-info hold_action: action: none '
            'double_tap_action: action: none icon_color: &gt;- {% set level = '
            "states('sensor.loock_v4_def2_battery_level') | int %} {% if level "
            '&gt; 0 and level &lt; 30 %} red {% elif level &gt; 31 and level '
            '&lt; 60 %} yellow {% elif level &gt; 61 and level &lt;= 100 %} '
            'green {% endif %} - type: custom:mushroom-template-card primary: '
            "|- {% set action = states('sensor.loock_v4_def2_lock_action') %} "
            "{% if action == 'outside_unlock' %} 户外开锁 {% else %} 户内开锁 {% endif "
            '%} secondary: &gt;- {% set method = '
            "states('sensor.loock_v4_def2_lock') %} {% if method == "
            "'biological' %} 指纹开锁 {% else %} 密码开锁 {% endif %} {% set id = "
            "states('sensor.loock_v4_def2_lock_key_id') %} {% if id == '' %} "
            "杨威 {% elif id == ''%} 姥姥 {% elif id == ''%} 爷爷 {% elif id == "
            "'2147549185'%} 天骄 {% else%} 未知 {% endif %} {{ "
            "as_timestamp(state_attr('sensor.loock_v4_def2_lock', "
            "'timestamp')) | timestamp_custom('%m-%d %H:%M:%S') }} icon: "
            'mdi:lock-open-variant-outline icon_color: blue fill_container: '
            'false tap_action: action: none hold_action: action: none '
            'double_tap_action: action: none multiline_secondary: false '
            'layout: vertical - type: vertical-stack cards: - type: '
            'custom:mushroom-title-card title: 常用设备 - type: horizontal-stack '
            'cards: - type: custom:mushroom-entity-card entity: '
            'switch.la_ji_chu_li_qi_switch name: 垃圾处理器 tap_action: action: '
            'toggle hold_action: action: more-info double_tap_action: action: '
            'toggle layout: vertical icon: mdi:delete-circle-outline '
            'icon_color: cyan - type: custom:mushroom-entity-card entity: '
            'switch.benq name: 投影仪 secondary_info: state tap_action: action: '
            'toggle hold_action: action: more-info double_tap_action: action: '
            'toggle layout: vertical icon: mdi:projector icon_color: cyan - '
            'type: custom:mushroom-fan-card entity: fan.broan name: 新风 icon: '
            'mdi:fan icon_animation: true secondary_info: state '
            'show_percentage_control: true show_oscillate_control: true '
            'collapsible_controls: false tap_action: action: toggle '
            'hold_action: action: more-info double_tap_action: action: '
            'more-info - type: custom:mushroom-vacuum-card entity: '
            'vacuum.annie name: 扫地机 icon_animation: true secondary_info: state '
            'commands: - start_pause - stop - return_home tap_action: action: '
            'toggle double_tap_action: action: call-service service: '
            'vacuum.return_to_base data: {} target: entity_id: vacuum.annie - '
            'theme: Backend-selected title: living_room path: living-room '
            'icon: mdi:sofa badges: [] cards: - type: custom:swipe-card '
            'start_card: 1 parameters: roundLengths: true effect: coverflow '
            'speed: 650 spaceBetween: 20 threshold: 7 coverflowEffect: rotate: '
            '80 depth: 300 cards: - type: vertical-stack cards: - type: '
            'custom:mushroom-title-card title: 客厅 - type: horizontal-stack '
            'cards: - type: custom:mushroom-entity-card entity: '
            'switch.wall_switch_ln_left_158d0001ef5809 name: 客厅灯 icon: '
            'mdi:chandelier layout: vertical fill_container: true '
            'secondary_info: state tap_action: action: toggle hold_action: '
            'action: toggle double_tap_action: action: toggle icon_color: '
            'amber - type: custom:mushroom-entity-card entity: '
            'switch.living_room_downlight name: 客厅筒灯 icon: mdi:track-light '
            'layout: vertical fill_container: true secondary_info: state '
            'tap_action: action: toggle hold_action: action: toggle '
            'double_tap_action: action: toggle icon_color: amber - type: '
            'custom:mushroom-entity-card entity: switch.benq name: 投影仪 icon: '
            'mdi:projector icon_color: cyan layout: vertical secondary_info: '
            'state tap_action: action: toggle hold_action: action: more-info '
            'double_tap_action: action: more-info - type: '
            'custom:mushroom-cover-card entity: switch.chuang_lian name: 客厅窗帘 '
            'icon: mdi:curtains secondary_info: state show_position_control: '
            'false show_tilt_position_control: false show_buttons_control: '
            'true tap_action: action: toggle hold_action: action: more-info '
            'double_tap_action: action: more-info fill_container: true - type: '
            'custom:mini-graph-card entities: - entity: '
            'sensor.temperature_158d000255821c index: 0 name: 温度 - entity: '
            'sensor.humidity_158d000255821c index: 1 name: 湿度 hours_to_show: '
            '24 icon: mdi:sofa name: 客厅 show: labels: true labels_secondary: '
            'true - type: vertical-stack cards: - type: '
            'custom:mushroom-title-card title: 餐厅 - type: horizontal-stack '
            'cards: - type: custom:mushroom-entity-card entity: '
            'switch.dining_room_light name: 餐厅灯 icon: mdi:instrument-triangle '
            'layout: vertical fill_container: true secondary_info: state '
            'tap_action: action: toggle hold_action: action: toggle '
            'double_tap_action: action: toggle icon_color: amber - type: '
            'custom:mushroom-entity-card entity: switch.dining_room_downlight '
            'icon: mdi:track-light name: 餐厅筒灯 icon_color: amber '
            'fill_container: true layout: vertical secondary_info: state '
            'tap_action: action: toggle hold_action: action: toggle '
            'double_tap_action: action: toggle - type: '
            'custom:mushroom-fan-card entity: fan.broan name: 新风 '
            'icon_animation: true icon: mdi:fan fill_container: true '
            'secondary_info: state show_percentage_control: true '
            'collapsible_controls: false tap_action: action: toggle '
            'hold_action: action: more-info double_tap_action: action: '
            'more-info show_oscillate_control: true layout: horizontal - type: '
            'vertical-stack cards: - type: custom:mushroom-title-card title: '
            '厨房 - type: custom:mushroom-entity-card entity: '
            'switch.kitchen_light name: 厨房灯 icon_color: amber fill_container: '
            'false icon: mdi:countertop layout: horizontal secondary_info: '
            'state tap_action: action: toggle hold_action: action: toggle '
            'double_tap_action: action: toggle - type: '
            'custom:mushroom-entity-card entity: '
            'binary_sensor.switch_158d00022ac36b name: 厨房开关 icon: '
            'mdi:gesture-tap-button icon_color: teal secondary_info: state '
            'tap_action: action: toggle hold_action: action: toggle '
            'double_tap_action: action: toggle - type: '
            'custom:mushroom-entity-card entity: switch.la_ji_chu_li_qi_switch '
            'name: 垃圾处理器 icon: mdi:delete-circle-outline tap_action: action: '
            'toggle hold_action: action: toggle double_tap_action: action: '
            'toggle - type: vertical-stack cards: - type: '
            'custom:mushroom-title-card title: 浴室 - type: '
            'custom:mushroom-entity-card entity: switch.bathroom_light name: '
            '浴室灯 icon: mdi:bathtub icon_color: amber layout: vertical '
            'fill_container: true secondary_info: state tap_action: action: '
            'toggle hold_action: action: toggle double_tap_action: action: '
            'toggle - type: vertical-stack cards: - type: '
            'custom:mushroom-title-card title: 主卧 - type: '
            'custom:mini-graph-card entities: - entity: '
            'sensor.temperature_158d000254dc3c index: 0 name: 温度 - entity: '
            'sensor.humidity_158d000254dc3c index: 0 name: 湿度 show: labels: '
            'true labels_secondary: true name: 主卧 icon: mdi:thermometer-water '
            '- type: custom:mushroom-entity-card entity: cover.mr_bond name: '
            '晾衣架 icon_color: green secondary_info: state tap_action: action: '
            'toggle hold_action: action: more-info double_tap_action: action: '
            'more-info - type: custom:mushroom-light-card entity: '
            'light.mr_bond_led name: 晾衣架灯 tap_action: action: toggle - type: '
            'custom:mushroom-fan-card entity: fan.mr_bond_dry name: 晾衣架风扇 '
            'tap_action: action: toggle hold_action: action: more-info '
            'double_tap_action: action: more-info - type: vertical-stack '
            'cards: - type: custom:mushroom-title-card title: 次卧 - type: '
            'custom:mushroom-entity-card entity: switch.menkou_light name: 次卧灯 '
            'icon: mdi:bed icon_color: amber layout: vertical fill_container: '
            'true secondary_info: state tap_action: action: toggle '
            'hold_action: action: toggle double_tap_action: action: toggle - '
            'type: custom:mushroom-climate-card entity: climate.my_room_ac '
            'name: 次卧空调 fill_container: true secondary_info: state '
            'show_temperature_control: true collapsible_controls: false '
            'hvac_modes: - heat - cool tap_action: action: toggle hold_action: '
            'action: more-info double_tap_action: action: more-info - type: '
            'custom:mini-graph-card entities: - entity: '
            'sensor.temperature_158d00023acb29 index: 0 name: 温度 - entity: '
            'sensor.humidity_158d00023acb29 index: 1 name: 湿度 hours_to_show: '
            '24 icon: mdi:bed name: 次卧 show: labels: true labels_secondary: '
            'true - type: vertical-stack cards: - type: '
            'custom:mushroom-title-card title: 儿童房 - type: '
            'custom:mushroom-light-card entity: light.tradfri_bulb name: 儿童房灯 '
            'icon: mdi:teddy-bear layout: vertical show_color_temp_control: '
            'true show_brightness_control: true tap_action: action: toggle '
            'hold_action: action: more-info double_tap_action: action: '
            'more-info - entities: - entity: sensor.temperature_158d0001dcb293 '
            'index: 0 name: 温度 - entity: sensor.humidity_158d0001dcb293 index: '
            '1 name: 湿度 hours_to_show: 24 icon: mdi:human-female-girl name: '
            '安妮房间 show: labels: true labels_secondary: true type: '
            'custom:mini-graph-card - theme: Backend-selected title: media '
            'path: media icon: mdi:multimedia badges: [] cards: - type: '
            "markdown content: | ![{{ state_attr('sensor.plex_recently_added', "
            "'data')[1]['title'] }} ]({{ "
            "state_attr('sensor.plex_recently_added', 'data')[1]['poster'] }} "
            ') ## &lt;ha-icon icon="mdi:plex"&gt;&lt;/ha-icon&gt; 最近添加 ### {{ '
            "state_attr('sensor.plex_recently_added', 'data')[1]['title'] }} - "
            'type: custom:mushroom-media-player-card entity: '
            'media_player.plex_plex_web_chrome_windows_2 use_media_info: true '
            'show_volume_level: true media_controls: - on_off - shuffle - '
            'previous - play_pause_stop - next - repeat volume_controls: - '
            'volume_mute - volume_set - volume_buttons fill_container: true - '
            'type: vertical-stack cards: - type: custom:mushroom-title-card '
            'title: 每日一句 - type: markdown content: &gt; ## &lt;ha-icon '
            'icon="mdi:school-outline"&gt; &lt;/ha-icon&gt; 英语 '
            "*{{state_attr('sensor.daily_english', 'note') }}* "
            "*{{state_attr('sensor.daily_english', 'content') }}* [![aaa]({{ "
            "state_attr('sensor.daily_english', 'picture') }})]( {{ "
            "state_attr('sensor.daily_english', 'tts') }} ) - type: markdown "
            'content: &gt;- ## &lt;ha-icon '
            'icon="mdi:script-text-outline"&gt;&lt;/ha-icon&gt; 诗词 ### {{ '
            "state_attr('sensor.mei_ri_shi_ci', 'origin')['title'] }} #### {{ "
            "state_attr('sensor.mei_ri_shi_ci', 'origin')['dynasty'] }} {{ "
            "state_attr('sensor.mei_ri_shi_ci', 'origin')['author'] }} {% set "
            "content_list = state_attr('sensor.mei_ri_shi_ci', "
            "'origin')['content'] | list %} {% for content in "
            'content_list[0:10] %} *{{ content }}* {% endfor %} - type: '
            'markdown content: |- ## &lt;ha-icon icon="mdi:palette"&gt; '
            "&lt;/ha-icon&gt; 文物 ### {{state_attr('sensor.artifacts', "
            "'friendly_name')}} ### {{states('sensor.artifacts')}} "
            "*{{state_attr('sensor.artifacts', 'description')}}* "
            "![gugong]({{state_attr('sensor.artifacts', 'cover_image')}}) "
            '游客，如果您要查看本帖隐藏内容请 回复 有部分符号被自动转义了，各位注意 hass.yaml (59.41 KB, 下载次数: '
            '206) 2024-1-18 19:06 上传 点击文件名下载附件 (function(){var basePath = '
            "window.location.href.split('#')[0].split('/').pop();tocbot.init({tocSelector: "
            "'#markdown_toc_507227',contentSelector: "
            "'#postmessage_507227',headingSelector: 'h1, h2, "
            "h3',collapseDepth: 0,basePath: basePath});})();",
 'crawl_time': '2025-07-24T20:18:24.552889',
 'page_num': 1,
 'post_id': ['19349'],
 'post_time': '发表于 2023-1-27 11:20:14',
 'post_url': 'https://bbs.hassbian.com/thread-19349-1-1.html',
 'title': '使用mushroom lovelace在ui界面中配置dashboard'}
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:24 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_3
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/19349_使用mushroom lovelace在ui界面中配置dashboard/完整内容.txt (Floor: 3)
2025-07-24 20:18:24 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'ekingfan',
 'content': '本帖最后由 ekingfan 于 2023-1-27 22:12 编辑 谢谢先。type: '
            'custom:digital-clock 但时间日期怎么转成中文？要加代码？删除这个代码就是中文的， locale: cn '
            '但怎么怎么设置12小时？',
 'crawl_time': '2025-07-24T20:18:24.557664',
 'floor_num': 3,
 'post_id': ['19349'],
 'reply_id': ['post_507343'],
 'reply_time': '发表于 2023-1-27 21:50:50'}
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:24 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_5
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/19349_使用mushroom lovelace在ui界面中配置dashboard/完整内容.txt (Floor: 5)
2025-07-24 20:18:24 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'sorrypqa',
 'content': '我的天呀，天书般的配置，没有注释，完全看不懂。',
 'crawl_time': '2025-07-24T20:18:24.558325',
 'floor_num': 5,
 'post_id': ['19349'],
 'reply_id': ['post_507344'],
 'reply_time': '发表于 2023-1-27 22:00:13'}
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:24 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_7
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/19349_使用mushroom lovelace在ui界面中配置dashboard/完整内容.txt (Floor: 7)
2025-07-24 20:18:24 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'zhouxj',
 'content': '学习了，先收藏了，以后有空了再看',
 'crawl_time': '2025-07-24T20:18:24.558661',
 'floor_num': 7,
 'post_id': ['19349'],
 'reply_id': ['post_507351'],
 'reply_time': '发表于 2023-1-27 23:11:20'}
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:24 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_9
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/19349_使用mushroom lovelace在ui界面中配置dashboard/完整内容.txt (Floor: 9)
2025-07-24 20:18:24 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'powertnt',
 'content': '学习了，先收藏了',
 'crawl_time': '2025-07-24T20:18:24.558964',
 'floor_num': 9,
 'post_id': ['19349'],
 'reply_id': ['post_507389'],
 'reply_time': '发表于 2023-1-28 11:02:19'}
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:24 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_11
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/19349_使用mushroom lovelace在ui界面中配置dashboard/完整内容.txt (Floor: 11)
2025-07-24 20:18:24 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'MX10085',
 'content': '学习了，先收藏了',
 'crawl_time': '2025-07-24T20:18:24.559248',
 'floor_num': 11,
 'post_id': ['19349'],
 'reply_id': ['post_507435'],
 'reply_time': '发表于 2023-1-28 14:13:51'}
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:24 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_13
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/19349_使用mushroom lovelace在ui界面中配置dashboard/完整内容.txt (Floor: 13)
2025-07-24 20:18:24 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'angelyangw',
 'content': 'sorrypqa 发表于 2023-1-27 22:00 我的天呀，天书般的配置，没有注释，完全看不懂。 '
            '看着很复杂，其实所有内容都是图形化的 。。。我是从图形化那里直接copy出来的',
 'crawl_time': '2025-07-24T20:18:24.559527',
 'floor_num': 13,
 'post_id': ['19349'],
 'reply_id': ['post_507493'],
 'reply_time': '发表于 2023-1-28 20:24:10'}
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:24 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_15
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/19349_使用mushroom lovelace在ui界面中配置dashboard/完整内容.txt (Floor: 15)
2025-07-24 20:18:24 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'angelyangw',
 'content': 'ekingfan 发表于 2023-1-27 21:50 谢谢先。type: custom:digital-clock '
            '但时间日期怎么转成中文？要加代码？删除这个代码就是中文的，locale ... '
            'https://moment.github.io/luxon/# ... -strings-for-humans 按这里介绍的 '
            '如果你想12小时制 可以用hh 比如 timeFormat: hh:m:s',
 'crawl_time': '2025-07-24T20:18:24.559817',
 'floor_num': 15,
 'post_id': ['19349'],
 'reply_id': ['post_507494'],
 'reply_time': '发表于 2023-1-28 20:34:51'}
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:24 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_17
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/19349_使用mushroom lovelace在ui界面中配置dashboard/完整内容.txt (Floor: 17)
2025-07-24 20:18:24 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'ekingfan',
 'content': 'angelyangw 发表于 2023-1-28 20:34 '
            'https://moment.github.io/luxon/#/formatting?id=tolocalestring-strings-for-humans '
            '按这里介绍的 如果 ... 这个说明我看了， 但不知道怎么改。。。填写在哪里。。。',
 'crawl_time': '2025-07-24T20:18:24.560136',
 'floor_num': 17,
 'post_id': ['19349'],
 'reply_id': ['post_507517'],
 'reply_time': '发表于 2023-1-28 23:30:11'}
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:24 [forum_spider.pipelines] DEBUG: New reply accepted: 19349_19
2025-07-24 20:18:24 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/19349_使用mushroom lovelace在ui界面中配置dashboard/完整内容.txt (Floor: 19)
2025-07-24 20:18:24 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-19349-1-1.html>
{'author': 'astang',
 'content': '留言备用',
 'crawl_time': '2025-07-24T20:18:24.560424',
 'floor_num': 19,
 'post_id': ['19349'],
 'reply_id': ['post_507533'],
 'reply_time': '发表于 2023-1-29 08:51:38'}
2025-07-24 20:18:26 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:  119 ms | size: 13961 bytes
2025-07-24 20:18:26 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-29897-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:18:26 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-29897-1-1.html
2025-07-24 20:18:26 [forum_spider.spiders.hassbian_spider] INFO: Extracted 0 replies for post 29897
2025-07-24 20:18:26 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:18:26 [forum_spider.pipelines] INFO: New post accepted: 29897
2025-07-24 20:18:26 [forum_spider.pipelines] INFO: Post initialized: output/HomeAssistant综合讨论区/29897_分享自设计同时喂食笼中三只兔子喂食机，接入ha同时兼顾定时、离线喂食，ha挂了也不影/完整内容.txt
2025-07-24 20:18:26 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29897-1-1.html>
{'author': 'wangmucha',
 'content': 'ＰＳ：玩智能家居终极理想是啥？哈哈～自己设计自己想要的设备！ '
            '我家三只兔子是笼养的２只、散养的1只，我老婆大人要求兔子不让随便吃的，所以那种无限自动续粮的便宜的没电力结构的喂食器就不考虑了。 '
            '某宝上看了下大部分的喂食机都是其他种类的圆的颗粒的狗粮猫粮喂食机，而兔粮的机构上长条形的，那种为圆形设计的自动喂食机感觉容易卡粮，所以看了半天也看不下来，再加上我兔子有2只是笼养。 '
            '网上的多是散养的不适合笼养，找了半天找到一款一个兔子笼子的自动喂食机要快300了吧，三只要900，且得独立安装占地方。于是脑洞了下，能不能自己设计一款同时兼容三只兔子的喂食机呢？接入ha后就无敌了，然后我家5月底刚买了拓竹P1s带AMS的续料系统的活动价才3200多，还送小礼品+700元材料套件礼盒，以前都是4000-5000，果断买了，加上现学的fasion360，于是半个月后就诞生了一台支持同时喂食三只笼养兔子的自动喂食机，刷了tasmota接入ha，兼容定时、离线自动喂食，ha崩溃了不不怕，有ha功能更多，可以设置微信提现喂食以及喂食会tts音箱提醒兔子吃饭（TTS录制的是我儿子的声音 '
            '哈哈哈），也可以用esphome，不过我这环境编译esphome麻烦点，且我对esphome不熟悉就用了tasmota '
            '登录/注册后可看大图 192817c1e93f0fb118fd577a319123a.png (315.36 KB, 下载次数: '
            '0) 下载附件 半小时前 上传 登录/注册后可看大图 047988545eb074e00280227725ac41d.png '
            '(299.64 KB, 下载次数: 0) 下载附件 半小时前 上传 登录/注册后可看大图 '
            '747fa769fccbd82d906836faf1cf063.png (451.88 KB, 下载次数: 0) 下载附件 '
            '半小时前 上传 登录/注册后可看大图 c245c9ff6b08db53a937956ff7f3256.png (171.5 KB, '
            '下载次数: 0) 下载附件 半小时前 上传 登录/注册后可看大图 '
            'cf594aa63e945e9010975c62689b465.png (207.16 KB, 下载次数: 0) 下载附件 '
            '半小时前 上传 登录/注册后可看大图 776d587de609f6f8461a004c8807a57.png (387 KB, '
            '下载次数: 0) 下载附件 半小时前 上传 登录/注册后可看大图 '
            'da4e69f325c63b1c673b7cf31d77a95.png (880.48 KB, 下载次数: 0) 下载附件 '
            '半小时前 上传 登录/注册后可看大图 89d2d8c48565db4785f757c481c8cdf.png (880.88 '
            'KB, 下载次数: 0) 下载附件 半小时前 上传 登录/注册后可看大图 '
            'e465ee32b0c242a9b96649a87f1c639.png (374.51 KB, 下载次数: 0) 下载附件 '
            '半小时前 上传 .guestviewthumb {margin:10px auto; '
            'text-align:center;}.guestviewthumb a '
            '{font-size:12px;}.guestviewthumb_cur '
            '{cursor:url("https://www.hasstatic.com/image/common/scf.gif"), '
            'default; max-width:100px;}.ie6 .guestviewthumb_cur { width:100px '
            '!important;} 登录/注册后可看大图 1f8efc7c6daf84f3a2bacba63568e61.png '
            '(376.65 KB, 下载次数: 0) 下载附件 半小时前 上传 登录/注册后可看大图 '
            'dbbb18418f16251333b3570c8487071.png (90.99 KB, 下载次数: 0) 下载附件 半小时前 '
            '上传 登录/注册后可看大图 a6fccc32ed618867ff75da3233d9e35.png (78.06 KB, '
            '下载次数: 0) 下载附件 半小时前 上传 登录/注册后可看大图 '
            '870c24aabadcc2350ab7b8b2d176ffa.png (62.74 KB, 下载次数: 0) 下载附件 半小时前 '
            '上传',
 'crawl_time': '2025-07-24T20:18:26.574727',
 'page_num': 1,
 'post_id': ['29897'],
 'post_time': '发表于',
 'post_url': 'https://bbs.hassbian.com/thread-29897-1-1.html',
 'title': '分享自设计同时喂食笼中三只兔子喂食机，接入ha同时兼顾定时、离线喂食，ha挂了也不影'}
2025-07-24 20:18:28 [scrapy.extensions.throttle] INFO: slot: 198.18.1.174 | conc: 1 | delay: 2000 ms (+0) | latency:   31 ms | size: 16212 bytes
2025-07-24 20:18:28 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://bbs.hassbian.com/thread-29877-1-1.html> (referer: https://bbs.hassbian.com/forum-38-1.html)
2025-07-24 20:18:28 [forum_spider.spiders.hassbian_spider] INFO: Parsing post detail: https://bbs.hassbian.com/thread-29877-1-1.html
2025-07-24 20:18:28 [forum_spider.spiders.hassbian_spider] INFO: Extracted 9 replies for post 29877
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Item validated: PostItem
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: New post accepted: 29877
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Post initialized: output/HomeAssistant综合讨论区/29877_发现个主题很漂亮，想问问有没有谁知道他下方的导航栏是怎么实现的/完整内容.txt
2025-07-24 20:18:28 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': 'frx',
 'content': '如题 '
            'https://github.com/wessamlauf/homeassistant-frosted-glass-themes '
            '登录/注册后可看大图 468727332-98492b6c-8244-4bfc-ac47-f6ebaf089244.gif '
            '(4.85 MB, 下载次数: 1) 下载附件 前天 13:38 上传',
 'crawl_time': '2025-07-24T20:18:28.489558',
 'page_num': 1,
 'post_id': ['29877'],
 'post_time': '发表于',
 'post_url': 'https://bbs.hassbian.com/thread-29877-1-1.html',
 'title': '发现个主题很漂亮，想问问有没有谁知道他下方的导航栏是怎么实现的'}
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:28 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_3
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29877_发现个主题很漂亮，想问问有没有谁知道他下方的导航栏是怎么实现的/完整内容.txt (Floor: 3)
2025-07-24 20:18:28 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': '573176128',
 'content': '装了可以设置背景图的透明度，底部dock栏也不知道怎么实现',
 'crawl_time': '2025-07-24T20:18:28.491248',
 'floor_num': 3,
 'post_id': ['29877'],
 'reply_id': ['post_686793'],
 'reply_time': '发表于'}
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:28 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_5
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29877_发现个主题很漂亮，想问问有没有谁知道他下方的导航栏是怎么实现的/完整内容.txt (Floor: 5)
2025-07-24 20:18:28 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': 'XQapp',
 'content': '用的是navbar card⬇️ '
            'https://github.com/joseluis9595/lovelace-navbar-card 主题大概是Frosted '
            'Glass https://github.com/wessamlauf/ho ... ?tab=readme-ov-file '
            '.guestviewthumb {margin:10px auto; '
            'text-align:center;}.guestviewthumb a '
            '{font-size:12px;}.guestviewthumb_cur '
            '{cursor:url("https://www.hasstatic.com/image/common/scf.gif"), '
            'default; max-width:100px;}.ie6 .guestviewthumb_cur { width:100px '
            '!important;} 登录/注册后可看大图',
 'crawl_time': '2025-07-24T20:18:28.491829',
 'floor_num': 5,
 'post_id': ['29877'],
 'reply_id': ['post_686795'],
 'reply_time': '发表于'}
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:28 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_7
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29877_发现个主题很漂亮，想问问有没有谁知道他下方的导航栏是怎么实现的/完整内容.txt (Floor: 7)
2025-07-24 20:18:28 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': 'hassmingovo',
 'content': 'bubble card Horizontal buttons stack + 样式应该可以实现',
 'crawl_time': '2025-07-24T20:18:28.492178',
 'floor_num': 7,
 'post_id': ['29877'],
 'reply_id': ['post_686801'],
 'reply_time': '发表于'}
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:28 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_9
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29877_发现个主题很漂亮，想问问有没有谁知道他下方的导航栏是怎么实现的/完整内容.txt (Floor: 9)
2025-07-24 20:18:28 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': 'xiaomi2024',
 'content': '这个要用魔法才能访问吧?',
 'crawl_time': '2025-07-24T20:18:28.492470',
 'floor_num': 9,
 'post_id': ['29877'],
 'reply_id': ['post_686806'],
 'reply_time': '发表于'}
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:28 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_11
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29877_发现个主题很漂亮，想问问有没有谁知道他下方的导航栏是怎么实现的/完整内容.txt (Floor: 11)
2025-07-24 20:18:28 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': 'frx',
 'content': 'xiaomi2024 发表于 2025-7-22 14:50 这个要用魔法才能访问吧? 嗯，可以试试 '
            'https://gitee.com/klmahuaw/GitHub520',
 'crawl_time': '2025-07-24T20:18:28.492858',
 'floor_num': 11,
 'post_id': ['29877'],
 'reply_id': ['post_686818'],
 'reply_time': '发表于'}
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:28 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_13
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29877_发现个主题很漂亮，想问问有没有谁知道他下方的导航栏是怎么实现的/完整内容.txt (Floor: 13)
2025-07-24 20:18:28 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': '573176128',
 'content': 'Navbar Card，这个你看看是不是',
 'crawl_time': '2025-07-24T20:18:28.493142',
 'floor_num': 13,
 'post_id': ['29877'],
 'reply_id': ['post_686826'],
 'reply_time': '发表于'}
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:28 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_15
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29877_发现个主题很漂亮，想问问有没有谁知道他下方的导航栏是怎么实现的/完整内容.txt (Floor: 15)
2025-07-24 20:18:28 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': 'frx',
 'content': '573176128 发表于 2025-7-22 15:44 Navbar Card，这个你看看是不是 装上了，就是他，谢谢啦',
 'crawl_time': '2025-07-24T20:18:28.493412',
 'floor_num': 15,
 'post_id': ['29877'],
 'reply_id': ['post_686828'],
 'reply_time': '发表于'}
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:28 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_17
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29877_发现个主题很漂亮，想问问有没有谁知道他下方的导航栏是怎么实现的/完整内容.txt (Floor: 17)
2025-07-24 20:18:28 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': '冬暖夏凉',
 'content': 'xiaomi2024 发表于 2025-7-22 14:50 这个要用魔法才能访问吧? 微软商店搜watt '
            'toolkit，这个软件可以给github加速（免费）',
 'crawl_time': '2025-07-24T20:18:28.493678',
 'floor_num': 17,
 'post_id': ['29877'],
 'reply_id': ['post_686837'],
 'reply_time': '发表于'}
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Item validated: ReplyItem
2025-07-24 20:18:28 [forum_spider.pipelines] DEBUG: New reply accepted: 29877_19
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Reply appended to: output/HomeAssistant综合讨论区/29877_发现个主题很漂亮，想问问有没有谁知道他下方的导航栏是怎么实现的/完整内容.txt (Floor: 19)
2025-07-24 20:18:28 [scrapy.core.scraper] DEBUG: Scraped from <200 https://bbs.hassbian.com/thread-29877-1-1.html>
{'author': 'xiaomi2024',
 'content': '冬暖夏凉 发表于 2025-7-22 16:35 微软商店搜watt toolkit，这个软件可以给github加速（免费） '
            '这个太麻烦了. 还是gitee好用',
 'crawl_time': '2025-07-24T20:18:28.493947',
 'floor_num': 19,
 'post_id': ['29877'],
 'reply_id': ['post_687108'],
 'reply_time': '发表于'}
2025-07-24 20:18:28 [scrapy.core.engine] INFO: Closing spider (finished)
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Saved 10 posts and 82 replies to JSON files
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: TXT files saved in forum structure under: output/HomeAssistant综合讨论区
2025-07-24 20:18:28 [forum_spider.pipelines] INFO: Total posts processed in this session: 10
2025-07-24 20:18:28 [scrapy.extensions.feedexport] INFO: Stored json feed (10 items) in: output/posts.json
2025-07-24 20:18:28 [scrapy.extensions.feedexport] INFO: Stored json feed (82 items) in: output/replies.json
2025-07-24 20:18:28 [scrapy.extensions.feedexport] INFO: Stored csv feed (92 items) in: output/forum_data.csv
2025-07-24 20:18:28 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 4843,
 'downloader/request_count': 11,
 'downloader/request_method_count/GET': 11,
 'downloader/response_bytes': 226451,
 'downloader/response_count': 11,
 'downloader/response_status_count/200': 11,
 'elapsed_time_seconds': 18.439192,
 'feedexport/success_count/FileFeedStorage': 3,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2025, 7, 24, 12, 18, 28, 495612, tzinfo=datetime.timezone.utc),
 'httpcompression/response_bytes': 1161135,
 'httpcompression/response_count': 11,
 'item_scraped_count': 92,
 'items_per_minute': None,
 'log_count/DEBUG': 188,
 'log_count/INFO': 274,
 'log_count/WARNING': 2,
 'memusage/max': 74219520,
 'memusage/startup': 74219520,
 'request_depth_max': 1,
 'response_received_count': 11,
 'responses_per_minute': None,
 'scheduler/dequeued': 11,
 'scheduler/dequeued/memory': 11,
 'scheduler/enqueued': 11,
 'scheduler/enqueued/memory': 11,
 'start_time': datetime.datetime(2025, 7, 24, 12, 18, 10, 56420, tzinfo=datetime.timezone.utc)}
2025-07-24 20:18:28 [scrapy.core.engine] INFO: Spider closed (finished)
